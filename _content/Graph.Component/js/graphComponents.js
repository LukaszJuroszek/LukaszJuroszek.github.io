var graphComponents=function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){"use strict";
/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.21.0
 * @date    2017-10-12
 *
 * @license
 * Copyright (C) 2011-2017 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */var s;s=function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=123)}([function(t,e,i){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){e.__esModule=!0;var s,o=i(169),n=(s=o)&&s.__esModule?s:{default:s};e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),(0,n.default)(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}()},function(t,e,i){var s=r(i(77)),o=r(i(29)),n=r(i(8)),a=r(i(6));function r(t){return t&&t.__esModule?t:{default:t}}var h=i(9),l=i(157);function d(t,e,i,s){var o=!1;!0===s&&(o=null===e[i]&&void 0!==t[i]),o?delete t[i]:t[i]=e[i]}e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,i,s){if(e==t)return.5;var o=1/(e-t);return Math.max(0,(s-t)*o)},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){if(c.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return l.v4()},e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==(0,a.default)(t[i])&&(t[i]=e)},e.fillIfDefined=function(t,i){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in t)void 0!==i[o]&&(null===i[o]||"object"!==(0,a.default)(i[o])?d(t,i,o,s):"object"===(0,a.default)(t[o])&&e.fillIfDefined(t[o],i[o],s))},e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)s.hasOwnProperty(o)&&(t[o]=s[o])}return t},e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var s=2;s<arguments.length;s++)for(var o=arguments[s],n=0;n<t.length;n++){var a=t[n];o&&o.hasOwnProperty(a)&&(e[a]=o[a])}return e},e.selectiveDeepExtend=function(t,i,s){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(s))throw new TypeError("Arrays are not supported by deepExtend");for(var n=0;n<t.length;n++){var a=t[n];if(s.hasOwnProperty(a))if(s[a]&&s[a].constructor===Object)void 0===i[a]&&(i[a]={}),i[a].constructor===Object?e.deepExtend(i[a],s[a],!1,o):d(i,s,a,o);else{if(Array.isArray(s[a]))throw new TypeError("Arrays are not supported by deepExtend");d(i,s,a,o)}}return i},e.selectiveNotDeepExtend=function(t,i,s){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(s))throw new TypeError("Arrays are not supported by deepExtend");for(var n in s)if(s.hasOwnProperty(n)&&-1===t.indexOf(n))if(s[n]&&s[n].constructor===Object)void 0===i[n]&&(i[n]={}),i[n].constructor===Object?e.deepExtend(i[n],s[n]):d(i,s,n,o);else if(Array.isArray(s[n])){i[n]=[];for(var a=0;a<s[n].length;a++)i[n].push(s[n][a])}else d(i,s,n,o);return i},e.deepExtend=function(t,i){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var n in i)if(i.hasOwnProperty(n)||!0===s)if(i[n]&&i[n].constructor===Object)void 0===t[n]&&(t[n]={}),t[n].constructor===Object?e.deepExtend(t[n],i[n],s):d(t,i,n,o);else if(Array.isArray(i[n])){t[n]=[];for(var a=0;a<i[n].length;a++)t[n].push(i[n][a])}else d(t,i,n,o);return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,s=t.length;i<s;i++)if(t[i]!=e[i])return!1;return!0},e.convert=function(t,i){var s;if(void 0!==t){if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return e.isString(t)&&!isNaN(Date.parse(t))?h(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(h.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return(s=c.exec(t))?new Date(Number(s[1])):h(new Date(t)).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return h(t);if(t instanceof Date)return h(t.valueOf());if(h.isMoment(t))return h(t);if(e.isString(t))return s=c.exec(t),h(s?Number(s[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(h.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return(s=c.exec(t))?new Date(Number(s[1])).toISOString():h(t).format();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t))return"/Date("+((s=c.exec(t))?new Date(Number(s[1])).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var c=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e=void 0===t?"undefined":(0,a.default)(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var i=[],s=0;s<t.length;s++)i.push(t[s]);return i.push(e),i},e.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var i=t.className.split(" "),s=e.split(" ");i=i.concat(s.filter((function(t){return i.indexOf(t)<0}))),t.className=i.join(" ")},e.removeClassName=function(t,e){var i=t.className.split(" "),s=e.split(" ");i=i.filter((function(t){return s.indexOf(t)<0})),t.className=i.join(" ")},e.forEach=function(t,e){var i,s;if(Array.isArray(t))for(i=0,s=t.length;i<s;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.updateProperty=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},e.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame((function(){e=!1,t()})))}},e.addEventListener=function(t,e,i,s){t.addEventListener?(void 0===s&&(s=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,s)):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i,s){t.removeEventListener?(void 0===s&&(s=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,s)):t.detachEvent("on"+e,i)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){var e;return t||(t=window.event),t.target?e=t.target:t.srcElement&&(e=t.srcElement),null!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,i){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":i||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,s){return e+e+i+i+s+s}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},e.overrideOpacity=function(t,i){var s;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?"rgba("+(s=t.substr(t.indexOf("(")+1).replace(")","").split(","))[0]+","+s[1]+","+s[2]+","+i+")":null==(s=e.hexToRGB(t))?t:"rgba("+s.r+","+s.g+","+s.b+","+i+")"},e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},e.parseColor=function(t){var i;if(!0===e.isString(t)){if(!0===e.isValidRGB(t)){var s=t.substr(4).substr(0,t.length-5).split(",").map((function(t){return parseInt(t)}));t=e.RGBToHex(s[0],s[1],s[2])}if(!0===e.isValidHex(t)){var o=e.hexToHSV(t),n={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},a={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},r=e.HSVToHex(a.h,a.s,a.v),h=e.HSVToHex(n.h,n.s,n.v);i={background:t,border:r,highlight:{background:h,border:r},hover:{background:h,border:r}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else(i={}).background=t.background||void 0,i.border=t.border||void 0,e.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0);return i},e.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var s=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));return s==o?{h:0,s:0,v:s}:{h:60*((t==s?3:i==s?1:5)-(t==s?e-i:i==s?t-e:i-t)/(o-s))/360,s:(o-s)/o,v:o}};var u=function(t){var e={};return t.split(";").forEach((function(t){if(""!=t.trim()){var i=t.split(":"),s=i[0].trim(),o=i[1].trim();e[s]=o}})),e},p=function(t){return(0,n.default)(t).map((function(e){return e+": "+t[e]})).join("; ")};e.addCssText=function(t,i){var s=u(t.style.cssText),o=u(i),n=e.extend(s,o);t.style.cssText=p(n)},e.removeCssText=function(t,e){var i=u(t.style.cssText),s=u(e);for(var o in s)s.hasOwnProperty(o)&&delete i[o];t.style.cssText=p(i)},e.HSVToRGB=function(t,e,i){var s,o,n,a=Math.floor(6*t),r=6*t-a,h=i*(1-e),l=i*(1-r*e),d=i*(1-(1-r)*e);switch(a%6){case 0:s=i,o=d,n=h;break;case 1:s=l,o=i,n=h;break;case 2:s=h,o=i,n=d;break;case 3:s=h,o=l,n=i;break;case 4:s=d,o=h,n=i;break;case 5:s=i,o=h,n=l}return{r:Math.floor(255*s),g:Math.floor(255*o),b:Math.floor(255*n)}},e.HSVToHex=function(t,i,s){var o=e.HSVToRGB(t,i,s);return e.RGBToHex(o.r,o.g,o.b)},e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)},e.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},e.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},e.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},e.selectiveBridgeObject=function(t,i){if(null!==i&&"object"===(void 0===i?"undefined":(0,a.default)(i))){for(var s=(0,o.default)(i),n=0;n<t.length;n++)i.hasOwnProperty(t[n])&&"object"==(0,a.default)(i[t[n]])&&(s[t[n]]=e.bridgeObject(i[t[n]]));return s}return null},e.bridgeObject=function(t){if(null!==t&&"object"===(void 0===t?"undefined":(0,a.default)(t))){var i=(0,o.default)(t);if(t instanceof Element)i=t;else for(var s in i=(0,o.default)(t),t)t.hasOwnProperty(s)&&"object"==(0,a.default)(t[s])&&(i[s]=e.bridgeObject(t[s]));return i}return null},e.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var s=t[i],o=i;o>0&&e(s,t[o-1])<0;o--)t[o]=t[o-1];t[o]=s}return t},e.mergeOptions=function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=function(t){return null!=t},r=function(t){return null!==t&&"object"===(void 0===t?"undefined":(0,a.default)(t))},h=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};if(!r(t))throw new Error("Parameter mergeTarget must be an object");if(!r(e))throw new Error("Parameter options must be an object");if(!n(i))throw new Error("Parameter option must have a value");if(!r(s))throw new Error("Parameter globalOptions must be an object");var l=function(t,e,i){r(t[i])||(t[i]={});var s=e[i],o=t[i];for(var n in s)s.hasOwnProperty(n)&&(o[n]=s[n])},d=e[i],c=r(s)&&!h(s),u=c?s[i]:void 0,p=u?u.enabled:void 0;if(void 0!==d){if("boolean"==typeof d)return r(t[i])||(t[i]={}),void(t[i].enabled=d);if(null===d&&!r(t[i])){if(!n(u))return;t[i]=(0,o.default)(u)}if(r(d)){var m=!0;void 0!==d.enabled?m=d.enabled:void 0!==p&&(m=u.enabled),l(t,e,i),t[i].enabled=m}}},e.binarySearchCustom=function(t,e,i,s){for(var o=0,n=0,a=t.length-1;n<=a&&o<1e4;){var r=Math.floor((n+a)/2),h=t[r],l=e(void 0===s?h[i]:h[i][s]);if(0==l)return r;-1==l?n=r+1:a=r-1,o++}return-1},e.binarySearchValue=function(t,e,i,s,o){var n,a,r,h,l=0,d=0,c=t.length-1;for(o=null!=o?o:function(t,e){return t==e?0:t<e?-1:1};d<=c&&l<1e4;){if(h=Math.floor(.5*(c+d)),n=t[Math.max(0,h-1)][i],a=t[h][i],r=t[Math.min(t.length-1,h+1)][i],0==o(a,e))return h;if(o(n,e)<0&&o(a,e)>0)return"before"==s?Math.max(0,h-1):h;if(o(a,e)<0&&o(r,e)>0)return"before"==s?h:Math.min(t.length-1,h+1);o(a,e)<0?d=h+1:c=h-1,l++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},e.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var s=t.offsetWidth;return i==s&&(s=e.clientWidth),document.body.removeChild(e),i-s},e.topMost=function(t,e){var i=void 0;Array.isArray(e)||(e=[e]);var o=!0,n=!1,a=void 0;try{for(var r,h=(0,s.default)(t);!(o=(r=h.next()).done);o=!0){var l=r.value;if(l){i=l[e[0]];for(var d=1;d<e.length;d++)i&&(i=i[e[d]]);if(void 0!==i)break}}}catch(t){n=!0,a=t}finally{try{!o&&h.return&&h.return()}finally{if(n)throw a}}return i}},function(t,e,i){t.exports={default:i(194),__esModule:!0}},function(t,e,i){e.__esModule=!0;var s,o=i(6),n=(s=o)&&s.__esModule?s:{default:s};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,n.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){e.__esModule=!0;var s=a(i(196)),o=a(i(29)),n=a(i(6));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,n.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.default?(0,s.default)(t,e):t.__proto__=e)}},function(t,e,i){e.__esModule=!0;var s=a(i(142)),o=a(i(144)),n="function"==typeof o.default&&"symbol"==typeof s.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===n(s.default)?function(t){return void 0===t?"undefined":n(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":n(t)}},function(t,e){var i=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(t,e,i){t.exports={default:i(140),__esModule:!0}},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(154)},function(t,e,i){if("undefined"!=typeof window){var s=i(175),o=window.Hammer||i(176);t.exports=s(o,{preventDefault:"mouse"})}else t.exports=function(){return{on:t=function(){},off:t,destroy:t,emit:t,get:function(e){return{set:t}}};var t}},function(t,e,i){var s=a(i(19)),o=a(i(6)),n=a(i(8));function a(t){return t&&t.__esModule?t:{default:t}}var r=i(2),h=i(43);function l(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=(0,n.default)(this._options.type),s=0,o=i.length;s<o;s++){var a=i[s],r=this._options.type[a];this._type[a]="Date"==r||"ISODate"==r||"ASPDate"==r?"Date":r}this._subscribers={},t&&this.add(t),this.setOptions(e)}l.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=h.extend(this,{replace:["add","update","remove"]})),"object"===(0,o.default)(t.queue)&&this._queue.setOptions(t.queue)))},l.prototype.on=function(t,e){var i=this._subscribers[t];i||(i=[],this._subscribers[t]=i),i.push({callback:e})},l.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter((function(t){return t.callback!=e})))},l.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var s=[];t in this._subscribers&&(s=s.concat(this._subscribers[t])),"*"in this._subscribers&&(s=s.concat(this._subscribers["*"]));for(var o=0,n=s.length;o<n;o++){var a=s[o];a.callback&&a.callback(t,e,i||null)}},l.prototype.add=function(t,e){var i,s=[];if(Array.isArray(t))for(var n=0,a=t.length;n<a;n++)i=this._addItem(t[n]),s.push(i);else{if(!t||"object"!==(void 0===t?"undefined":(0,o.default)(t)))throw new Error("Unknown dataType");i=this._addItem(t),s.push(i)}return s.length&&this._trigger("add",{items:s},e),s},l.prototype.update=function(t,e){var i=[],s=[],n=[],a=[],h=this,l=h._fieldId,d=function(t){var e=t[l];if(h._data[e]){var o=r.extend({},h._data[e]);e=h._updateItem(t),s.push(e),a.push(t),n.push(o)}else e=h._addItem(t),i.push(e)};if(Array.isArray(t))for(var c=0,u=t.length;c<u;c++)t[c]&&"object"===(0,o.default)(t[c])?d(t[c]):console.warn("Ignoring input item, which is not an object at index "+c);else{if(!t||"object"!==(void 0===t?"undefined":(0,o.default)(t)))throw new Error("Unknown dataType");d(t)}if(i.length&&this._trigger("add",{items:i},e),s.length){var p={items:s,oldData:n,data:a};this._trigger("update",p,e)}return i.concat(s)},l.prototype.get=function(t){var e,i,s,o,a=this,h=r.getType(arguments[0]);if("String"==h||"Number"==h?(e=arguments[0],s=arguments[1]):"Array"==h?(i=arguments[0],s=arguments[1]):s=arguments[0],s&&s.returnType){var l=["Array","Object"];o=-1==l.indexOf(s.returnType)?"Array":s.returnType}else o="Array";var d,c,u,p,m,f=s&&s.type||this._options.type,g=s&&s.filter,v=[];if(null!=e)(d=a._getItem(e,f))&&g&&!g(d)&&(d=null);else if(null!=i)for(p=0,m=i.length;p<m;p++)d=a._getItem(i[p],f),g&&!g(d)||v.push(d);else for(p=0,m=(c=(0,n.default)(this._data)).length;p<m;p++)u=c[p],d=a._getItem(u,f),g&&!g(d)||v.push(d);if(s&&s.order&&null==e&&this._sort(v,s.order),s&&s.fields){var y=s.fields;if(null!=e)d=this._filterFields(d,y);else for(p=0,m=v.length;p<m;p++)v[p]=this._filterFields(v[p],y)}if("Object"==o){var b,x={};for(p=0,m=v.length;p<m;p++)x[(b=v[p]).id]=b;return x}return null!=e?d:v},l.prototype.getIds=function(t){var e,i,s,o,a,r=this._data,h=t&&t.filter,l=t&&t.order,d=t&&t.type||this._options.type,c=(0,n.default)(r),u=[];if(h)if(l){for(a=[],e=0,i=c.length;e<i;e++)s=c[e],h(o=this._getItem(s,d))&&a.push(o);for(this._sort(a,l),e=0,i=a.length;e<i;e++)u.push(a[e][this._fieldId])}else for(e=0,i=c.length;e<i;e++)s=c[e],h(o=this._getItem(s,d))&&u.push(o[this._fieldId]);else if(l){for(a=[],e=0,i=c.length;e<i;e++)s=c[e],a.push(r[s]);for(this._sort(a,l),e=0,i=a.length;e<i;e++)u.push(a[e][this._fieldId])}else for(e=0,i=c.length;e<i;e++)o=r[s=c[e]],u.push(o[this._fieldId]);return u},l.prototype.getDataSet=function(){return this},l.prototype.forEach=function(t,e){var i,s,o,a,r=e&&e.filter,h=e&&e.type||this._options.type,l=this._data,d=(0,n.default)(l);if(e&&e.order){var c=this.get(e);for(i=0,s=c.length;i<s;i++)t(o=c[i],a=o[this._fieldId])}else for(i=0,s=d.length;i<s;i++)a=d[i],o=this._getItem(a,h),r&&!r(o)||t(o,a)},l.prototype.map=function(t,e){var i,s,o,a,r=e&&e.filter,h=e&&e.type||this._options.type,l=[],d=this._data,c=(0,n.default)(d);for(i=0,s=c.length;i<s;i++)o=c[i],a=this._getItem(o,h),r&&!r(a)||l.push(t(a,o));return e&&e.order&&this._sort(l,e.order),l},l.prototype._filterFields=function(t,e){if(!t)return t;var i,s,o={},a=(0,n.default)(t),r=a.length;if(Array.isArray(e))for(i=0;i<r;i++)s=a[i],-1!=e.indexOf(s)&&(o[s]=t[s]);else for(i=0;i<r;i++)s=a[i],e.hasOwnProperty(s)&&(o[e[s]]=t[s]);return o},l.prototype._sort=function(t,e){if(r.isString(e)){var i=e;t.sort((function(t,e){var s=t[i],o=e[i];return s>o?1:s<o?-1:0}))}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},l.prototype.remove=function(t,e){var i,s,o,n,a,r=[],h=[];for(s=0,o=(i=Array.isArray(t)?t:[t]).length;s<o;s++)(a=this._remove(i[s]))&&null!=(n=a[this._fieldId])&&(r.push(n),h.push(a));return r.length&&this._trigger("remove",{items:r,oldData:h},e),r},l.prototype._remove=function(t){var e,i;return r.isNumber(t)||r.isString(t)?i=t:t&&"object"===(void 0===t?"undefined":(0,o.default)(t))&&(i=t[this._fieldId]),void 0!==i&&this._data[i]?(e=this._data[i],delete this._data[i],this.length--,e):null},l.prototype.clear=function(t){var e,i,s=(0,n.default)(this._data),o=[];for(e=0,i=s.length;e<i;e++)o.push(this._data[s[e]]);return this._data={},this.length=0,this._trigger("remove",{items:s,oldData:o},t),s},l.prototype.max=function(t){var e,i,s=this._data,o=(0,n.default)(s),a=null,r=null;for(e=0,i=o.length;e<i;e++){var h=s[o[e]],l=h[t];null!=l&&(!a||l>r)&&(a=h,r=l)}return a},l.prototype.min=function(t){var e,i,s=this._data,o=(0,n.default)(s),a=null,r=null;for(e=0,i=o.length;e<i;e++){var h=s[o[e]],l=h[t];null!=l&&(!a||l<r)&&(a=h,r=l)}return a},l.prototype.distinct=function(t){var e,i,s,o=this._data,a=(0,n.default)(o),h=[],l=this._options.type&&this._options.type[t]||null,d=0;for(e=0,s=a.length;e<s;e++){var c=o[a[e]][t],u=!1;for(i=0;i<d;i++)if(h[i]==c){u=!0;break}u||void 0===c||(h[d]=c,d++)}if(l)for(e=0,s=h.length;e<s;e++)h[e]=r.convert(h[e],l);return h},l.prototype._addItem=function(t){var e=t[this._fieldId];if(null!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=r.randomUUID(),t[this._fieldId]=e;var i,s,o={},a=(0,n.default)(t);for(i=0,s=a.length;i<s;i++){var h=a[i],l=this._type[h];o[h]=r.convert(t[h],l)}return this._data[e]=o,this.length++,e},l.prototype._getItem=function(t,e){var i,s,o,a,h=this._data[t];if(!h)return null;var l={},d=(0,n.default)(h);if(e)for(o=0,a=d.length;o<a;o++)s=h[i=d[o]],l[i]=r.convert(s,e[i]);else for(o=0,a=d.length;o<a;o++)s=h[i=d[o]],l[i]=s;return l[this._fieldId]||(l[this._fieldId]=h.id),l},l.prototype._updateItem=function(t){var e=t[this._fieldId];if(null==e)throw new Error("Cannot update item: item has no id (item: "+(0,s.default)(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var o=(0,n.default)(t),a=0,h=o.length;a<h;a++){var l=o[a],d=this._type[l];i[l]=r.convert(t[l],d)}return e},t.exports=l},function(t,e,i){var s,o=i(8),n=(s=o)&&s.__esModule?s:{default:s},a=i(2),r=i(11);function h(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}h.prototype.setData=function(t){var e,i,s,o,n;if(this._data){for(this._data.off&&this._data.off("*",this.listener),n=[],s=0,o=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;s<o;s++)n.push(this._data._data[e[s]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:n})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",s=0,o=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;s<o;s++)i=e[s],this._ids[i]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},h.prototype.refresh=function(){var t,e,i,s=this._data.getIds({filter:this._options&&this._options.filter}),o=(0,n.default)(this._ids),a={},r=[],h=[],l=[];for(e=0,i=s.length;e<i;e++)a[t=s[e]]=!0,this._ids[t]||(r.push(t),this._ids[t]=!0);for(e=0,i=o.length;e<i;e++)a[t=o[e]]||(h.push(t),l.push(this._data._data[t]),delete this._ids[t]);this.length+=r.length-h.length,r.length&&this._trigger("add",{items:r}),h.length&&this._trigger("remove",{items:h,oldData:l})},h.prototype.get=function(t){var e,i,s,o=this,n=a.getType(arguments[0]);"String"==n||"Number"==n||"Array"==n?(e=arguments[0],i=arguments[1],s=arguments[2]):(i=arguments[0],s=arguments[1]);var r=a.extend({},this._options,i);this._options.filter&&i&&i.filter&&(r.filter=function(t){return o._options.filter(t)&&i.filter(t)});var h=[];return null!=e&&h.push(e),h.push(r),h.push(s),this._data&&this._data.get.apply(this._data,h)},h.prototype.getIds=function(t){var e;if(this._data){var i,s=this._options.filter;i=t&&t.filter?s?function(e){return s(e)&&t.filter(e)}:t.filter:s,e=this._data.getIds({filter:i,order:t&&t.order})}else e=[];return e},h.prototype.map=function(t,e){var i=[];if(this._data){var s,o=this._options.filter;s=e&&e.filter?o?function(t){return o(t)&&e.filter(t)}:e.filter:o,i=this._data.map(t,{filter:s,order:e&&e.order})}else i=[];return i},h.prototype.getDataSet=function(){for(var t=this;t instanceof h;)t=t._data;return t||null},h.prototype._onEvent=function(t,e,i){var s,o,n,a=e&&e.items,r=[],h=[],l=[],d=[],c=[],u=[];if(a&&this._data){switch(t){case"add":for(s=0,o=a.length;s<o;s++)n=a[s],this.get(n)&&(this._ids[n]=!0,r.push(n));break;case"update":for(s=0,o=a.length;s<o;s++)n=a[s],this.get(n)?this._ids[n]?(h.push(n),c.push(e.data[s]),d.push(e.oldData[s])):(this._ids[n]=!0,r.push(n)):this._ids[n]&&(delete this._ids[n],l.push(n),u.push(e.oldData[s]));break;case"remove":for(s=0,o=a.length;s<o;s++)n=a[s],this._ids[n]&&(delete this._ids[n],l.push(n),u.push(e.oldData[s]))}this.length+=r.length-l.length,r.length&&this._trigger("add",{items:r},i),h.length&&this._trigger("update",{items:h,oldData:d,data:c},i),l.length&&this._trigger("remove",{items:l,oldData:u},i)}},h.prototype.on=r.prototype.on,h.prototype.off=r.prototype.off,h.prototype._trigger=r.prototype._trigger,h.prototype.subscribe=h.prototype.on,h.prototype.unsubscribe=h.prototype.off,t.exports=h},function(t,e,i){var s=i(57)("wks"),o=i(40),n=i(18).Symbol,a="function"==typeof n;(t.exports=function(t){return s[t]||(s[t]=a&&n[t]||(a?n:o)("Symbol."+t))}).store=s},function(t,e,i){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var s;return e.hasOwnProperty(t)?e[t].redundant.length>0?(s=e[t].redundant[0],e[t].redundant.shift()):(s=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(s)):(s=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(s)),e[t].used.push(s),s},e.getDOMElement=function(t,e,i,s){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==s?i.insertBefore(o,s):i.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==s?i.insertBefore(o,s):i.appendChild(o)),e[t].used.push(o),o},e.drawPoint=function(t,i,s,o,n,a){var r;if("circle"==s.style?((r=e.getSVGElement("circle",o,n)).setAttributeNS(null,"cx",t),r.setAttributeNS(null,"cy",i),r.setAttributeNS(null,"r",.5*s.size)):((r=e.getSVGElement("rect",o,n)).setAttributeNS(null,"x",t-.5*s.size),r.setAttributeNS(null,"y",i-.5*s.size),r.setAttributeNS(null,"width",s.size),r.setAttributeNS(null,"height",s.size)),void 0!==s.styles&&r.setAttributeNS(null,"style",s.styles),r.setAttributeNS(null,"class",s.className+" vis-point"),a){var h=e.getSVGElement("text",o,n);a.xOffset&&(t+=a.xOffset),a.yOffset&&(i+=a.yOffset),a.content&&(h.textContent=a.content),a.className&&h.setAttributeNS(null,"class",a.className+" vis-label"),h.setAttributeNS(null,"x",t),h.setAttributeNS(null,"y",i)}return r},e.drawBar=function(t,i,s,o,n,a,r,h){if(0!=o){o<0&&(i-=o*=-1);var l=e.getSVGElement("rect",a,r);l.setAttributeNS(null,"x",t-.5*s),l.setAttributeNS(null,"y",i),l.setAttributeNS(null,"width",s),l.setAttributeNS(null,"height",o),l.setAttributeNS(null,"class",n),h&&l.setAttributeNS(null,"style",h)}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.printStyle=void 0;var s=h(i(19)),o=h(i(6)),n=h(i(8)),a=h(i(0)),r=h(i(1));function h(t){return t&&t.__esModule?t:{default:t}}var l=i(2),d=!1,c=void 0,u="background: #FFeeee; color: #dd0000",p=function(){function t(){(0,a.default)(this,t)}return(0,r.default)(t,null,[{key:"validate",value:function(e,i,s){d=!1,c=i;var o=i;return void 0!==s&&(o=i[s]),t.parse(e,o,[]),d}},{key:"parse",value:function(e,i,s){for(var o in e)e.hasOwnProperty(o)&&t.check(o,e,i,s)}},{key:"check",value:function(e,i,s,o){if(void 0!==s[e]||void 0!==s.__any__){var n=e,a=!0;void 0===s[e]&&void 0!==s.__any__&&(n="__any__",a="object"===t.getType(i[e]));var r=s[n];a&&void 0!==r.__type__&&(r=r.__type__),t.checkFields(e,i,s,n,r,o)}else t.getSuggestion(e,s,o)}},{key:"checkFields",value:function(e,i,s,o,a,r){var h=function(i){console.log("%c"+i+t.printLocation(r,e),u)},c=t.getType(i[e]),p=a[c];void 0!==p?"array"===t.getType(p)&&-1===p.indexOf(i[e])?(h('Invalid option detected in "'+e+'". Allowed values are:'+t.print(p)+' not "'+i[e]+'". '),d=!0):"object"===c&&"__any__"!==o&&(r=l.copyAndExtendArray(r,e),t.parse(i[e],s[o],r)):void 0===a.any&&(h('Invalid type received for "'+e+'". Expected: '+t.print((0,n.default)(a))+". Received ["+c+'] "'+i[e]+'"'),d=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":(0,o.default)(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,s){var o=t.findInOptions(e,i,s,!1),a=t.findInOptions(e,c,[],!0),r=void 0;r=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':a.distance<=4&&o.distance>a.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(a.path,a.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print((0,n.default)(i))+t.printLocation(s,e),console.log('%cUnknown option detected: "'+e+'"'+r,u),d=!0}},{key:"findInOptions",value:function(e,i,s){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=1e9,a="",r=[],h=e.toLowerCase(),d=void 0;for(var c in i){var u=void 0;if(void 0!==i[c].__type__&&!0===o){var p=t.findInOptions(e,i[c],l.copyAndExtendArray(s,c));n>p.distance&&(a=p.closestMatch,r=p.path,n=p.distance,d=p.indexMatch)}else-1!==c.toLowerCase().indexOf(h)&&(d=c),n>(u=t.levenshteinDistance(e,c))&&(a=c,r=l.copyArray(s),n=u)}return{closestMatch:a,path:r,distance:n,indexMatch:d}}},{key:"printLocation",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",s="\n\n"+i+"options = {\n",o=0;o<t.length;o++){for(var n=0;n<o+1;n++)s+="  ";s+=t[o]+": {\n"}for(var a=0;a<t.length+1;a++)s+="  ";s+=e+"\n";for(var r=0;r<t.length+1;r++){for(var h=0;h<t.length-r;h++)s+="  ";s+="}\n"}return s+"\n\n"}},{key:"print",value:function(t){return(0,s.default)(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,s,o=[];for(i=0;i<=e.length;i++)o[i]=[i];for(s=0;s<=t.length;s++)o[0][s]=s;for(i=1;i<=e.length;i++)for(s=1;s<=t.length;s++)e.charAt(i-1)==t.charAt(s-1)?o[i][s]=o[i-1][s-1]:o[i][s]=Math.min(o[i-1][s-1]+1,Math.min(o[i][s-1]+1,o[i-1][s]+1));return o[e.length][t.length]}}]),t}();e.default=p,e.printStyle=u},function(t,e,i){var s=i(2);function o(t,e){this.options=null,this.props=null}o.prototype.setOptions=function(t){t&&s.extend(this.options,t)},o.prototype.redraw=function(){return!1},o.prototype.destroy=function(){},o.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=o},function(t,e,i){var s=i(18),o=i(7),n=i(80),a=i(26),r=function(t,e,i){var h,l,d,c=t&r.F,u=t&r.G,p=t&r.S,m=t&r.P,f=t&r.B,g=t&r.W,v=u?o:o[e]||(o[e]={}),y=v.prototype,b=u?s:p?s[e]:(s[e]||{}).prototype;for(h in u&&(i=e),i)(l=!c&&b&&void 0!==b[h])&&h in v||(d=l?b[h]:i[h],v[h]=u&&"function"!=typeof b[h]?i[h]:f&&l?n(d,s):g&&b[h]==d?function(t){var e=function(e,i,s){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,s)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(d):m&&"function"==typeof d?n(Function.call,d):d,m&&((v.virtual||(v.virtual={}))[h]=d,t&r.R&&y&&!y[h]&&a(y,h,d)))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,r.U=64,r.R=128,t.exports=r},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){t.exports={default:i(160),__esModule:!0}},function(t,e,i){var s=i(27),o=i(81),n=i(53),a=Object.defineProperty;e.f=i(21)?Object.defineProperty:function(t,e,i){if(s(t),e=n(e,!0),s(i),o)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=!i(28)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=a(i(6)),o=a(i(0)),n=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var r=function(){function t(e,i,s){(0,o.default)(this,t),this.body=i,this.labelModule=s,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,n.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==(0,s.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,s,o){void 0!==i&&this.resize(i,s,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,s,o){this._updateBoundingBox(t,e,i,s,o)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var s=this.textSize.width,o=this.textSize.height;return 0===s&&(s=14,o=14),{width:s,height:o}}}]),t}();e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){this.labelModule.getTextSize(t,e,i);var o=2*s.size;this.width=o,this.height=o,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,s,o,n,a,r){if(this.resize(t,n,a,r),this.left=s-this.width/2,this.top=o-this.height/2,this.initContextForDraw(t,r),t[e](s,o,r.size),this.performFill(t,r),void 0!==this.options.label){this.labelModule.calculateLabelSize(t,n,a,s,o,"hanging");var h=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,s,h,n,a,"hanging")}this.updateBoundingBox(s,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(h(i(23)).default);e.default=l},function(t,e,i){var s=i(78),o=i(51);t.exports=function(t){return s(o(t))}},function(t,e,i){var s=i(20),o=i(39);t.exports=i(21)?function(t,e,i){return s.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var s=i(32);t.exports=function(t){if(!s(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){t.exports={default:i(138),__esModule:!0}},function(t,e,i){e.__esModule=!0;var s=n(i(188)),o=n(i(77));function n(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,s.default)(Object(t)))return function(t,e){var i=[],s=!0,n=!1,a=void 0;try{for(var r,h=(0,o.default)(t);!(s=(r=h.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){n=!0,a=t}finally{try{!s&&h.return&&h.return()}finally{if(n)throw a}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var s=i(84),o=i(58);t.exports=Object.keys||function(t){return s(t,o)}},function(t,e,i){function s(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}s.subtract=function(t,e){var i=new s;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},s.add=function(t,e){var i=new s;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},s.avg=function(t,e){return new s((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},s.crossProduct=function(t,e){var i=new s;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},s.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=s},function(t,e,i){var s,o,n;o=[],void 0===(n="function"==typeof(s=function(){return function(t){var e,i=t&&t.preventDefault||!1,s=t&&t.container||window,o={},n={keydown:{},keyup:{}},a={};for(e=97;e<=122;e++)a[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)a[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)a[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)a["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)a["num"+e]={code:96+e,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var r=function(t){l(t,"keydown")},h=function(t){l(t,"keyup")},l=function(t,e){if(void 0!==n[e][t.keyCode]){for(var s=n[e][t.keyCode],o=0;o<s.length;o++)(void 0===s[o].shift||1==s[o].shift&&1==t.shiftKey||0==s[o].shift&&0==t.shiftKey)&&s[o].fn(t);1==i&&t.preventDefault()}};return o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);void 0===n[i][a[t].code]&&(n[i][a[t].code]=[]),n[i][a[t].code].push({fn:e,shift:a[t].shift})},o.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),a)a.hasOwnProperty(i)&&o.bind(i,t,e)},o.getKey=function(t){for(var e in a)if(a.hasOwnProperty(e)){if(1==t.shiftKey&&1==a[e].shift&&t.keyCode==a[e].code)return e;if(0==t.shiftKey&&0==a[e].shift&&t.keyCode==a[e].code)return e;if(t.keyCode==a[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);if(void 0!==e){var s=[],o=n[i][a[t].code];if(void 0!==o)for(var r=0;r<o.length;r++)o[r].fn==e&&o[r].shift==a[t].shift||s.push(n[i][a[t].code][r]);n[i][a[t].code]=s}else n[i][a[t].code]=[]},o.reset=function(){n={keydown:{},keyup:{}}},o.destroy=function(){n={keydown:{},keyup:{}},s.removeEventListener("keydown",r,!0),s.removeEventListener("keyup",h,!0)},s.addEventListener("keydown",r,!0),s.addEventListener("keyup",h,!0),o}})?s.apply(e,o):s)||(t.exports=n)},function(t,e,i){e.convertHiddenOptions=function(t,i,s){if(s&&!Array.isArray(s))return e.convertHiddenOptions(t,i,[s]);if(i.hiddenDates=[],s&&1==Array.isArray(s)){for(var o=0;o<s.length;o++)if(void 0===s[o].repeat){var n={};n.start=t(s[o].start).toDate().valueOf(),n.end=t(s[o].end).toDate().valueOf(),i.hiddenDates.push(n)}i.hiddenDates.sort((function(t,e){return t.start-e.start}))}},e.updateHiddenDates=function(t,i,s){if(s&&!Array.isArray(s))return e.updateHiddenDates(t,i,[s]);if(s&&void 0!==i.domProps.centerContainer.width){e.convertHiddenOptions(t,i,s);for(var o=t(i.range.start),n=t(i.range.end),a=(i.range.end-i.range.start)/i.domProps.centerContainer.width,r=0;r<s.length;r++)if(void 0!==s[r].repeat){var h=t(s[r].start),l=t(s[r].end);if("Invalid Date"==h._d)throw new Error("Supplied start date is not valid: "+s[r].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+s[r].end);if(l-h>=4*a){var d=0,c=n.clone();switch(s[r].repeat){case"daily":h.day()!=l.day()&&(d=1),h.dayOfYear(o.dayOfYear()),h.year(o.year()),h.subtract(7,"days"),l.dayOfYear(o.dayOfYear()),l.year(o.year()),l.subtract(7-d,"days"),c.add(1,"weeks");break;case"weekly":var u=l.diff(h,"days"),p=h.day();h.date(o.date()),h.month(o.month()),h.year(o.year()),l=h.clone(),h.day(p),l.day(p),l.add(u,"days"),h.subtract(1,"weeks"),l.subtract(1,"weeks"),c.add(1,"weeks");break;case"monthly":h.month()!=l.month()&&(d=1),h.month(o.month()),h.year(o.year()),h.subtract(1,"months"),l.month(o.month()),l.year(o.year()),l.subtract(1,"months"),l.add(d,"months"),c.add(1,"months");break;case"yearly":h.year()!=l.year()&&(d=1),h.year(o.year()),h.subtract(1,"years"),l.year(o.year()),l.subtract(1,"years"),l.add(d,"years"),c.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",s[r].repeat)}for(;h<c;)switch(i.hiddenDates.push({start:h.valueOf(),end:l.valueOf()}),s[r].repeat){case"daily":h.add(1,"days"),l.add(1,"days");break;case"weekly":h.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":h.add(1,"months"),l.add(1,"months");break;case"yearly":h.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",s[r].repeat)}i.hiddenDates.push({start:h.valueOf(),end:l.valueOf()})}}e.removeDuplicates(i);var m=e.isHidden(i.range.start,i.hiddenDates),f=e.isHidden(i.range.end,i.hiddenDates),g=i.range.start,v=i.range.end;1==m.hidden&&(g=1==i.range.startToFront?m.startDate-1:m.endDate+1),1==f.hidden&&(v=1==i.range.endToFront?f.startDate-1:f.endDate+1),1!=m.hidden&&1!=f.hidden||i.range._applyRange(g,v)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],s=0;s<e.length;s++)for(var o=0;o<e.length;o++)s!=o&&1!=e[o].remove&&1!=e[s].remove&&(e[o].start>=e[s].start&&e[o].end<=e[s].end?e[o].remove=!0:e[o].start>=e[s].start&&e[o].start<=e[s].end?(e[s].end=e[o].end,e[o].remove=!0):e[o].end>=e[s].start&&e[o].end<=e[s].end&&(e[s].start=e[o].start,e[o].remove=!0));for(s=0;s<e.length;s++)!0!==e[s].remove&&i.push(e[s]);t.hiddenDates=i,t.hiddenDates.sort((function(t,e){return t.start-e.start}))},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,i){for(var s=!1,o=e.current.valueOf(),n=0;n<e.hiddenDates.length;n++){var a=e.hiddenDates[n].start,r=e.hiddenDates[n].end;if(o>=a&&o<r){s=!0;break}}if(1==s&&o<e._end.valueOf()&&o!=i){var h=t(i),l=t(r);h.year()!=l.year()?e.switchedYear=!0:h.month()!=l.month()?e.switchedMonth=!0:h.dayOfYear()!=l.dayOfYear()&&(e.switchedDay=!0),e.current=l}},e.toScreen=function(t,i,s){var o;if(0==t.body.hiddenDates.length)return o=t.range.conversion(s),(i.valueOf()-o.offset)*o.scale;var n=e.isHidden(i,t.body.hiddenDates);1==n.hidden&&(i=n.startDate);var a=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(i<t.range.start){o=t.range.conversion(s,a);var r=e.getHiddenDurationBeforeStart(t.body.hiddenDates,i,o.offset);return i=t.options.moment(i).toDate().valueOf(),i+=r,-(o.offset-i.valueOf())*o.scale}if(i>t.range.end){var h={start:t.range.start,end:i};return i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,h,i),o=t.range.conversion(s,a),(i.valueOf()-o.offset)*o.scale}return i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,i),o=t.range.conversion(s,a),(i.valueOf()-o.offset)*o.scale},e.toTime=function(t,i,s){if(0==t.body.hiddenDates.length){var o=t.range.conversion(s);return new Date(i/o.scale+o.offset)}var n=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),a=(t.range.end-t.range.start-n)*i/s,r=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,a);return new Date(r+a+t.range.start)},e.getHiddenDurationBetween=function(t,e,i){for(var s=0,o=0;o<t.length;o++){var n=t[o].start,a=t[o].end;n>=e&&a<i&&(s+=a-n)}return s},e.getHiddenDurationBeforeStart=function(t,e,i){for(var s=0,o=0;o<t.length;o++){var n=t[o].start,a=t[o].end;n>=e&&a<=i&&(s+=a-n)}return s},e.correctTimeForHidden=function(t,i,s,o){return o=t(o).toDate().valueOf(),o-=e.getHiddenDurationBefore(t,i,s,o)},e.getHiddenDurationBefore=function(t,e,i,s){var o=0;s=t(s).toDate().valueOf();for(var n=0;n<e.length;n++){var a=e[n].start,r=e[n].end;a>=i.start&&r<i.end&&s>=r&&(o+=r-a)}return o},e.getAccumulatedHiddenDuration=function(t,e,i){for(var s=0,o=0,n=e.start,a=0;a<t.length;a++){var r=t[a].start,h=t[a].end;if(r>=e.start&&h<e.end){if(o+=r-n,n=h,o>=i)break;s+=h-r}}return s},e.snapAwayFromHidden=function(t,i,s,o){var n=e.isHidden(i,t);return 1==n.hidden?s<0?1==o?n.startDate-(n.endDate-i)-1:n.startDate-1:1==o?n.endDate+(i-n.startDate)+1:n.endDate+1:i},e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var s=e[i].start,o=e[i].end;if(t>=s&&t<o)return{hidden:!0,startDate:s,endDate:o}}return{hidden:!1,startDate:s,endDate:o}}},function(t,e,i){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(t,e,i){var s=n(i(6)),o=n(i(8));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(10),r=i(2),h=i(9);function l(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}l.prototype.stack=!0,l.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},l.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},l.prototype.setData=function(t){null!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.parent&&(this.parent.stackDirty=!0),null!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},l.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},l.prototype.isVisible=function(t){return!1},l.prototype.show=function(){return!1},l.prototype.hide=function(){return!1},l.prototype.redraw=function(){},l.prototype.repositionX=function(){},l.prototype.repositionY=function(){},l.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var t=this,e=document.createElement("div");e.className="vis-drag-center",e.dragCenterItem=this;var i=new a(e);i.on("tap",(function(e){t.parent.itemSet.body.emitter.emit("click",{event:e,item:t.id})})),i.on("doubletap",(function(e){e.stopPropagation(),t.parent.itemSet._onUpdateItem(t),t.parent.itemSet.body.emitter.emit("doubleClick",{event:e,item:t.id})})),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(e,this.dom.dragLeft):this.dom.box.appendChild(e):this.dom.point&&this.dom.point.appendChild(e),this.dom.dragCenter=e}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},l.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&e&&!this.dom.deleteButton){var i=this,s=document.createElement("div");this.options.rtl?s.className="vis-delete-rtl":s.className="vis-delete",s.title="Delete this item",new a(s).on("tap",(function(t){t.stopPropagation(),i.parent.removeFromDataSet(i)})),t.appendChild(s),this.dom.deleteButton=s}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},l.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(this.options.tooltipOnItemUpdateTime){var e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&e&&!this.dom.onItemUpdateTimeTooltip){var i=document.createElement("div");i.className="vis-onUpdateTime-tooltip",t.appendChild(i),this.dom.onItemUpdateTimeTooltip=i}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var s,o=this.parent.itemSet.body.domProps.scrollTop;("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-o?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?s=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(s="start: "+h(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(s+="<br> end: "+h(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=s}}},l.prototype._updateContents=function(t){var e,i,s,o,n=this.parent.itemSet.itemsData.get(this.id),a=this.dom.box||this.dom.point,r=a.getElementsByClassName("vis-item-visible-frame")[0];if(s=this.options.visibleFrameTemplate?(o=this.options.visibleFrameTemplate.bind(this))(n,a):"",r)if(s instanceof Object&&!(s instanceof Element))o(n,r);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(s)){if(s instanceof Element)r.innerHTML="",r.appendChild(s);else if(null!=s)r.innerHTML=s;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=s}if((e=this.options.template?(i=this.options.template.bind(this))(n,t,this.data):this.data.content)instanceof Object&&!(e instanceof Element))i(n,t);else if(this._contentToString(this.content)!==this._contentToString(e)){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(null!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},l.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,o.default)(this.data)}for(var i=0;i<e.length;i++){var s=e[i],n=this.data[s];null!=n?t.setAttribute("data-"+s,n):t.removeAttribute("data-"+s)}}},l.prototype._updateStyle=function(t){this.style&&(r.removeCssText(t,this.style),this.style=null),this.data.style&&(r.addCssText(t,this.data.style),this.style=this.data.style)},l.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},l.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,s.default)(this.options.editable)&&(this.editable={},r.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,s.default)(this.data.editable)&&(this.editable={},r.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},l.prototype.getWidthLeft=function(){return 0},l.prototype.getWidthRight=function(){return 0},l.prototype.getTitle=function(){return this.data.title},t.exports=l},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,s=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+s).toString(36))}},function(t,e,i){var s=i(51);t.exports=function(t){return Object(s(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){function s(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}s.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},s.extend=function(t,e){var i=new s(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var o=[{name:"flush",original:void 0}];if(e&&e.replace)for(var n=0;n<e.replace.length;n++){var a=e.replace[n];o.push({name:a,original:t[a]}),i.replace(t,a)}return i._extended={object:t,methods:o},i},s.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var s=e[i];s.original?t[s.name]=s.original:delete t[s.name]}this._extended=null}},s.prototype.replace=function(t,e){var i=this,s=t[e];if(!s)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:s,context:this})}},s.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},s.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout((function(){t.flush()}),this.delay)}},s.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=s},function(t,e){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){var i=this;function s(){i.off(t,s),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},s.fn=e,this.on(t,s),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,s=this._callbacks[t];if(!s)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o=0;o<s.length;o++)if((i=s[o])===e||i.fn===e){s.splice(o,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i)for(var s=0,o=(i=i.slice(0)).length;s<o;++s)i[s].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){var s,o=i(6),n=(s=o)&&s.__esModule?s:{default:s},a=i(2),r=i(16),h=i(66),l=i(36),d=i(9);function c(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:h.FORMAT,moment:d,timeAxis:null},this.options=a.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}c.prototype=new r,c.prototype.setOptions=function(t){t&&(a.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),a.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,n.default)(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof d.locale?d.locale(t.locale):d.lang(t.locale)))},c.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},c.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},c.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,s="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=e.parentNode!==s;this._calculateCharSize();var n=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,a=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=n?t.minorCharHeight:0,t.majorLabelHeight=a?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var r=e.nextSibling,h=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),r?s.insertBefore(e,r):s.appendChild(e),h?this.body.dom.backgroundVertical.insertBefore(i,h):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o},c.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=a.convert(this.body.range.start,"Number"),i=a.convert(this.body.range.end,"Number"),s=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),o=s-l.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,s);o-=this.body.util.toTime(0).valueOf();var n=new h(new Date(e),new Date(i),o,this.body.hiddenDates,this.options);n.setMoment(this.options.moment),this.options.format&&n.setFormat(this.options.format),this.options.timeAxis&&n.setScale(this.options.timeAxis),this.step=n;var r,d,c,p,m,f=this.dom;f.redundant.lines=f.lines,f.redundant.majorTexts=f.majorTexts,f.redundant.minorTexts=f.minorTexts,f.lines=[],f.majorTexts=[],f.minorTexts=[];var g,v,y,b,x=0,w=void 0,_=0;for(n.start(),r=n.getCurrent(),c=this.body.util.toScreen(r);n.hasNext()&&_<1e3;){switch(_++,p=n.isMajor(),b=n.getClassName(),y=n.getLabelMinor(),d=c,n.next(),r=n.getCurrent(),n.isMajor(),g=x,x=(c=this.body.util.toScreen(r))-d,n.scale){case"week":m=!0;break;default:m=x>=.4*g}if(this.options.showMinorLabels&&m){var k=this._repaintMinorText(d,y,t,b);k.style.width=x+"px"}p&&this.options.showMajorLabels?(d>0&&(null==w&&(w=d),k=this._repaintMajorText(d,n.getLabelMajor(),t,b)),v=this._repaintMajorLine(d,x,t,b)):m?v=this._repaintMinorLine(d,x,t,b):v&&(v.style.width=parseInt(v.style.width)+x+"px")}if(1e3!==_||u||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),u=!0),this.options.showMajorLabels){var M=this.body.util.toTime(0),T=n.getLabelMajor(M),C=T.length*(this.props.majorCharWidth||10)+10;(null==w||C<w)&&this._repaintMajorText(0,T,t,b)}a.forEach(this.dom.redundant,(function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}}))},c.prototype._repaintMinorText=function(t,e,i,s){var o=this.dom.redundant.minorTexts.shift();if(!o){var n=document.createTextNode("");(o=document.createElement("div")).appendChild(n),this.dom.foreground.appendChild(o)}return this.dom.minorTexts.push(o),o.innerHTML=e,o.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",o.className="vis-text vis-minor "+s,o},c.prototype._repaintMajorText=function(t,e,i,s){var o=this.dom.redundant.majorTexts.shift();if(!o){var n=document.createElement("div");(o=document.createElement("div")).appendChild(n),this.dom.foreground.appendChild(o)}return o.childNodes[0].innerHTML=e,o.className="vis-text vis-major "+s,o.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",this.dom.majorTexts.push(o),o},c.prototype._repaintMinorLine=function(t,e,i,s){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var n=this.props;return o.style.top="top"==i?n.majorLabelHeight+"px":this.body.domProps.top.height+"px",o.style.height=n.minorLineHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t-n.minorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-minor "+s):(o.style.left=t-n.minorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-minor "+s),o.style.width=e+"px",o},c.prototype._repaintMajorLine=function(t,e,i,s){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var n=this.props;return o.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(o.style.left="",o.style.right=t-n.majorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-major "+s):(o.style.left=t-n.majorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-major "+s),o.style.height=n.majorLineHeight+"px",o.style.width=e+"px",o},c.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var u=!1;t.exports=c},function(t,e,i){var s=i(10),o=i(2),n=i(16),a=i(9),r=i(98);function h(t,e){this.body=t,this.defaultOptions={moment:a,locales:r,locale:"en",id:void 0,title:void 0},this.options=o.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}h.prototype=new n,h.prototype.setOptions=function(t){t&&o.selectiveExtend(["moment","locale","locales","id"],this.options,t)},h.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");function i(t){this.body.range._onMouseWheel(t)}e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",e.addEventListener?(e.addEventListener("mousewheel",i.bind(this),!1),e.addEventListener("DOMMouseScroll",i.bind(this),!1)):e.attachEvent("onmousewheel",i.bind(this)),t.appendChild(e),this.hammer=new s(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL})},h.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},h.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales.en);var s=this.options.title;return void 0===s?s=(s=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+s.substring(1):"function"==typeof s&&(s=s.call(this.customTime)),this.bar.style.left=e+"px",this.bar.title=s,!1},h.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},h.prototype.setCustomTime=function(t){this.customTime=o.convert(t,"Date"),this.redraw()},h.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},h.prototype.setCustomTitle=function(t){this.options.title=t},h.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},h.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}},h.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())},h.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(2),r=i(117).default,h=i(48).default,l=i(193).default,d=i(200).default,c=i(201).default,u=i(202).default,p=i(203).default,m=i(204).default,f=i(205).default,g=i(206).default,v=i(207).default,y=i(208).default,b=i(209).default,x=i(210).default,w=i(211).default,_=i(212).default,k=i(213).default,M=i(15).printStyle,T=function(){function t(e,i,o,n,h,l){(0,s.default)(this,t),this.options=a.bridgeObject(h),this.globalOptions=h,this.defaultOptions=l,this.body=i,this.edges=[],this.id=void 0,this.imagelist=o,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new r(this.body,this.options,!1),this.setOptions(e)}return(0,o.default)(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var s=[e,this.options,this.defaultOptions];return this.chooser=h.choosify("node",s),this._load_images(),this.updateLabelModule(e),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,e,this.grouplist);var i=this.grouplist.get(this.options.group,!1),s=[e,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,s),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new l(this.options,this.body,this.labelModule);break;case"circle":this.shape=new d(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new c(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new u(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new p(this.options,this.body,this.labelModule);break;case"dot":this.shape=new m(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new f(this.options,this.body,this.labelModule);break;case"icon":this.shape=new g(this.options,this.body,this.labelModule);break;case"image":this.shape=new v(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new y(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new b(this.options,this.body,this.labelModule);break;case"star":this.shape=new x(this.options,this.body,this.labelModule);break;case"text":this.shape=new w(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new _(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new k(this.options,this.body,this.labelModule);break;default:this.shape=new f(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var s=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var n=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+s*n}this.options.size=this.options.scaling.min+s*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&h.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),h.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,i){if(void 0!==i){var s=t.group;if(void 0!==e&&void 0!==e.group&&s!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof s||"string"==typeof s&&""!=s){var o=i.get(s);a.selectiveNotDeepExtend(["font"],t,o),t.color=a.parseColor(t.color)}}}},{key:"parseOptions",value:function(e,i){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments[4],r=["color","fixed","shadow"];if(a.selectiveNotDeepExtend(r,e,i,s),t.checkMass(i),a.mergeOptions(e,i,"shadow",o),void 0!==i.color&&null!==i.color){var h=a.parseColor(i.color);a.fillIfDefined(e.color,h)}else!0===s&&null===i.color&&(e.color=a.bridgeObject(o.color));void 0!==i.fixed&&null!==i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===s&&null===i.font&&(e.font=a.bridgeObject(o.font)),t.updateGroupOptions(e,i,n),void 0!==i.scaling&&a.mergeOptions(e.scaling,i.scaling,"label",o.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+i+", setting mass to 1.",M),t.mass=1}}}]),t}();e.default=T},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=a(i(6)),o=a(i(0)),n=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var r=i(2),h=function(){function t(){(0,o.default)(this,t)}return(0,n.default)(t,null,[{key:"choosify",value:function(t,e){var i=["node","edge","label"],o=!0,n=r.topMost(e,"chosen");if("boolean"==typeof n)o=n;else if("object"===(void 0===n?"undefined":(0,s.default)(n))){if(-1===i.indexOf(t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var a=r.topMost(e,["chosen",t]);"boolean"!=typeof a&&"function"!=typeof a||(o=a)}return o}},{key:"pointInRect",value:function(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var s={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var o=-i.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}var n=t.x+t.width,a=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&a>e.y}},{key:"isValidLabel",value:function(t){return"string"==typeof t&&""!==t}}]),t}();e.default=h},function(t,e,i){i(125);for(var s=i(18),o=i(26),n=i(31),a=i(13)("toStringTag"),r="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),h=0;h<r.length;h++){var l=r[h],d=s[l],c=d&&d.prototype;c&&!c[a]&&o(c,a,l),n[l]=n.Array}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,i){var s=i(32);t.exports=function(t,e){if(!s(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!s(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!s(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!s(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var s=i(27),o=i(130),n=i(58),a=i(56)("IE_PROTO"),r=function(){},h=function(){var t,e=i(82)("iframe"),s=n.length;for(e.style.display="none",i(134).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;s--;)delete h.prototype[n[s]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(r.prototype=s(t),i=new r,r.prototype=null,i[a]=t):i=h(),void 0===e?i:o(i,e)}},function(t,e){var i=Math.ceil,s=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?s:i)(t)}},function(t,e,i){var s=i(57)("keys"),o=i(40);t.exports=function(t){return s[t]||(s[t]=o(t))}},function(t,e,i){var s=i(18),o=s["__core-js_shared__"]||(s["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var s=i(20).f,o=i(22),n=i(13)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,n)&&s(t,n,{configurable:!0,value:e})}},function(t,e,i){var s=i(135)(!0);i(79)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=s(e,i),this._i+=t.length,{value:t,done:!1})}))},function(t,e,i){e.f=i(13)},function(t,e,i){var s=i(18),o=i(7),n=i(52),a=i(61),r=i(20).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=n?{}:s.Symbol||{});"_"==t.charAt(0)||t in e||r(e,t,{value:a.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var s=a(i(8)),o=a(i(19)),n=a(i(6));function a(t){return t&&t.__esModule?t:{default:t}}var r=i(2),h=i(9),l=i(16),d=i(36);function c(t,e){var i=h().hours(0).minutes(0).seconds(0).milliseconds(0),s=i.clone().add(-3,"days").valueOf(),o=i.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===e?(this.start=s,this.end=o):(this.start=e.start||s,this.end=e.end||o),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:h,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=r.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function u(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}c.prototype=new l,c.prototype.setOptions=function(t){t&&(r.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end))},c.prototype.startRolling=function(){var t=this;!function e(){t.stopRolling(),t.rolling=!0;var i=t.end-t.start,s=r.convert(new Date,"Date").valueOf(),o=s-i*t.options.rollingMode.offset,n=s+i*(1-t.options.rollingMode.offset);t.setRange(o,n,{animation:!1}),(i=1/t.conversion(t.body.domProps.center.width).scale/10)<30&&(i=30),i>1e3&&(i=1e3),t.body.dom.rollingModeBtn.style.visibility="hidden",t.currentTimeTimer=setTimeout(e,i)}()},c.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},c.prototype.setRange=function(t,e,i,a,h){i||(i={}),!0!==i.byUser&&(i.byUser=!1);var l=this,c=null!=t?r.convert(t,"Date").valueOf():null,u=null!=e?r.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){var p=this.start,m=this.end,f="object"===(0,n.default)(i.animation)&&"duration"in i.animation?i.animation.duration:500,g="object"===(0,n.default)(i.animation)&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",v=r.easingFunctions[g];if(!v)throw new Error("Unknown easing function "+(0,o.default)(g)+". Choose from: "+(0,s.default)(r.easingFunctions).join(", "));var y=(new Date).valueOf(),b=!1;return function t(){if(!l.props.touch.dragging){var e=(new Date).valueOf()-y,s=v(e/f),o=e>f,n=o||null===c?c:p+(c-p)*s,r=o||null===u?u:m+(u-m)*s;x=l._applyRange(n,r),d.updateHiddenDates(l.options.moment,l.body,l.options.hiddenDates),b=b||x;var g={start:new Date(l.start),end:new Date(l.end),byUser:i.byUser,event:i.event};if(h&&h(s,x,o),x&&l.body.emitter.emit("rangechange",g),o){if(b&&(l.body.emitter.emit("rangechanged",g),a))return a()}else l.animationTimer=setTimeout(t,20)}}()}var x=this._applyRange(c,u);if(d.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),x){var w={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",w),clearTimeout(l.timeoutID),l.timeoutID=setTimeout((function(){l.body.emitter.emit("rangechanged",w)}),200),a)return a()}},c.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},c.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},c.prototype._applyRange=function(t,e){var i,s=null!=t?r.convert(t,"Date").valueOf():this.start,o=null!=e?r.convert(e,"Date").valueOf():this.end,n=null!=this.options.max?r.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?r.convert(this.options.min,"Date").valueOf():null;if(isNaN(s)||null===s)throw new Error('Invalid start "'+t+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+e+'"');if(o<s&&(o=s),null!==a&&s<a&&(s+=i=a-s,o+=i,null!=n&&o>n&&(o=n)),null!==n&&o>n&&(s-=i=o-n,o-=i,null!=a&&s<a&&(s=a)),null!==this.options.zoomMin){var h=parseFloat(this.options.zoomMin);h<0&&(h=0),o-s<h&&(this.end-this.start===h&&s>=this.start-.5&&o<=this.end?(s=this.start,o=this.end):(s-=(i=h-(o-s))/2,o+=i/2))}if(null!==this.options.zoomMax){var l=parseFloat(this.options.zoomMax);l<0&&(l=0),o-s>l&&(this.end-this.start===l&&s<this.start&&o>this.end?(s=this.start,o=this.end):(s+=(i=o-s-l)/2,o-=i/2))}var d=this.start!=s||this.end!=o;return s>=this.start&&s<=this.end||o>=this.start&&o<=this.end||this.start>=s&&this.start<=o||this.end>=s&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=s,this.end=o,d},c.prototype.getRange=function(){return{start:this.start,end:this.end}},c.prototype.conversion=function(t,e){return c.conversion(this.start,this.end,t,e)},c.conversion=function(t,e,i,s){return void 0===s&&(s=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-s)}:{offset:0,scale:1}},c.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},c.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;u(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var s=this.props.touch.end-this.props.touch.start;s-=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var o,n="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;o=this.options.rtl?i/n*s:-i/n*s;var a=this.props.touch.start+o,r=this.props.touch.end+o,h=d.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-i,!0),l=d.snapAwayFromHidden(this.body.hiddenDates,r,this.previousDelta-i,!0);if(h!=a||l!=r)return this.deltaDifference+=i,this.props.touch.start=h,this.props.touch.end=l,void this._onDrag(t);this.previousDelta=i,this._applyRange(a,r);var c=new Date(this.start),p=new Date(this.end);this.body.emitter.emit("rangechange",{start:c,end:p,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},c.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},c.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){var i,s;if(i=e<0?1-e/5:1/(1+e/5),this.rolling)s=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var o=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);s=this._pointerToDate(o)}this.zoom(i,s,e,t),t.preventDefault()}},c.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,r.preventDefault(t)},c.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){r.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling();var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),s=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),n=s-o,a=i-o+(this.props.touch.start-(i-o))*e,h=i+n+(this.props.touch.end-(i+n))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var l=d.snapAwayFromHidden(this.body.hiddenDates,a,1-e,!0),c=d.snapAwayFromHidden(this.body.hiddenDates,h,e-1,!0);l==a&&c==h||(this.props.touch.start=l,this.props.touch.end=c,this.scaleOffset=1-t.scale,a=l,h=c);var u={animation:!1,byUser:!0,event:t};this.setRange(a,h,u),this.startToFront=!1,this.endToFront=!0}},c.prototype._isInsideRange=function(t){var e,i=t.center?t.center.x:t.clientX;e=this.options.rtl?i-r.getAbsoluteLeft(this.body.dom.centerContainer):r.getAbsoluteRight(this.body.dom.centerContainer)-i;var s=this.body.util.toTime(e);return s>=this.start&&s<=this.end},c.prototype._pointerToDate=function(t){var e,i=this.options.direction;if(u(i),"horizontal"==i)return this.body.util.toTime(t.x).valueOf();var s=this.body.domProps.center.height;return e=this.conversion(s),t.y/e.scale+e.offset},c.prototype.getPointer=function(t,e){return this.options.rtl?{x:r.getAbsoluteRight(e)-t.x,y:t.y-r.getAbsoluteTop(e)}:{x:t.x-r.getAbsoluteLeft(e),y:t.y-r.getAbsoluteTop(e)}},c.prototype.zoom=function(t,e,i,s){null==e&&(e=(this.start+this.end)/2);var o=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),n=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),a=o-n,r=e-n+(this.start-(e-n))*t,h=e+a+(this.end-(e+a))*t;this.startToFront=!(i>0),this.endToFront=!(-i>0);var l=d.snapAwayFromHidden(this.body.hiddenDates,r,i,!0),c=d.snapAwayFromHidden(this.body.hiddenDates,h,-i,!0);l==r&&c==h||(r=l,h=c);var u={animation:!1,byUser:!0,event:s};this.setRange(r,h,u),this.startToFront=!1,this.endToFront=!0},c.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,s=this.end+e*t;this.start=i,this.end=s},c.prototype.moveTo=function(t){var e=(this.start+this.end)/2-t,i=this.start-e,s=this.end-e;this.setRange(i,s,{animation:!1,byUser:!0,event:null})},t.exports=c},function(t,e,i){var s=n(i(19)),o=n(i(6));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(44),r=i(10),h=i(37),l=i(2),d=i(45),c=i(97),u=i(36),p=i(46);function m(){}a(m.prototype),m.prototype._create=function(t){this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var e=this;this._origRedraw=this._redraw.bind(this),this._redraw=l.throttle(this._origRedraw),this.on("_change",(function(t){e.itemSet&&e.itemSet.initialItemSetDrawn&&t&&1==t.queue?e._redraw():e._origRedraw()})),this.hammer=new r(this.dom.root);var i=this.hammer.get("pinch").set({enable:!0});function s(t){this.isActive()&&this.emit("mousewheel",t);var e=0,i=0;if("detail"in t&&(i=-1*t.detail),"wheelDelta"in t&&(i=t.wheelDelta),"wheelDeltaY"in t&&(i=t.wheelDeltaY),"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=-1*i,i=0),"deltaY"in t&&(i=-1*t.deltaY),"deltaX"in t&&(e=t.deltaX),this.options.zoomKey&&!t[this.options.zoomKey])if(t.preventDefault(),this.options.verticalScroll&&Math.abs(i)>=Math.abs(e)){var s=this.props.scrollTop+i;this.isActive()&&(this._setScrollTop(s),this._redraw(),this.emit("scroll",t))}else if(this.options.horizontalScroll){var o=(Math.abs(e)>=Math.abs(i)?e:i)/120*(this.range.end-this.range.start)/20,n=this.range.start+o,a=this.range.end+o,r={animation:!1,byUser:!0,event:t};this.range.setRange(n,a,r)}}function o(t){if(e.options.verticalScroll&&(t.preventDefault(),e.isActive())){var i=-t.target.scrollTop;e._setScrollTop(i),e._redraw(),e.emit("scrollSide",t)}}h.disablePreventDefaultVertically(i),this.hammer.get("pan").set({threshold:5,direction:r.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach((function(t){var i=function(i){e.isActive()&&e.emit(t,i)};e.hammer.on(t,i),e.listeners[t]=i})),h.onTouch(this.hammer,function(t){e.emit("touch",t)}.bind(this)),h.onRelease(this.hammer,function(t){e.emit("release",t)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",s.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",s.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",s.bind(this)),this.dom.left.parentNode.addEventListener("scroll",o.bind(this)),this.dom.right.parentNode.addEventListener("scroll",o.bind(this));var n=!1;if(this.dom.center.addEventListener("dragover",function(t){if(t.preventDefault&&t.preventDefault(),!(!t.target.className.indexOf("vis")>-1||n))return t.dataTransfer.dropEffect="move",n=!0,!1}.bind(this),!1),this.dom.center.addEventListener("drop",function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var i=JSON.parse(t.dataTransfer.getData("text"));if(!i||!i.content)return}catch(t){return!1}return n=!1,t.center={x:t.clientX,y:t.clientY},"item"!==i.target?e.itemSet._onAddItem(t):e.itemSet._onDropObjectOnItem(t),e.emit("drop",e.getEventProperties(t)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},m.prototype.setOptions=function(t){if(t){if(l.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,t),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,o.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===(0,o.default)(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var e=this.timeAxis2=new d(this.body);e.setOptions=function(t){var i=t?l.extend({},t):{};i.orientation="top",d.prototype.setOptions.call(e,i)},this.components.push(e)}}else if(this.timeAxis2){var i=this.components.indexOf(this.timeAxis2);-1!==i&&this.components.splice(i,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&u.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new c(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach((function(e){return e.setOptions(t)})),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var s=l.deepExtend({},this.options);this.components.forEach((function(t){l.deepExtend(s,t.options)})),this.configurator.setModuleOptions({global:s})}this._redraw()},m.prototype.isActive=function(){return!this.activator||this.activator.active},m.prototype.destroy=function(){for(var t in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach((function(t){return t.destroy()})),this.body=null},m.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter((function(t){return e===t.options.id}));if(0===i.length)throw new Error("No custom time bar found with id "+(0,s.default)(e));i.length>0&&i[0].setCustomTime(t)},m.prototype.getCustomTime=function(t){var e=this.customTimes.filter((function(e){return e.options.id===t}));if(0===e.length)throw new Error("No custom time bar found with id "+(0,s.default)(t));return e[0].getCustomTime()},m.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter((function(t){return t.options.id===e}));if(0===i.length)throw new Error("No custom time bar found with id "+(0,s.default)(e));if(i.length>0)return i[0].setCustomTitle(t)},m.prototype.getEventProperties=function(t){return{event:t}},m.prototype.addCustomTime=function(t,e){var i=void 0!==t?l.convert(t,"Date").valueOf():new Date;if(this.customTimes.some((function(t){return t.options.id===e})))throw new Error("A custom time with id "+(0,s.default)(e)+" already exists");var o=new p(this.body,l.extend({},this.options,{time:i,id:e}));return this.customTimes.push(o),this.components.push(o),this._redraw(),e},m.prototype.removeCustomTime=function(t){var e=this.customTimes.filter((function(e){return e.options.id===t}));if(0===e.length)throw new Error("No custom time bar found with id "+(0,s.default)(t));e.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},m.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},m.prototype.fit=function(t,e){var i=this.getDataRange();if(null!==i.min||null!==i.max){var s=i.max-i.min,o=new Date(i.min.valueOf()-.01*s),n=new Date(i.max.valueOf()+.01*s),a=!t||void 0===t.animation||t.animation;this.range.setRange(o,n,{animation:a},e)}},m.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},m.prototype.setWindow=function(t,e,i,s){var o,n;"function"==typeof arguments[2]&&(s=arguments[2],i={}),1==arguments.length?(o=void 0===(n=arguments[0]).animation||n.animation,this.range.setRange(n.start,n.end,{animation:o})):2==arguments.length&&"function"==typeof arguments[1]?(n=arguments[0],s=arguments[1],o=void 0===n.animation||n.animation,this.range.setRange(n.start,n.end,{animation:o},s)):(o=!i||void 0===i.animation||i.animation,this.range.setRange(t,e,{animation:o},s))},m.prototype.moveTo=function(t,e,i){"function"==typeof arguments[1]&&(i=arguments[1],e={});var s=this.range.end-this.range.start,o=l.convert(t,"Date").valueOf(),n=o-s/2,a=o+s/2,r=!e||void 0===e.animation||e.animation;this.range.setRange(n,a,{animation:r},i)},m.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},m.prototype.zoomIn=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var s=this.getWindow(),o=s.start.valueOf(),n=s.end.valueOf(),a=n-o,r=a/(1+t),h=(a-r)/2,l=o+h,d=n-h;this.setWindow(l,d,e,i)}},m.prototype.zoomOut=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var s=this.getWindow(),o=s.start.valueOf(),n=s.end.valueOf(),a=n-o,r=o-a*t/2,h=n+a*t/2;this.setWindow(r,h,e,i)}},m.prototype.redraw=function(){this._redraw()},m.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,i=this.props,s=this.dom;if(s&&s.container&&0!=s.root.offsetWidth){u.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(l.addClassName(s.root,"vis-top"),l.removeClassName(s.root,"vis-bottom")):(l.removeClassName(s.root,"vis-top"),l.addClassName(s.root,"vis-bottom")),s.root.style.maxHeight=l.option.asSize(e.maxHeight,""),s.root.style.minHeight=l.option.asSize(e.minHeight,""),s.root.style.width=l.option.asSize(e.width,""),i.border.left=(s.centerContainer.offsetWidth-s.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(s.centerContainer.offsetHeight-s.centerContainer.clientHeight)/2,i.border.bottom=i.border.top,i.borderRootHeight=s.root.offsetHeight-s.root.clientHeight,i.borderRootWidth=s.root.offsetWidth-s.root.clientWidth,0===s.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===s.root.clientHeight&&(i.borderRootWidth=i.borderRootHeight),i.center.height=s.center.offsetHeight,i.left.height=s.left.offsetHeight,i.right.height=s.right.offsetHeight,i.top.height=s.top.clientHeight||-i.border.top,i.bottom.height=s.bottom.clientHeight||-i.border.bottom;var o=Math.max(i.left.height,i.center.height,i.right.height),n=i.top.height+o+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom;s.root.style.height=l.option.asSize(e.height,n+"px"),i.root.height=s.root.offsetHeight,i.background.height=i.root.height-i.borderRootHeight;var a=i.root.height-i.top.height-i.bottom.height-i.borderRootHeight;i.centerContainer.height=a,i.leftContainer.height=a,i.rightContainer.height=i.leftContainer.height,i.root.width=s.root.offsetWidth,i.background.width=i.root.width-i.borderRootWidth,this.initialDrawDone||(i.scrollbarWidth=l.getScrollBarWidth()),e.verticalScroll?e.rtl?(i.left.width=s.leftContainer.clientWidth||-i.border.left,i.right.width=s.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right):(i.left.width=s.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left,i.right.width=s.rightContainer.clientWidth||-i.border.right):(i.left.width=s.leftContainer.clientWidth||-i.border.left,i.right.width=s.rightContainer.clientWidth||-i.border.right),this._setDOM();var h=this._updateScrollTop();"top"!=e.orientation.item&&(h+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0)),s.center.style.top=h+"px";var d=0==i.scrollTop?"hidden":"",c=i.scrollTop==i.scrollTopMin?"hidden":"";s.shadowTop.style.visibility=d,s.shadowBottom.style.visibility=c,s.shadowTopLeft.style.visibility=d,s.shadowBottomLeft.style.visibility=c,s.shadowTopRight.style.visibility=d,s.shadowBottomRight.style.visibility=c,e.verticalScroll&&(s.rightContainer.className="vis-panel vis-right vis-vertical-scroll",s.leftContainer.className="vis-panel vis-left vis-vertical-scroll",s.shadowTopRight.style.visibility="hidden",s.shadowBottomRight.style.visibility="hidden",s.shadowTopLeft.style.visibility="hidden",s.shadowBottomLeft.style.visibility="hidden",s.left.style.top="0px",s.right.style.top="0px"),(!e.verticalScroll||i.center.height<i.centerContainer.height)&&(s.left.style.top=h+"px",s.right.style.top=h+"px",s.rightContainer.className=s.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),s.leftContainer.className=s.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.left.width=s.leftContainer.clientWidth||-i.border.left,i.right.width=s.rightContainer.clientWidth||-i.border.right,this._setDOM());var p=i.center.height>i.centerContainer.height;if(this.hammer.get("pan").set({direction:p?r.DIRECTION_ALL:r.DIRECTION_HORIZONTAL}),this.components.forEach((function(e){t=e.redraw()||t})),t){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},m.prototype._setDOM=function(){var t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var i=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=i,t.centerContainer.width=i,t.top.width=i,t.bottom.width=i,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},m.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},m.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},m.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},m.prototype._toTime=function(t){return u.toTime(this,t,this.props.center.width)},m.prototype._toGlobalTime=function(t){return u.toTime(this,t,this.props.root.width)},m.prototype._toScreen=function(t){return u.toScreen(this,t,this.props.center.width)},m.prototype._toGlobalScreen=function(t){return u.toScreen(this,t,this.props.root.width)},m.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},m.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){1==t.options.autoResize?t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=l.getScrollBarWidth(),t.body.emitter.emit("_change"))):t._stopAutoResize()},l.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},m.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(l.removeEventListener(window,"resize",this._onResize),this._onResize=null)},m.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},m.prototype._onPinch=function(t){this.touch.allowDragging=!1},m.prototype._onDrag=function(t){if(t&&this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop(),s=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),s!=i&&this.emit("verticalDrag")}},m.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},m.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},m.prototype._getScrollTop=function(){return this.props.scrollTop},m.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=m},function(t,e,i){var s=i(9),o=i(36),n=i(2);function a(t,e,i,o,n){this.moment=s,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(o)?this.hiddenDates=o:this.hiddenDates=null!=o?[o]:[],this.format=a.FORMAT,this.options=n||{}}a.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},a.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},a.prototype.setFormat=function(t){var e=n.deepExtend({},a.FORMAT);this.format=n.deepExtend(e,t)},a.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):new Date,this._end=null!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},a.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},a.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},a.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},a.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week"),e.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,o.stepOverHiddenDates(this.moment,this,t)},a.prototype.getCurrent=function(){return this.current},a.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},a.prototype.setAutoScale=function(t){this.autoScale=t},a.prototype.setMinimumStep=function(t){null!=t&&(31104e9>t&&(this.scale="year",this.step=1e3),15552e9>t&&(this.scale="year",this.step=500),31104e8>t&&(this.scale="year",this.step=100),15552e8>t&&(this.scale="year",this.step=50),31104e7>t&&(this.scale="year",this.step=10),15552e7>t&&(this.scale="year",this.step=5),31104e6>t&&(this.scale="year",this.step=1),7776e6>t&&(this.scale="month",this.step=3),2592e6>t&&(this.scale="month",this.step=1),432e6>t&&(this.scale="day",this.step=5),1728e5>t&&(this.scale="day",this.step=2),864e5>t&&(this.scale="day",this.step=1),432e5>t&&(this.scale="weekday",this.step=1),144e5>t&&(this.scale="hour",this.step=4),36e5>t&&(this.scale="hour",this.step=1),9e5>t&&(this.scale="minute",this.step=15),6e5>t&&(this.scale="minute",this.step=10),3e5>t&&(this.scale="minute",this.step=5),6e4>t&&(this.scale="minute",this.step=1),15e3>t&&(this.scale="second",this.step=15),1e4>t&&(this.scale="second",this.step=10),5e3>t&&(this.scale="second",this.step=5),1e3>t&&(this.scale="second",this.step=1),200>t&&(this.scale="millisecond",this.step=200),100>t&&(this.scale="millisecond",this.step=100),50>t&&(this.scale="millisecond",this.step=50),10>t&&(this.scale="millisecond",this.step=10),5>t&&(this.scale="millisecond",this.step=5),1>t&&(this.scale="millisecond",this.step=1))},a.snap=function(t,e,i){var o=s(t);if("year"==e){var n=o.year()+Math.round(o.month()/12);o.year(Math.round(n/i)*i),o.month(0),o.date(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("month"==e)o.date()>15?(o.date(1),o.add(1,"month")):o.date(1),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("week"==e)o.weekday()>2?(o.weekday(0),o.add(1,"week")):o.weekday(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:o.hours(24*Math.round(o.hours()/24));break;default:o.hours(12*Math.round(o.hours()/12))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:o.hours(12*Math.round(o.hours()/12));break;default:o.hours(6*Math.round(o.hours()/6))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("hour"==e){switch(i){case 4:o.minutes(60*Math.round(o.minutes()/60));break;default:o.minutes(30*Math.round(o.minutes()/30))}o.seconds(0),o.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:o.minutes(5*Math.round(o.minutes()/5)),o.seconds(0);break;case 5:o.seconds(60*Math.round(o.seconds()/60));break;default:o.seconds(30*Math.round(o.seconds()/30))}o.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:o.seconds(5*Math.round(o.seconds()/5)),o.milliseconds(0);break;case 5:o.milliseconds(1e3*Math.round(o.milliseconds()/1e3));break;default:o.milliseconds(500*Math.round(o.milliseconds()/500))}else if("millisecond"==e){var a=i>5?i/2:1;o.milliseconds(Math.round(o.milliseconds()/a)*a)}return o},a.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":case"week":return 1==t.date();case"month":return 0==t.month();case"year":default:return!1}},a.prototype.getLabelMinor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&e.length>0?this.moment(t).format(e):""}},a.prototype.getLabelMajor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},a.prototype.getClassName=function(){var t=this.moment,e=this.moment(this.current),i=e.locale?e.locale("en"):e.lang("en"),s=this.step,o=[];function n(t){return t/s%2==0?" vis-even":" vis-odd"}function a(e){return e.isSame(new Date,"day")?" vis-today":e.isSame(t().add(1,"day"),"day")?" vis-tomorrow":e.isSame(t().add(-1,"day"),"day")?" vis-yesterday":""}function r(t){return t.isSame(new Date,"week")?" vis-current-week":""}function h(t){return t.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":o.push(a(i)),o.push(n(i.milliseconds()));break;case"second":o.push(a(i)),o.push(n(i.seconds()));break;case"minute":o.push(a(i)),o.push(n(i.minutes()));break;case"hour":o.push("vis-h"+i.hours()+(4==this.step?"-h"+(i.hours()+4):"")),o.push(a(i)),o.push(n(i.hours()));break;case"weekday":o.push("vis-"+i.format("dddd").toLowerCase()),o.push(a(i)),o.push(r(i)),o.push(n(i.date()));break;case"day":o.push("vis-day"+i.date()),o.push("vis-"+i.format("MMMM").toLowerCase()),o.push(a(i)),o.push(h(i)),o.push(this.step<=2?a(i):""),o.push(this.step<=2?"vis-"+i.format("dddd").toLowerCase():""),o.push(n(i.date()-1));break;case"week":o.push("vis-week"+i.format("w")),o.push(r(i)),o.push(n(i.week()));break;case"month":o.push("vis-"+i.format("MMMM").toLowerCase()),o.push(h(i)),o.push(n(i.month()));break;case"year":o.push("vis-year"+i.year()),o.push(i.isSame(new Date,"year")?" vis-current-year":""),o.push(n(i.year()))}return o.filter(String).join(" ")},t.exports=a},function(t,e,i){var s=i(2),o=i(16),n=i(9),a=i(98);function r(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:n,locales:a,locale:"en"},this.options=s.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}r.prototype=new o,r.prototype._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},r.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},r.prototype.setOptions=function(t){t&&s.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},r.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),s=this.options.locales[this.options.locale];s||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),s=this.options.locales.en);var o=s.current+" "+s.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px",this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},r.prototype.start=function(){var t=this;!function e(){t.stop();var i=1/t.body.range.conversion(t.body.domProps.center.width).scale/10;i<30&&(i=30),i>1e3&&(i=1e3),t.redraw(),t.body.emitter.emit("currentTimeTick"),t.currentTimeTimer=setTimeout(e,i)}()},r.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},r.prototype.setCurrentTime=function(t){var e=s.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},r.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=r},function(t,e,i){var s,o=i(8),n=(s=o)&&s.__esModule?s:{default:s},a=i(2),r=i(100);function h(t,e,i){if(this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,this.stackDirty=!0,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,0==e.showNested?this.showNested=!1:this.showNested=!0),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var s in e.subgroupStack)this.subgroupStack[s]=e.subgroupStack[s],this.doInnerStack=this.doInnerStack||e.subgroupStack[s];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",(function(){o.checkRangedItems=!0})),this._create(),this.setData(e)}h.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},h.prototype.setData=function(t){var e,i;if((e=this.itemSet.options&&this.itemSet.options.groupTemplate?(i=this.itemSet.options.groupTemplate.bind(this))(t,this.dom.inner):t&&t.content)instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?i(t,this.dom.inner):this.dom.inner.innerHTML=null!=e?e:this.groupId||"";if(this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?a.removeClassName(this.dom.inner,"vis-hidden"):a.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),a.addClassName(this.dom.label,"vis-nesting-group");var s=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(a.removeClassName(this.dom.label,s),a.addClassName(this.dom.label,"expanded")):(a.removeClassName(this.dom.label,"expanded"),a.addClassName(this.dom.label,s))}else this.nestedGroups&&(this.nestedGroups=null,s=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",a.removeClassName(this.dom.label,s),a.removeClassName(this.dom.label,"expanded"),a.removeClassName(this.dom.label,"vis-nesting-group"));t&&t.nestedInGroup&&(a.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var o=t&&t.className||null;o!=this.className&&(this.className&&(a.removeClassName(this.dom.label,this.className),a.removeClassName(this.dom.foreground,this.className),a.removeClassName(this.dom.background,this.className),a.removeClassName(this.dom.axis,this.className)),a.addClassName(this.dom.label,o),a.addClassName(this.dom.foreground,o),a.addClassName(this.dom.background,o),a.addClassName(this.dom.axis,o),this.className=o),this.style&&(a.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(a.addCssText(this.dom.label,t.style),this.style=t.style)},h.prototype.getLabelWidth=function(){return this.props.label.width},h.prototype._didMarkerHeightChange=function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var e={},i=0;if(a.forEach(this.items,(function(t,s){t.dirty=!0,t.displayed&&(e[s]=t.redraw(!0),i=e[s].length)})),i>0)for(var s=0;s<i;s++)a.forEach(e,(function(t){t[s]()}));return!0}},h.prototype._calculateGroupSizeAndPosition=function(){var t=this.dom.foreground.offsetTop,e=this.dom.foreground.offsetLeft,i=this.dom.foreground.offsetWidth;this.top=t,this.right=e,this.width=i},h.prototype._redrawItems=function(t,e,i,s){if(t||this.stackDirty||this.isVisible&&!e){var o={},n=null;if("function"==typeof this.itemSet.options.order){var h=this,l={},d=0;if(a.forEach(this.items,(function(t,e){t.displayed||(l[e]=t.redraw(!0),d=l[e].length,h.visibleItems.push(t))})),d>0)for(var c=0;c<d;c++)a.forEach(l,(function(t){t[c]()}));if(a.forEach(this.items,(function(t){t.repositionX(!1)})),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(n in this.subgroups)o[n]=this.subgroups[n].items.slice().sort((function(t,e){return h.itemSet.options.order(t.data,e.data)}));r.stackSubgroupsWithInnerStack(o,i,this.subgroups)}else{var u=this.orderedItems.byStart.slice().sort((function(t,e){return h.itemSet.options.order(t.data,e.data)}));r.stack(u,i,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,s)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,s),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(n in this.subgroups)o[n]=this.subgroups[n].items;r.stackSubgroupsWithInnerStack(o,i,this.subgroups)}else r.stack(this.visibleItems,i,!0);else r.nostack(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},h.prototype._didResize=function(t,e){t=a.updateProperty(this,"height",e)||t;var i=this.dom.inner.clientWidth,s=this.dom.inner.clientHeight;return t=a.updateProperty(this.props.label,"width",i)||t,t=a.updateProperty(this.props.label,"height",s)||t},h.prototype._applyGroupHeight=function(t){this.dom.background.style.height=t+"px",this.dom.foreground.style.height=t+"px",this.dom.label.style.height=t+"px"},h.prototype._updateItemsVerticalPosition=function(t){for(var e=0,i=this.visibleItems.length;e<i;e++){var s=this.visibleItems[e];s.repositionY(t),this.isVisible||"__background__"==this.groupId||s.displayed&&s.hide()}},h.prototype.redraw=function(t,e,i,s){var o,n,a=!1,r=this.isVisible,h=[function(){i=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(t,e)}.bind(this),function(){this._redrawItems.bind(this)(i,r,e,t)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){o=this._calculateHeight.bind(this)(e)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){a=this._didResize.bind(this)(a,o)}.bind(this),function(){this._applyGroupHeight.bind(this)(o)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(e)}.bind(this),function(){return!this.isVisible&&this.height&&(a=!1),a}];return s?h:(h.forEach((function(t){n=t()})),n)},h.prototype._updateSubGroupHeights=function(t){if((0,n.default)(this.subgroups).length>0){var e=this;this.resetSubgroups(),a.forEach(this.visibleItems,(function(i){void 0!==i.data.subgroup&&(e.subgroups[i.data.subgroup].height=Math.max(e.subgroups[i.data.subgroup].height,i.height+t.item.vertical),e.subgroups[i.data.subgroup].visible=!0)}))}},h.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},h.prototype._calculateHeight=function(t){var e,i=this.visibleItems;if(i.length>0){var s=i[0].top,o=i[0].top+i[0].height;if(a.forEach(i,(function(t){s=Math.min(s,t.top),o=Math.max(o,t.top+t.height)})),s>t.axis){var n=s-t.axis;o-=n,a.forEach(i,(function(t){t.top-=n}))}e=o+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height)},h.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},h.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var s=this.dom.axis;s.parentNode&&s.parentNode.removeChild(s)},h.prototype.add=function(t){if(this.items[t.id]=t,t.setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},h.prototype._addToSubgroup=function(t,e){null!=(e=e||t.data.subgroup)&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);var i=t.data.end||t.data.start;new Date(i)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=i),this.subgroups[e].items.push(t)},h.prototype._updateSubgroupsSizes=function(){var t=this;if(t.subgroups)for(var e in t.subgroups){var i=t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start,s=t.subgroups[e].items[0].data.start,o=i-1;t.subgroups[e].items.forEach((function(t){new Date(t.data.start)<new Date(s)&&(s=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(o)&&(o=e)})),t.subgroups[e].start=s,t.subgroups[e].end=new Date(o-1)}},h.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t,e=[];if("string"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort((function(t,e){return t.sortField-e.sortField}))}else if("function"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(var i=0;i<e.length;i++)this.subgroups[e[i].subgroup].index=i}},h.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)},h.prototype.remove=function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},h.prototype._removeFromSubgroup=function(t,e){if(null!=(e=e||t.data.subgroup)){var i=this.subgroups[e];if(i){var s=i.items.indexOf(t);s>=0&&(i.items.splice(s,1),i.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}},h.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},h.prototype.order=function(){for(var t=a.toArray(this.items),e=[],i=[],s=0;s<t.length;s++)void 0!==t[s].data.end&&i.push(t[s]),e.push(t[s]);this.orderedItems={byStart:e,byEnd:i},r.orderByStart(this.orderedItems.byStart),r.orderByEnd(this.orderedItems.byEnd)},h.prototype._updateItemsInRange=function(t,e,i){var s=[],o={},n=(i.end-i.start)/4,r=i.start-n,h=i.end+n,l=function(t){return t<r?-1:t<=h?0:1};if(e.length>0)for(var d=0;d<e.length;d++)this._checkIfVisibleWithReference(e[d],s,o,i);var c=a.binarySearchCustom(t.byStart,l,"data","start");if(this._traceVisible(c,t.byStart,s,o,(function(t){return t.data.start<r||t.data.start>h})),1==this.checkRangedItems)for(this.checkRangedItems=!1,d=0;d<t.byEnd.length;d++)this._checkIfVisibleWithReference(t.byEnd[d],s,o,i);else{var u=a.binarySearchCustom(t.byEnd,l,"data","end");this._traceVisible(u,t.byEnd,s,o,(function(t){return t.data.end<r||t.data.end>h}))}var p={},m=0;for(d=0;d<s.length;d++){var f=s[d];f.displayed||(p[d]=f.redraw(!0),m=p[d].length)}if(m>0)for(var g=0;g<m;g++)a.forEach(p,(function(t){t[g]()}));for(d=0;d<s.length;d++)s[d].repositionX();return s},h.prototype._traceVisible=function(t,e,i,s,o){if(-1!=t){var n,a;for(n=t;n>=0&&!o(a=e[n]);n--)void 0===s[a.id]&&(s[a.id]=!0,i.push(a));for(n=t+1;n<e.length&&!o(a=e[n]);n++)void 0===s[a.id]&&(s[a.id]=!0,i.push(a))}},h.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},h.prototype._checkIfVisibleWithReference=function(t,e,i,s){t.isVisible(s)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},h.prototype.changeSubgroup=function(t,e,i){this._removeFromSubgroup(t,e),this._addToSubgroup(t,i),this.orderSubgroups()},t.exports=h},function(t,e,i){var s,o=i(29),n=(s=o)&&s.__esModule?s:{default:s},a=i(68);function r(t,e,i){a.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}r.prototype=(0,n.default)(a.prototype),r.prototype.redraw=function(t,e,i){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var s=0,o=this.visibleItems.length;s<o;s++)this.visibleItems[s].repositionY(e);return!1},r.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=r},function(t,e,i){var s=i(38);function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}s.call(this,t,e,i)}o.prototype=new s(null,null,null),o.prototype.baseClassName="vis-item vis-range",o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+e,this.dom.content.style.maxWidth="none"}},o.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},o.prototype.redraw=function(t){var e,i,s=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?s:(s.forEach((function(t){i=t()})),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},o.prototype.repositionX=function(t){var e,i,s=this.parent.width,o=this.conversion.toScreen(this.data.start),n=this.conversion.toScreen(this.data.end),a=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==t&&!0!==t||(o<-s&&(o=-s),n>2*s&&(n=2*s));var r=Math.max(n-o+.5,1);switch(this.overflow?(this.options.rtl?this.right=o:this.left=o,this.width=r+this.props.content.width,i=this.props.content.width):(this.options.rtl?this.right=o:this.left=o,this.width=r,i=Math.min(n-o,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px",a){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(r-i,0)+"px":this.dom.content.style.left=Math.max(r-i,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((r-i)/2,0)+"px":this.dom.content.style.left=Math.max((r-i)/2,0)+"px";break;default:e=this.overflow?n>0?Math.max(-o,0):-i:o<0?-o:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},o.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=r(i(19)),o=r(i(6)),n=r(i(0)),a=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var h=i(2),l=i(179).default,d=function(){function t(e,i,s){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,n.default)(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},h.extend(this.options,this.defaultOptions),this.configureOptions=s,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new l(o),this.wrapper=void 0}return(0,a.default)(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":(0,o.default)(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,i=0,s=!1;for(var o in this.configureOptions)this.configureOptions.hasOwnProperty(o)&&(this.allowCreation=!1,s=!1,"function"==typeof e?s=(s=e(o,[]))||this._handleObject(this.configureOptions[o],[o],!0):!0!==e&&-1===e.indexOf(o)||(s=!0),!1!==s&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),i++);if(!0===this.options.showButton){var n=document.createElement("div");n.className="vis-configuration vis-config-button",n.innerHTML="generate options",n.onclick=function(){t._printOptions()},n.onmouseover=function(){n.className="vis-configuration vis-config-button hover"},n.onmouseout=function(){n.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(n)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,s=Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return s.forEach((function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=document.createElement("div");return s.className="vis-configuration vis-config-label vis-config-s"+e.length,s.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",s}},{key:"_makeDropdown",value:function(t,e,i){var s=document.createElement("select");s.className="vis-configuration vis-config-select";var o=0;void 0!==e&&-1!==t.indexOf(e)&&(o=t.indexOf(e));for(var n=0;n<t.length;n++){var a=document.createElement("option");a.value=t[n],n===o&&(a.selected="selected"),a.innerHTML=t[n],s.appendChild(a)}var r=this;s.onchange=function(){r._update(this.value,i)};var h=this._makeLabel(i[i.length-1],i);this._makeItem(i,h,s)}},{key:"_makeRange",value:function(t,e,i){var s=t[0],o=t[1],n=t[2],a=t[3],r=document.createElement("input");r.className="vis-configuration vis-config-range";try{r.type="range",r.min=o,r.max=n}catch(t){}r.step=a;var h="",l=0;void 0!==e?(e<0&&1.2*e<o?(r.min=Math.ceil(1.2*e),l=r.min,h="range increased"):e/1.2<o&&(r.min=Math.ceil(e/1.2),l=r.min,h="range increased"),1.2*e>n&&1!==n&&(r.max=Math.ceil(1.2*e),l=r.max,h="range increased"),r.value=e):r.value=s;var d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=r.value;var c=this;r.onchange=function(){d.value=this.value,c._update(Number(this.value),i)},r.oninput=function(){d.value=this.value};var u=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,u,r,d);""!==h&&this.popupHistory[p]!==l&&(this.popupHistory[p]=l,this._setupPopup(h,p))}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var s=document.createElement("div");s.id="vis-configuration-popup",s.className="vis-configuration-popup",s.innerHTML=t,s.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:s,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=setTimeout((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var s=document.createElement("input");s.type="checkbox",s.className="vis-configuration vis-config-checkbox",s.checked=t,void 0!==e&&(s.checked=e,e!==t&&("object"===(void 0===t?"undefined":(0,o.default)(t))?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var n=this;s.onchange=function(){n._update(this.checked,i)};var a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}},{key:"_makeTextInput",value:function(t,e,i){var s=document.createElement("input");s.type="text",s.className="vis-configuration vis-config-text",s.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var o=this;s.onchange=function(){o._update(this.value,i)};var n=this._makeLabel(i[i.length-1],i);this._makeItem(i,n,s)}},{key:"_makeColorField",value:function(t,e,i){var s=this,o=t[1],n=document.createElement("div");"none"!==(e=void 0===e?o:e)?(n.className="vis-configuration vis-config-colorBlock",n.style.backgroundColor=e):n.className="vis-configuration vis-config-colorBlock none",e=void 0===e?o:e,n.onclick=function(){s._showColorPicker(e,n,i)};var a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,n)}},{key:"_showColorPicker",value:function(t,e,i){var s=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var o="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=o,s._update(o,i)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){s._showColorPicker(t,e,i)}}))}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!1,o=this.options.filter,n=!1;for(var a in t)if(t.hasOwnProperty(a)){s=!0;var r=t[a],l=h.copyAndExtendArray(e,a);if("function"==typeof o&&!1===(s=o(a,e))&&!(r instanceof Array)&&"string"!=typeof r&&"boolean"!=typeof r&&r instanceof Object&&(this.allowCreation=!1,s=this._handleObject(r,l,!0),this.allowCreation=!1===i),!1!==s){n=!0;var d=this._getValue(l);if(r instanceof Array)this._handleArray(r,d,l);else if("string"==typeof r)this._makeTextInput(r,d,l);else if("boolean"==typeof r)this._makeCheckbox(r,d,l);else if(r instanceof Object){var c=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==a&&(c=!1),!0===c)if(void 0!==r.enabled){var u=h.copyAndExtendArray(l,"enabled"),p=this._getValue(u);if(!0===p){var m=this._makeLabel(a,l,!0);this._makeItem(l,m),n=this._handleObject(r,l)||n}else this._makeCheckbox(r,p,l)}else{var f=this._makeLabel(a,l,!0);this._makeItem(l,f),n=this._handleObject(r,l)||n}}else console.error("dont know how to handle",r,a,l)}}return n}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i;t="false"!==(t="true"===t||t)&&t;for(var o=0;o<e.length;o++)"global"!==e[o]&&(void 0===s[e[o]]&&(s[e[o]]={}),o!==e.length-1?s=s[e[o]]:s[e[o]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,s.default)(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e.default=d},function(t,e,i){var s,o=i(6),n=(s=o)&&s.__esModule?s:{default:s},a=i(14);function r(t,e){}function h(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}r.draw=function(t,e,i,s){s=s||0;for(var o=function(t,e){var i=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender),i}(i,e),r=0;r<t.length;r++)if(o){var l=o(t[r],e);!0!==l&&"object"!==(void 0===l?"undefined":(0,n.default)(l))||a.drawPoint(t[r].screen_x+s,t[r].screen_y,h(e,l),i.svgElements,i.svg,t[r].label)}else a.drawPoint(t[r].screen_x+s,t[r].screen_y,h(e),i.svgElements,i.svg,t[r].label)},r.drawIcon=function(t,e,i,s,o,n){var r=.5*o,l=a.getSVGElement("rect",n.svgElements,n.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",i-r),l.setAttributeNS(null,"width",s),l.setAttributeNS(null,"height",2*r),l.setAttributeNS(null,"class","vis-outline"),a.drawPoint(e+.5*s,i,h(t),n.svgElements,n.svg)},t.exports=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){(0,o.default)(this,e);var r=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return r.labelOffset=0,r.selected=!1,r}return(0,r.default)(e,t),(0,n.default)(e,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,s=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:s=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*s}else t=this.imageObj.width,e=this.imageObj.height;this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,s){this.initContextForDraw(t,s),t.circle(e,i,s.size),this.performFill(t,s)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(t,i,this.left,this.top,this.width,this.height),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,s,o){var n,a=0;if(void 0!==this.height){a=.5*this.height;var r=this.labelModule.getTextSize(t,s,o);r.lineCount>=1&&(a+=r.height/2)}n=i+a,this.options.label&&(this.labelOffset=a),this.labelModule.draw(t,e,n,s,o,"hanging")}}]),e}(h(i(23)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(19)),o=h(i(6)),n=h(i(29)),a=h(i(0)),r=h(i(1));function h(t){return t&&t.__esModule?t:{default:t}}var l=i(2),d=i(117).default,c=i(48).default,u=i(215).default,p=i(217).default,m=i(218).default,f=i(219).default,g=function(){function t(e,i,s,o){if((0,a.default)(this,t),void 0===i)throw new Error("No body provided");this.options=l.bridgeObject(s),this.globalOptions=s,this.defaultOptions=o,this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new d(this.body,this.options,!0),this.setOptions(e)}return(0,r.default)(t,[{key:"setOptions",value:function(e){if(e){t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value));var i=[e,this.options,this.defaultOptions];this.chooser=c.choosify("edge",i),this.updateLabelModule(e);var s=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===e.hidden&&void 0===e.physics||(s=!0),s}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,s=this.options.color.inherit,o={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:s?void 0:this.options.color.color,inheritsColor:s,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var n=this.options.selectionWidth;"function"==typeof n?o.width=n(o.width):"number"==typeof n&&(o.width+=n),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var a=this.options.hoverWidth;"function"==typeof a?o.width=a(o.width):"number"==typeof a&&(o.width+=a),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof p&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof u&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof m&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof f&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new p(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new u(this.options,this.body,this.labelModule):this.edgeType=new m(this.options,this.body,this.labelModule):this.edgeType=new f(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var s=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var n=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+s*n}this.options.width=this.options.scaling.min+s*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),s={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(s.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=s.from.core)),e.toArrow&&(s.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=s.to.core)),e.middleArrow&&(s.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawArrows(t,s,e),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t,e,i){i.fromArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.from),i.middleArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.middle),i.toArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,s=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=s.id){this.labelModule.pointToSelf=!1;var o=this.edgeType.getPoint(.5,e);t.save();var n=this._getRotation(t);0!=n.angle&&(t.translate(n.x,n.y),t.rotate(n.angle)),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover),t.restore()}else{var a,r;this.labelModule.pointToSelf=!0;var h=this.options.selfReferenceSize;i.shape.width>i.shape.height?(a=i.x+.5*i.shape.width,r=i.y-h):(a=i.x+h,r=i.y-.5*i.shape.height),o=this._pointOnCircle(a,r,h,.125),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();c.pointInRect(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}var s={left:t.x,top:t.y};return this.isOverlappingWith(s)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,i=this.from.y,s=this.to.x,o=this.to.y,n=t.left,a=t.top;return this.edgeType.getDistanceToEdge(e,i,s,o,n,a)<10}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var s={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return s;if("horizontal"===this.options.font.align)return s;var o=this.from.y-this.to.y,n=this.from.x-this.to.x,a=Math.atan2(o,n);return(a<-1&&n<0||a>0&&n<0)&&(a+=Math.PI),s.angle=a,s}},{key:"_pointOnCircle",value:function(t,e,i,s){var o=2*s*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(l.selectiveDeepExtend(h,t,e,i),c.isValidLabel(e.label)?t.label=e.label:t.label=void 0,l.mergeOptions(t,e,"smooth",a),l.mergeOptions(t,e,"shadow",a),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=(0,n.default)(a.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),l.mergeOptions(t.scaling,e.scaling,"label",a.scaling)):!0===i&&null===e.scaling&&(t.scaling=(0,n.default)(a.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var d=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=d.indexOf("to"),t.arrows.middle.enabled=-1!=d.indexOf("middle"),t.arrows.from.enabled=-1!=d.indexOf("from")}else{if("object"!==(0,o.default)(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,s.default)(e.arrows));l.mergeOptions(t.arrows,e.arrows,"to",a.arrows),l.mergeOptions(t.arrows,e.arrows,"middle",a.arrows),l.mergeOptions(t.arrows,e.arrows,"from",a.arrows)}else!0===i&&null===e.arrows&&(t.arrows=(0,n.default)(a.arrows));if(void 0!==e.color&&null!==e.color){var u=e.color,p=t.color;if(r)l.deepExtend(p,a.color,!1,i);else for(var m in p)p.hasOwnProperty(m)&&delete p[m];if(l.isString(p))p.color=p,p.highlight=p,p.hover=p,p.inherit=!1,void 0===u.opacity&&(p.opacity=1);else{var f=!1;void 0!==u.color&&(p.color=u.color,f=!0),void 0!==u.highlight&&(p.highlight=u.highlight,f=!0),void 0!==u.hover&&(p.hover=u.hover,f=!0),void 0!==u.inherit&&(p.inherit=u.inherit),void 0!==u.opacity&&(p.opacity=Math.min(1,Math.max(0,u.opacity))),!0===f?p.inherit=!1:void 0===p.inherit&&(p.inherit="from")}}else!0===i&&null===e.color&&(t.color=l.bridgeObject(a.color));!0===i&&null===e.font&&(t.font=l.bridgeObject(a.font))}}]),t}();e.default=g},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,s,o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),a=10,r=0,h=0,l=1,d=.2,c=this.to,u=!1;for(t.id===this.from.id&&(c=this.from,u=!0);h<=l&&r<a;){var p=.5*(h+l);if(i=this.getPoint(p,n),s=Math.atan2(c.y-i.y,c.x-i.x),o=c.distanceToBorder(e,s)-Math.sqrt(Math.pow(i.x-c.x,2)+Math.pow(i.y-c.y,2)),Math.abs(o)<d)break;o<0?!1===u?h=p:l=p:!1===u?l=p:h=p,r++}return i.t=p,i}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,s,o,n,a){var r=1e9,h=void 0,l=void 0,d=void 0,c=void 0,u=void 0,p=t,m=e;for(l=1;l<10;l++)d=.1*l,c=Math.pow(1-d,2)*t+2*d*(1-d)*a.x+Math.pow(d,2)*i,u=Math.pow(1-d,2)*e+2*d*(1-d)*a.y+Math.pow(d,2)*s,l>0&&(r=(h=this._getDistanceToLine(p,m,c,u,o,n))<r?h:r),p=c,m=u;return r}},{key:"_bezierCurve",value:function(t,e,i,s){var o=void 0!==i&&void 0!==i.x,n=void 0!==s&&void 0!==s.x;t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),o&&n?t.bezierCurveTo(i.x,i.y,s.x,s.y,this.toPoint.x,this.toPoint.y):o?t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(h(i(118)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(2),r=function(){function t(){(0,s.default)(this,t)}return(0,o.default)(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=1e9,o=-1e9,n=1e9,a=-1e9;if(i.length>0)for(var r=0;r<i.length;r++)n>(e=t[i[r]]).shape.boundingBox.left&&(n=e.shape.boundingBox.left),a<e.shape.boundingBox.right&&(a=e.shape.boundingBox.right),s>e.shape.boundingBox.top&&(s=e.shape.boundingBox.top),o<e.shape.boundingBox.bottom&&(o=e.shape.boundingBox.bottom);return 1e9===n&&-1e9===a&&1e9===s&&-1e9===o&&(s=0,o=0,n=0,a=0),{minX:n,maxX:a,minY:s,maxY:o}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=1e9,o=-1e9,n=1e9,a=-1e9;if(i.length>0)for(var r=0;r<i.length;r++)n>(e=t[i[r]]).x&&(n=e.x),a<e.x&&(a=e.x),s>e.y&&(s=e.y),o<e.y&&(o=e.y);return 1e9===n&&-1e9===a&&1e9===s&&-1e9===o&&(s=0,o=0,n=0,a=0),{minX:n,maxX:a,minY:s,maxY:o}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(a.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):a.deepExtend(i,t.options,!0),i}}]),t}();e.default=r},function(t,e,i){t.exports={default:i(124),__esModule:!0}},function(t,e,i){var s=i(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==s(t)?t.split(""):Object(t)}},function(t,e,i){var s=i(52),o=i(17),n=i(83),a=i(26),r=i(22),h=i(31),l=i(129),d=i(59),c=i(85),u=i(13)("iterator"),p=!([].keys&&"next"in[].keys()),m=function(){return this};t.exports=function(t,e,i,f,g,v,y){l(i,e,f);var b,x,w,_=function(t){if(!p&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},k=e+" Iterator",M="values"==g,T=!1,C=t.prototype,S=C[u]||C["@@iterator"]||g&&C[g],P=S||_(g),D=g?M?_("entries"):P:void 0,A="Array"==e&&C.entries||S;if(A&&(w=c(A.call(new t)))!==Object.prototype&&w.next&&(d(w,k,!0),s||r(w,u)||a(w,u,m)),M&&S&&"values"!==S.name&&(T=!0,P=function(){return S.call(this)}),s&&!y||!p&&!T&&C[u]||a(C,u,P),h[e]=P,h[k]=m,g)if(b={values:M?P:_("values"),keys:v?P:_("keys"),entries:D},y)for(x in b)x in C||n(C,x,b[x]);else o(o.P+o.F*(p||T),e,b);return b}},function(t,e,i){var s=i(128);t.exports=function(t,e,i){if(s(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,s){return t.call(e,i,s)};case 3:return function(i,s,o){return t.call(e,i,s,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){t.exports=!i(21)&&!i(28)((function(){return 7!=Object.defineProperty(i(82)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var s=i(32),o=i(18).document,n=s(o)&&s(o.createElement);t.exports=function(t){return n?o.createElement(t):{}}},function(t,e,i){t.exports=i(26)},function(t,e,i){var s=i(22),o=i(25),n=i(131)(!1),a=i(56)("IE_PROTO");t.exports=function(t,e){var i,r=o(t),h=0,l=[];for(i in r)i!=a&&s(r,i)&&l.push(i);for(;e.length>h;)s(r,i=e[h++])&&(~n(l,i)||l.push(i));return l}},function(t,e,i){var s=i(22),o=i(41),n=i(56)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),s(t,n)?t[n]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){var s=i(50),o=i(13)("toStringTag"),n="Arguments"==s(function(){return arguments}());t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?i:n?s(e):"Object"==(a=s(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,i){var s=i(17),o=i(7),n=i(28);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],a={};a[t]=e(i),s(s.S+s.F*n((function(){i(1)})),"Object",a)}},function(t,e,i){var s=i(84),o=i(58).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,o)}},function(t,e,i){var s=i(42),o=i(39),n=i(25),a=i(53),r=i(22),h=i(81),l=Object.getOwnPropertyDescriptor;e.f=i(21)?l:function(t,e){if(t=n(t),e=a(e,!0),h)try{return l(t,e)}catch(t){}if(r(t,e))return o(!s.f.call(t,e),t[e])}},function(t,e,i){t.exports={default:i(162),__esModule:!0}},function(t,e,i){t.exports=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}},function(t,e,i){var s=i(2);function o(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||null==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}o.prototype.prev=function(){var t=this.getIndex();t>0&&(t--,this.setIndex(t))},o.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&(t++,this.setIndex(t))},o.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));var i=new Date-t,s=Math.max(this.playInterval-i,0),o=this;this.playTimeout=setTimeout((function(){o.playNext()}),s)},o.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},o.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},o.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},o.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},o.prototype.setPlayInterval=function(t){this.playInterval=t},o.prototype.getPlayInterval=function(){return this.playInterval},o.prototype.setPlayLoop=function(t){this.playLoop=t},o.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},o.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},o.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},o.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},o.prototype.getIndex=function(){return this.index},o.prototype.get=function(){return this.values[this.index]},o.prototype._onMouseDown=function(t){if(t.which?1===t.which:1===t.button){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},s.addEventListener(document,"mousemove",this.onmousemove),s.addEventListener(document,"mouseup",this.onmouseup),s.preventDefault(t)}},o.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t-3,s=Math.round(i/e*(this.values.length-1));return s<0&&(s=0),s>this.values.length-1&&(s=this.values.length-1),s},o.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return t/(this.values.length-1)*e+3},o.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,i=this.startSlideX+e,o=this.leftToIndex(i);this.setIndex(o),s.preventDefault()},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",s.removeEventListener(document,"mousemove",this.onmousemove),s.removeEventListener(document,"mouseup",this.onmouseup),s.preventDefault()},t.exports=o},function(t,e,i){function s(t,e,i,s){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,s)}s.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},s.prototype.setRange=function(t,e,i,s){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(i,s)},s.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=s.calculatePrettyStep(t):this._step=t)},s.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},i=Math.pow(10,Math.round(e(t))),s=2*Math.pow(10,Math.round(e(t/2))),o=5*Math.pow(10,Math.round(e(t/5))),n=i;return Math.abs(s-t)<=Math.abs(n-t)&&(n=s),Math.abs(o-t)<=Math.abs(n-t)&&(n=o),n<=0&&(n=1),n},s.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},s.prototype.getStep=function(){return this._step},s.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},s.prototype.next=function(){this._current+=this._step},s.prototype.end=function(){return this._current>this._end},t.exports=s},function(t,e,i){var s,o=i(6),n=(s=o)&&s.__esModule?s:{default:s},a=i(2),r=i(95),h=i(34),l={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},d={dot:l.DOT,"dot-line":l.DOTLINE,"dot-color":l.DOTCOLOR,"dot-size":l.DOTSIZE,line:l.LINE,grid:l.GRID,surface:l.SURFACE,bar:l.BAR,"bar-color":l.BARCOLOR,"bar-size":l.BARSIZE},c=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],u=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],p=void 0;function m(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function f(t,e){return void 0===t||""===t?e:t+(void 0===(i=e)||""===i||"string"!=typeof i?i:i.charAt(0).toUpperCase()+i.slice(1));var i}function g(t,e,i,s){for(var o,n=0;n<i.length;++n)e[f(s,o=i[n])]=t[o]}function v(t,e,i,s){for(var o,n=0;n<i.length;++n)void 0!==t[o=i[n]]&&(e[f(s,o)]=t[o])}function y(t,e){void 0!==t.backgroundColor&&function(t,e){var i="white",s="gray",o=1;if("string"==typeof t)i=t,s="none",o=0;else{if("object"!==(void 0===t?"undefined":(0,n.default)(t)))throw new Error("Unsupported type of backgroundColor");void 0!==t.fill&&(i=t.fill),void 0!==t.stroke&&(s=t.stroke),void 0!==t.strokeWidth&&(o=t.strokeWidth)}e.frame.style.backgroundColor=i,e.frame.style.borderColor=s,e.frame.style.borderWidth=o+"px",e.frame.style.borderStyle="solid"}(t.backgroundColor,e),function(t,e){void 0!==t&&(void 0===e.dataColor&&(e.dataColor={}),"string"==typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(t.fill&&(e.dataColor.fill=t.fill),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth)))}(t.dataColor,e),function(t,e){if(void 0!==t){var i,s;if("string"==typeof t){if(-1===(i=void 0===(s=d[t])?-1:s))throw new Error("Style '"+t+"' is invalid")}else{if(!function(t){var e=!1;for(var i in l)if(l[i]===t){e=!0;break}return e}(t))throw new Error("Style '"+t+"' is invalid");i=t}e.style=i}}(t.style,e),function(t,e){if(void 0===t){if(void 0===p.showLegend){var i=e.style===l.DOTCOLOR||e.style===l.DOTSIZE;e.showLegend=i}}else e.showLegend=t}(t.showLegend,e),b(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),null!=t.onclick&&(e.onclick_callback=t.onclick),void 0!==t.tooltipStyle&&a.selectiveDeepExtend(["tooltipStyle"],e,t)}function b(t,e){var i=t;void 0!==i&&(void 0===e.camera&&(e.camera=new r),e.camera.setArmRotation(i.horizontal,i.vertical),e.camera.setArmLength(i.distance))}t.exports.STYLE=l,t.exports.setDefaults=function(t,e){if(void 0===t||m(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");p=t,g(t,e,c),g(t,e,u,"default"),y(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.onclick_callback=null,e.eye=new h(0,0,-1)},t.exports.setOptions=function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===p||m(p))throw new Error("DEFAULTS not set for module Settings");v(t,e,c),v(t,e,u,"default"),y(t,e)}},t.exports.setCameraPosition=b},function(t,e,i){var s,o=i(165),n=(s=o)&&s.__esModule?s:{default:s},a=i(34);function r(){this.armLocation=new a,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new a,this.offsetMultiplier=.6,this.cameraLocation=new a,this.cameraRotation=new a(.5*Math.PI,0,0),this.calculateCameraOrientation()}r.prototype.setOffset=function(t,e){var i=Math.abs,s=n.default,o=this.offsetMultiplier,a=this.armLength*o;i(t)>a&&(t=s(t)*a),i(e)>a&&(e=s(e)*a),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},r.prototype.getOffset=function(){return this.cameraOffset},r.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},r.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},r.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},r.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},r.prototype.getArmLength=function(){return this.armLength},r.prototype.getCameraLocation=function(){return this.cameraLocation},r.prototype.getCameraRotation=function(){return this.cameraRotation},r.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x,e=this.cameraRotation.z,i=this.cameraOffset.x,s=this.cameraOffset.y,o=Math.sin,n=Math.cos;this.cameraLocation.x=this.cameraLocation.x+i*n(e)+s*-o(e)*n(t),this.cameraLocation.y=this.cameraLocation.y+i*o(e)+s*n(e)*n(t),this.cameraLocation.z=this.cameraLocation.z+s*o(t)},t.exports=r},function(t,e,i){var s=i(12);function o(t,e,i){this.dataGroup=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}o.prototype.isLoaded=function(){return this.loaded},o.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},o.prototype.getLabel=function(){return this.graph.filterLabel},o.prototype.getColumn=function(){return this.column},o.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},o.prototype.getValues=function(){return this.values},o.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},o.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var o=new s(this.dataGroup.getDataSet(),{filter:function(t){return t[i.column]==i.value}}).get();e=this.dataGroup._getDataPoints(o),this.dataPoints[t]=e}return e},o.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},o.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},o.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var s=this;setTimeout((function(){s.loadInBackground(t+1)}),10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=o},function(t,e,i){var s=i(35),o=i(44),n=i(10),a=i(2);function r(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=n(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach((function(t){e.hammer.on(t,(function(t){t.stopPropagation()}))})),document&&document.body&&(this.onClick=function(i){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=s(),this.escListener=this.deactivate.bind(this)}o(r.prototype),r.current=null,r.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},r.prototype.activate=function(){r.current&&r.current.deactivate(),r.current=this,this.active=!0,this.dom.overlay.style.display="none",a.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},r.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",a.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},r.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=r},function(t,e,i){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.it={current:"attuale",time:"tempo"},e.it_IT=e.it,e.it_CH=e.it,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl,e.de={current:"Aktuelle",time:"Zeit"},e.de_DE=e.de,e.fr={current:"actuel",time:"heure"},e.fr_FR=e.fr,e.fr_CA=e.fr,e.fr_BE=e.fr,e.es={current:"corriente",time:"hora"},e.es_ES=e.es},function(t,e,i){var s=n(i(29)),o=n(i(6));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(10),r=i(2),h=i(11),l=i(12),d=i(66),c=i(16),u=i(68),p=i(69),m=i(101),f=i(102),g=i(70),v=i(103),y=i(104).default,b="__ungrouped__",x="__background__";function w(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,i){var s=e.order;e.order=t.order,t.order=s},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:d.snap,onDropObjectOnItem:function(t,e,i){i(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=r.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,s){i._onAdd(e.items)},update:function(t,e,s){i._onUpdate(e.items)},remove:function(t,e,s){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,s){if(i._onAddGroups(e.items),i.groupsData&&i.groupsData.length>0){var o=i.groupsData.getDataSet();o.get().forEach((function(t){if(t.nestedGroups){0!=t.showNested&&(t.showNested=!0);var e=[];t.nestedGroups.forEach((function(i){var s=o.get(i);s&&(s.nestedInGroup=t.id,0==t.showNested&&(s.visible=!1),e=e.concat(s))})),o.update(e,s)}}))}},update:function(t,e,s){i._onUpdateGroups(e.items)},remove:function(t,e,s){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}w.prototype=new c,w.types={background:v,box:m,range:g,point:f},w.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;var s=document.createElement("div");s.className="vis-axis",this.dom.axis=s;var o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();var n=new p(x,null,this);n.show(),this.groups[x]=n,this.hammer=new a(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new a(this.body.dom.rightContainer):this.groupHammer=new a(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:a.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},w.prototype.setOptions=function(t){if(t){r.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,t),"itemsAlwaysDraggable"in t&&("boolean"==typeof t.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,o.default)(t.itemsAlwaysDraggable)&&(r.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===(0,o.default)(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===(0,o.default)(t.margin)&&(r.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===(0,o.default)(t.margin.item)&&r.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable,this.options.editable.overrideItems=!1):"object"===(0,o.default)(t.editable)&&r.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===(0,o.default)(t.groupEditable)&&r.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable));var e=function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}.bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(e),this.markDirty()}},w.prototype.markDirty=function(t){this.groupIds=[],t&&t.refreshItems&&r.forEach(this.items,(function(t){t.dirty=!0,t.displayed&&t.redraw()}))},w.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},w.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},w.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},w.prototype.setSelection=function(t){var e,i,s,o;for(null==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;e<i;e++)s=this.selection[e],(o=this.items[s])&&o.unselect();for(this.selection=[],e=0,i=t.length;e<i;e++)s=t[e],(o=this.items[s])&&(this.selection.push(s),o.select())},w.prototype.getSelection=function(){return this.selection.concat([])},w.prototype.getVisibleItems=function(){var t,e,i=this.body.range.getRange();this.options.rtl?(t=this.body.util.toScreen(i.start),e=this.body.util.toScreen(i.end)):(e=this.body.util.toScreen(i.start),t=this.body.util.toScreen(i.end));var s=[];for(var o in this.groups)if(this.groups.hasOwnProperty(o))for(var n=this.groups[o],a=n.isVisible?n.visibleItems:[],r=0;r<a.length;r++){var h=a[r];this.options.rtl?h.right<e&&h.right+h.width>t&&s.push(h.id):h.left<t&&h.left+h.width>e&&s.push(h.id)}return s},w.prototype._deselect=function(t){for(var e=this.selection,i=0,s=e.length;i<s;i++)if(e[i]==t){e.splice(i,1);break}},w.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=r.option.asSize,s=this.options,o=s.orientation.item,n=!1,a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",n=this._orderGroups()||n;var h=e.end-e.start,l=h!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,d=e.start!=this.lastRangeStart,c=s.stack!=this.lastStack,u=s.stackSubgroups!=this.lastStackSubgroups,p=l||d||c||u;this.lastVisibleInterval=h,this.lastRangeStart=e.start,this.lastStack=s.stack,this.lastStackSubgroups=s.stackSubgroups,this.props.lastWidth=this.props.width;var m=this._firstGroup(),f={item:t.item,axis:t.axis},g={item:t.item,axis:t.item.vertical/2},v=0,y=t.axis+t.item.vertical;this.groups[x].redraw(e,g,p);var b={},w=0;if(r.forEach(this.groups,(function(t,i){if(i!==x){var s=t==m?f:g;b[i]=t.redraw(e,s,p,!0),w=b[i].length}})),w>0){for(var _={},k=0;k<w;k++)r.forEach(b,(function(t,e){_[e]=t[k]()}));r.forEach(this.groups,(function(t,e){if(e!==x){var i=_[e];n=i||n,v+=t.height}})),v=Math.max(v,y)}return v=Math.max(v,y),a.style.height=i(v),this.props.width=a.offsetWidth,this.props.height=v,this.dom.axis.style.top=i("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,n=this._isResized()||n},w.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t];return this.groups[e]||this.groups[b]||null},w.prototype._updateUngrouped=function(){var t,e,i=this.groups[b];if(this.groupsData){if(i)for(e in i.hide(),delete this.groups[b],this.items)if(this.items.hasOwnProperty(e)){(t=this.items[e]).parent&&t.parent.remove(t);var s=this._getGroupId(t.data),o=this.groups[s];o&&o.add(t)||t.hide()}}else if(!i){for(e in i=new u(null,null,this),this.groups[b]=i,this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],i.add(t));i.show()}},w.prototype.getLabelSet=function(){return this.dom.labelSet},w.prototype.setItems=function(t){var e,i=this,s=this.itemsData;if(t){if(!(t instanceof h||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(s&&(r.forEach(this.itemListeners,(function(t,e){s.off(e,t)})),e=s.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;r.forEach(this.itemListeners,(function(t,e){i.itemsData.on(e,t,o)})),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},w.prototype.getItems=function(){return this.itemsData},w.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(r.forEach(this.groupListeners,(function(t,e){i.groupsData.off(e,t)})),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof h||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var s=this.groupsData;this.groupsData instanceof l&&(s=this.groupsData.getDataSet()),s.get().forEach((function(t){t.nestedGroups&&t.nestedGroups.forEach((function(e){var i=s.get(e);i.nestedInGroup=t.id,0==t.showNested&&(i.visible=!1),s.update(i)}))}));var o=this.id;r.forEach(this.groupListeners,(function(t,e){i.groupsData.on(e,t,o)})),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},w.prototype.getGroups=function(){return this.groupsData},w.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,(function(e){e&&i.remove(t)}))},w.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},w.prototype._getGroupId=function(t){return"background"==this._getType(t)&&null==t.group?x:this.groupsData?t.group:b},w.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var i,s=e.itemsData.get(t,e.itemOptions),o=e.items[t],n=s?e._getType(s):null,a=w.types[n];if(o&&(a&&o instanceof a?e._updateItem(o,s):(i=o.selected,e._removeItem(o),o=null)),!o&&s){if(!a)throw"rangeoverflow"==n?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+n+'"');(o=new a(s,e.conversion,e.options)).id=t,e._addItem(o),i&&(this.selection.push(t),o.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},w.prototype._onAdd=w.prototype._onUpdate,w.prototype._onRemove=function(t){var e=0,i=this;t.forEach((function(t){var s=i.items[t];s&&(e++,i._removeItem(s))})),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},w.prototype._order=function(){r.forEach(this.groups,(function(t){t.order()}))},w.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},w.prototype._onAddGroups=function(t){var e=this;t.forEach((function(t){var i=e.groupsData.get(t),o=e.groups[t];if(o)o.setData(i);else{if(t==b||t==x)throw new Error("Illegal group id. "+t+" is a reserved id.");var n=(0,s.default)(e.options);for(var a in r.extend(n,{height:null}),o=new u(t,i,e),e.groups[t]=o,e.items)if(e.items.hasOwnProperty(a)){var h=e.items[a];h.data.group==t&&o.add(h)}o.order(),o.show()}})),this.body.emitter.emit("_change",{queue:!0})},w.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach((function(t){var i=e[t];i&&(i.hide(),delete e[t])})),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},w.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!r.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach((function(t){i[t].hide()})),t.forEach((function(t){i[t].show()})),this.groupIds=t}return e}return!1},w.prototype._orderNestedGroups=function(t){var e=[];return t.forEach((function(t){var i=this.groupsData.get(t);if(i.nestedInGroup||e.push(t),i.nestedGroups){var s=this.groupsData.get({filter:function(e){return e.nestedInGroup==t},order:this.options.groupOrder}).map((function(t){return t.id}));e=e.concat(s)}}),this),e},w.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,i&&i.add(t)},w.prototype._updateItem=function(t,e){t.setData(e);var i=this._getGroupId(t.data),s=this.groups[i];s?s&&s.data&&s.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1},w.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},w.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof g&&e.push(t[i]);return e},w.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},w.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},w.prototype._onDragStart=function(t){if(!this.touchParams.itemIsDragging){var e,i=this.touchParams.item||null,s=this;if(i&&(i.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=i.editable&&!i.editable.updateTime&&!i.editable.updateGroup&&!this.options.editable.overrideItems)return;var o=this.touchParams.dragLeftItem,n=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=i,o)e={item:o,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(n)e={item:n,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();var a=this._getGroupIndex(i.data.group),r=this.options.itemsAlwaysDraggable.item&&!i.selected?[i.id]:this.getSelection();this.touchParams.itemProps=r.map(function(e){var i=s.items[e],o=s._getGroupIndex(i.data.group);return{item:i,initialX:t.center.x,groupOffset:a-o,data:this._cloneItemData(i.data)}}.bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}},w.prototype._onDragStartAddItem=function(t){var e,i,s=this.options.snap||null;this.options.rtl?i=(e=r.getAbsoluteRight(this.dom.frame))-t.center.x+10:(e=r.getAbsoluteLeft(this.dom.frame),i=t.center.x-e-10);var o=this.body.util.toTime(i),n=this.body.util.getScale(),a=this.body.util.getStep(),h=s?s(o,n,a):o,l={type:"range",start:h,end:h,content:"new item"},d=r.randomUUID();l[this.itemsData._fieldId]=d;var c=this.groupFromTarget(t);c&&(l.group=c.groupId);var u=new g(l,this.conversion,this.options);u.id=d,u.data=this._cloneItemData(l),this._addItem(u),this.touchParams.selectedItem=u;var p={item:u,initialX:t.center.x,data:u.data};this.options.rtl?p.dragLeft=!0:p.dragRight=!0,this.touchParams.itemProps=[p],t.stopPropagation()},w.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e,i=this,s=this.options.snap||null;e=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var o=this.body.util.getScale(),n=this.body.util.getStep(),a=this.touchParams.selectedItem,h=(this.options.editable.overrideItems||null==a.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=a.editable&&a.editable.updateGroup,l=null;if(h&&a&&null!=a.data.group){var d=i.groupFromTarget(t);d&&(l=this._getGroupIndex(d.groupId))}this.touchParams.itemProps.forEach(function(d){var c,u,p,m,f,g=i.body.util.toTime(t.center.x-e),v=i.body.util.toTime(d.initialX-e);c=this.options.rtl?-(g-v):g-v;var y=this._cloneItemData(d.item.data);if(null==d.item.editable||d.item.editable.updateTime||d.item.editable.updateGroup||i.options.editable.overrideItems){if((this.options.editable.overrideItems||null==a.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=a.editable&&a.editable.updateTime)if(d.dragLeft)this.options.rtl?null!=y.end&&(p=r.convert(d.data.end,"Date"),f=new Date(p.valueOf()+c),y.end=s?s(f,o,n):f):null!=y.start&&(u=r.convert(d.data.start,"Date"),m=new Date(u.valueOf()+c),y.start=s?s(m,o,n):m);else if(d.dragRight)this.options.rtl?null!=y.start&&(u=r.convert(d.data.start,"Date"),m=new Date(u.valueOf()+c),y.start=s?s(m,o,n):m):null!=y.end&&(p=r.convert(d.data.end,"Date"),f=new Date(p.valueOf()+c),y.end=s?s(f,o,n):f);else if(null!=y.start)if(u=r.convert(d.data.start,"Date").valueOf(),m=new Date(u+c),null!=y.end){var b=(p=r.convert(d.data.end,"Date")).valueOf()-u.valueOf();y.start=s?s(m,o,n):m,y.end=new Date(y.start.valueOf()+b)}else y.start=s?s(m,o,n):m;if(h&&!d.dragLeft&&!d.dragRight&&null!=l&&null!=y.group){var x=l-d.groupOffset;x=Math.max(0,x),x=Math.min(i.groupIds.length-1,x),y.group=i.groupIds[x]}y=this._cloneItemData(y),i.options.onMoving(y,function(t){t&&d.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},w.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var s=t.parent;s.remove(t),s.order(),t.data.group=i.groupId,i.add(t),i.order()}},w.prototype._onDragEnd=function(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.itemsData.getDataSet(),s=this.touchParams.itemProps;this.touchParams.itemProps=null,s.forEach(function(t){var s=t.item.id;if(null!=e.itemsData.get(s,e.itemOptions)){var o=this._cloneItemData(t.item.data);e.options.onMove(o,(function(o){o?(o[i._fieldId]=s,i.update(o)):(t.item.setData(t.data),e.body.emitter.emit("_change"))}))}else e.options.onAdd(t.item.data,(function(i){e._removeItem(t.item),i&&e.itemsData.getDataSet().add(i),e.body.emitter.emit("_change")}))}.bind(this))}},w.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(e&&e.nestedGroups){var i=this.groupsData.getDataSet(),s=i.get(e.groupId);null==s.showNested&&(s.showNested=!0),s.showNested=!s.showNested;var o=i.get(e.nestedGroups).map((function(t){return t.visible=s.showNested,t}));if(i.update(o.concat(s)),s.showNested)r.removeClassName(e.dom.label,"collapsed"),r.addClassName(e.dom.label,"expanded");else{r.removeClassName(e.dom.label,"expanded");var n=this.options.rtl?"collapsed-rtl":"collapsed";r.addClassName(e.dom.label,n)}}},w.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},w.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof l&&(e=this.groupsData.getDataSet());var i=this.groupFromTarget(t);if(i&&i.height!=this.groupTouchParams.group.height){var s=i.top<this.groupTouchParams.group.top,o=t.center?t.center.y:t.clientY,n=r.getAbsoluteTop(i.dom.foreground),a=this.groupTouchParams.group.height;if(s){if(n+a<o)return}else if(n+i.height-a>o)return}if(i&&i!=this.groupTouchParams.group){var h=e.get(i.groupId),d=e.get(this.groupTouchParams.group.groupId);d&&h&&(this.options.groupOrderSwap(d,h,e),e.update(d),e.update(h));var c=e.getIds({order:this.options.groupOrder});if(!r.equalArray(c,this.groupTouchParams.originalOrder))for(var u=this.groupTouchParams.originalOrder,p=this.groupTouchParams.group.groupId,m=Math.min(u.length,c.length),f=0,g=0,v=0;f<m;){for(;f+g<m&&f+v<m&&c[f+g]==u[f+v];)f++;if(f+g>=m)break;if(c[f+g]==p)g=1;else if(u[f+v]==p)v=1;else{var y=c.indexOf(u[f+v]),b=e.get(c[f+g]),x=e.get(u[f+v]);this.options.groupOrderSwap(b,x,e),e.update(b),e.update(x);var w=c[f+g];c[f+g]=u[f+v],c[y]=w,f++}}}}},w.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,i=e.groupTouchParams.group.groupId,s=e.groupsData.getDataSet(),o=r.extend({},s.get(i));e.options.onMoveGroup(o,(function(t){if(t)t[s._fieldId]=i,s.update(t);else{var o=s.getIds({order:e.options.groupOrder});if(!r.equalArray(o,e.groupTouchParams.originalOrder))for(var n=e.groupTouchParams.originalOrder,a=Math.min(n.length,o.length),h=0;h<a;){for(;h<a&&o[h]==n[h];)h++;if(h>=a)break;var l=o.indexOf(n[h]),d=s.get(o[h]),c=s.get(n[h]);e.options.groupOrderSwap(d,c,s),s.update(d),s.update(c);var u=o[h];o[h]=n[h],o[l]=u,h++}}})),e.body.emitter.emit("groupDragged",{groupId:i})}},w.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey;if(e||i)this._onMultiSelectItem(t);else{var s=this.getSelection(),o=this.itemFromTarget(t),n=o?[o.id]:[];this.setSelection(n);var a=this.getSelection();(a.length>0||s.length>0)&&this.body.emitter.emit("select",{items:a,event:t})}}},w.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(e&&e!==this.itemFromRelatedTarget(t)){var i=e.getTitle();if(this.options.showTooltips&&i){null==this.popup&&(this.popup=new y(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);var s=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-r.getAbsoluteLeft(s)+s.offsetLeft,t.clientY-r.getAbsoluteTop(s)+s.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}},w.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);e&&e!==this.itemFromRelatedTarget(t)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))},w.prototype._onMouseMove=function(t){if(this.itemFromTarget(t)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var e=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-r.getAbsoluteLeft(e)+e.offsetLeft,t.clientY-r.getAbsoluteTop(e)+e.offsetTop),this.popup.show()}},w.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},w.prototype._onUpdateItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this;if(t){var i=e.itemsData.get(t.id);this.options.onUpdate(i,(function(t){t&&e.itemsData.getDataSet().update(t)}))}}},w.prototype._onDropObjectOnItem=function(t){var e=this.itemFromTarget(t),i=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,e)},w.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e,i,s=this,o=this.options.snap||null;this.options.rtl?i=(e=r.getAbsoluteRight(this.dom.frame))-t.center.x:(e=r.getAbsoluteLeft(this.dom.frame),i=t.center.x-e);var n,a,h=this.body.util.toTime(i),l=this.body.util.getScale(),d=this.body.util.getStep();"drop"==t.type?((a=JSON.parse(t.dataTransfer.getData("text"))).content=a.content?a.content:"new item",a.start=a.start?a.start:o?o(h,l,d):h,a.type=a.type||"box",a[this.itemsData._fieldId]=a.id||r.randomUUID(),"range"!=a.type||a.end||(n=this.body.util.toTime(i+this.props.width/5),a.end=o?o(n,l,d):n)):((a={start:o?o(h,l,d):h,content:"new item"})[this.itemsData._fieldId]=r.randomUUID(),"range"===this.options.type&&(n=this.body.util.toTime(i+this.props.width/5),a.end=o?o(n,l,d):n));var c=this.groupFromTarget(t);c&&(a.group=c.groupId),a=this._cloneItemData(a),this.options.onAdd(a,(function(e){e&&(s.itemsData.getDataSet().add(e),"drop"==t.type&&s.setSelection([e.id]))}))}},w.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[];if(t.srcEvent&&t.srcEvent.shiftKey&&this.options.multiselect){var s=this.itemsData.get(e.id).group,o=void 0;this.options.multiselectPerGroup&&i.length>0&&(o=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&null!=o&&o!=s||i.push(e.id);var n=w._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||o==s)for(var a in i=[],this.items)if(this.items.hasOwnProperty(a)){var r=this.items[a],h=r.data.start,l=void 0!==r.data.end?r.data.end:h;!(h>=n.min&&l<=n.max)||this.options.multiselectPerGroup&&o!=this.itemsData.get(r.id).group||r instanceof v||i.push(r.id)}}else{var d=i.indexOf(e.id);-1==d?i.push(e.id):i.splice(d,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},w._getItemRange=function(t){var e=null,i=null;return t.forEach((function(t){(null==i||t.start<i)&&(i=t.start),null!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)})),{min:i,max:e}},w.prototype.itemFromElement=function(t){for(var e=t;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},w.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},w.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},w.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY,i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(var s=0;s<i.length;s++){var o=i[s],n=this.groups[o],a=n.dom.foreground,h=r.getAbsoluteTop(a);if(e>h&&e<h+a.offsetHeight)return n;if("top"===this.options.orientation.item){if(s===this.groupIds.length-1&&e>h)return n}else if(0===s&&e<h+a.offset)return n}return null},w.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},w.prototype._cloneItemData=function(t,e){var i=r.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),null!=i.start&&(i.start=r.convert(i.start,e&&e.start||"Date")),null!=i.end&&(i.end=r.convert(i.end,e&&e.end||"Date")),i},t.exports=w},function(t,e,i){e.orderByStart=function(t){t.sort((function(t,e){return t.data.start-e.data.start}))},e.orderByEnd=function(t){t.sort((function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)}))},e.stack=function(t,i,s){if(s)for(var o=0;o<t.length;o++)t[o].top=null;for(o=0;o<t.length;o++){var n=t[o];if(n.stack&&null===n.top){n.top=i.axis;do{for(var a=null,r=0,h=t.length;r<h;r++){var l=t[r];if(null!==l.top&&l!==n&&l.stack&&e.collision(n,l,i.item,l.options.rtl)){a=l;break}}null!=a&&(n.top=a.top+a.height+i.item.vertical)}while(a)}}},e.substack=function(t,i,s){for(var o=0;o<t.length;o++)t[o].top=null;var n=s.height;for(o=0;o<t.length;o++){var a=t[o];if(a.stack&&null===a.top){a.top=a.baseTop;do{for(var r=null,h=0,l=t.length;h<l;h++){var d=t[h];if(null!==d.top&&d!==a&&e.collision(a,d,i.item,d.options.rtl)){r=d;break}}null!=r&&(a.top=r.top+r.height+i.item.vertical),a.top+a.height>n&&(n=a.top+a.height)}while(r)}}s.height=n-s.top+.5*i.item.vertical},e.nostack=function(t,i,s,o){for(var n=0;n<t.length;n++)if(null==t[n].data.subgroup)t[n].top=i.item.vertical;else if(void 0!==t[n].data.subgroup&&o){var a=0;for(var r in s)s.hasOwnProperty(r)&&1==s[r].visible&&s[r].index<s[t[n].data.subgroup].index&&(a+=s[r].height,s[t[n].data.subgroup].top=a);t[n].top=a+.5*i.item.vertical}o||e.stackSubgroups(t,i,s)},e.stackSubgroups=function(t,i,s){for(var o in s)if(s.hasOwnProperty(o)){s[o].top=0;do{var n=null;for(var a in s)if(null!==s[a].top&&a!==o&&s[o].index>s[a].index&&e.collisionByTimes(s[o],s[a])){n=s[a];break}null!=n&&(s[o].top=n.top+n.height)}while(n)}for(var r=0;r<t.length;r++)void 0!==t[r].data.subgroup&&(t[r].top=s[t[r].data.subgroup].top+.5*i.item.vertical)},e.stackSubgroupsWithInnerStack=function(t,i,s){var o=!1,n=[];for(var a in s)s[a].hasOwnProperty("index")?n[s[a].index]=a:n.push(a);for(var r=0;r<n.length;r++)if(a=n[r],s.hasOwnProperty(a)){for(var h in o=o||s[a].stack,s[a].top=0,s)s[h].visible&&s[a].index>s[h].index&&(s[a].top+=s[h].height);for(var l=t[a],d=0;d<l.length;d++)void 0!==l[d].data.subgroup&&(l[d].top=s[l[d].data.subgroup].top+.5*i.item.vertical,s[a].stack&&(l[d].baseTop=l[d].top));o&&s[a].stack&&e.substack(t[a],i,s[a])}},e.collision=function(t,e,i,s){return s?t.right-i.horizontal+.001<e.right+e.width&&t.right+t.width+i.horizontal-.001>e.right&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top:t.left-i.horizontal+.001<e.left+e.width&&t.left+t.width+i.horizontal-.001>e.left&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top},e.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,i){var s=i(38);function o(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);s.call(this,t,e,i)}o.prototype=new s(null,null,null),o.prototype.isVisible=function(t){var e=this.options.align,i=this.width*t.getMillisecondsPerPixel();return"right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-i<t.end:"left"==e?this.data.start.getTime()+i>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+i/2>t.start&&this.data.start.getTime()-i/2<t.end},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var i=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");i.appendChild(this.dom.dot)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+e,this.dom.line.className="vis-item vis-line"+e,this.dom.dot.className="vis-item vis-dot"+e}},o.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},o.prototype.redraw=function(t){var e,i,s=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?s:(s.forEach((function(t){i=t()})),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,i=this.dom.line,s=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var o=this.parent.itemSet.props.height,n=o-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=o-n+"px",i.style.bottom="0"}s.style.top=-this.props.dot.height/2+"px"},o.prototype.getWidthLeft=function(){return this.width/2},o.prototype.getWidthRight=function(){return this.width/2},t.exports=o},function(t,e,i){var s=i(38);function o(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);s.call(this,t,e,i)}o.prototype=new s(null,null,null),o.prototype.isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+e,this.dom.dot.className="vis-item vis-dot"+e}},o.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},o.prototype.redraw=function(t){var e,i,s=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?s:(s.forEach((function(t){i=t()})),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype.getWidthLeft=function(){return this.props.dot.width},o.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=o},function(t,e,i){var s=i(38),o=i(69),n=i(70);function a(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}s.call(this,t,e,i)}a.prototype=new s(null,null,null),a.prototype.baseClassName="vis-item vis-background",a.prototype.stack=!1,a.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},a.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},a.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0},a.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+t}},a.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},a.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1},a.prototype._repaintDomAdditionals=function(){},a.prototype.redraw=function(t){var e,i,s=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?s:(s.forEach((function(t){i=t()})),i)},a.prototype.show=n.prototype.show,a.prototype.hide=n.prototype.hide,a.prototype.repositionX=n.prototype.repositionX,a.prototype.repositionY=function(t){var e,i=this.options.orientation.item;if(void 0!==this.data.subgroup){var s=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[s].height+"px",this.dom.box.style.top="top"==i?this.parent.top+this.parent.subgroups[s].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[s].top-this.parent.subgroups[s].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof o?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==i?"0":"",this.dom.box.style.top="top"==i?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,i){(0,s.default)(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,o.default)(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,n=0,a=0;if("flip"==this.overflowMethod){var r=!1,h=!0;this.y-e<this.padding&&(h=!1),this.x+i>o-this.padding&&(r=!0),n=r?this.x-i:this.x,a=h?this.y-e:this.y}else(a=this.y-e)+e+this.padding>s&&(a=s-e-this.padding),a<this.padding&&(a=this.padding),(n=this.x)+i+this.padding>o&&(n=o-i-this.padding),n<this.padding&&(n=this.padding);this.frame.style.left=n+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s="string",o="boolean",n="number",a="object",r={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:a,boolean:o,function:"function"}},align:{string:s},rtl:{boolean:o,undefined:"undefined"},rollingMode:{follow:{boolean:o},offset:{number:n,undefined:"undefined"},__type__:{object:a}},verticalScroll:{boolean:o,undefined:"undefined"},horizontalScroll:{boolean:o,undefined:"undefined"},autoResize:{boolean:o},throttleRedraw:{number:n},clickToUse:{boolean:o},dataAttributes:{string:s,array:"array"},editable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},updateGroup:{boolean:o,undefined:"undefined"},updateTime:{boolean:o,undefined:"undefined"},overrideItems:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:a}},end:{number:n,date:"date",string:s,moment:"moment"},format:{minorLabels:{millisecond:{string:s,undefined:"undefined"},second:{string:s,undefined:"undefined"},minute:{string:s,undefined:"undefined"},hour:{string:s,undefined:"undefined"},weekday:{string:s,undefined:"undefined"},day:{string:s,undefined:"undefined"},week:{string:s,undefined:"undefined"},month:{string:s,undefined:"undefined"},year:{string:s,undefined:"undefined"},__type__:{object:a,function:"function"}},majorLabels:{millisecond:{string:s,undefined:"undefined"},second:{string:s,undefined:"undefined"},minute:{string:s,undefined:"undefined"},hour:{string:s,undefined:"undefined"},weekday:{string:s,undefined:"undefined"},day:{string:s,undefined:"undefined"},week:{string:s,undefined:"undefined"},month:{string:s,undefined:"undefined"},year:{string:s,undefined:"undefined"},__type__:{object:a,function:"function"}},__type__:{object:a}},moment:{function:"function"},groupOrder:{string:s,function:"function"},groupEditable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},order:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:a}},groupOrderSwap:{function:"function"},height:{string:s,number:n},hiddenDates:{start:{date:"date",number:n,string:s,moment:"moment"},end:{date:"date",number:n,string:s,moment:"moment"},repeat:{string:s},__type__:{object:a,array:"array"}},itemsAlwaysDraggable:{item:{boolean:o,undefined:"undefined"},range:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:a}},limitSize:{boolean:o},locale:{string:s},locales:{__any__:{any:"any"},__type__:{object:a}},margin:{axis:{number:n},item:{horizontal:{number:n,undefined:"undefined"},vertical:{number:n,undefined:"undefined"},__type__:{object:a,number:n}},__type__:{object:a,number:n}},max:{date:"date",number:n,string:s,moment:"moment"},maxHeight:{number:n,string:s},maxMinorChars:{number:n},min:{date:"date",number:n,string:s,moment:"moment"},minHeight:{number:n,string:s},moveable:{boolean:o},multiselect:{boolean:o},multiselectPerGroup:{boolean:o},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:s,undefined:"undefined"},item:{string:s,undefined:"undefined"},__type__:{string:s,object:a}},selectable:{boolean:o},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},stack:{boolean:o},stackSubgroups:{boolean:o},snap:{function:"function",null:"null"},start:{date:"date",number:n,string:s,moment:"moment"},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:s,function:"function"},showTooltips:{boolean:o},tooltip:{followMouse:{boolean:o},overflowMethod:{string:["cap","flip"]},__type__:{object:a}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:o,object:a}},timeAxis:{scale:{string:s,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:a}},type:{string:s},width:{string:s,number:n},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},__type__:{object:a}};e.allOptions=r,e.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(t,e,i){var s,o=i(6),n=(s=o)&&s.__esModule?s:{default:s},a=i(2),r=i(14),h=i(11),l=i(12),d=i(16),c=i(107),u=i(109),p=i(112),m=i(110),f=i(111),g=i(72);function v(t,e){this.id=a.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=a.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,s){i._onAdd(e.items)},update:function(t,e,s){i._onUpdate(e.items)},remove:function(t,e,s){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,s){i._onAddGroups(e.items)},update:function(t,e,s){i._onUpdateGroups(e.items)},remove:function(t,e,s){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",(function(){i.lastStart=i.body.range.start,i.svg.style.left=a.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)})),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}v.prototype=new d,v.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new c(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new c(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new p(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new p(this.body,this.options.legend,"right",this.options.groups),this.show()},v.prototype.setOptions=function(t){t&&(void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),a.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),a.mergeOptions(this.options,t,"interpolation"),a.mergeOptions(this.options,t,"drawPoints"),a.mergeOptions(this.options,t,"shaded"),a.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,n.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(t)),this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},v.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},v.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},v.prototype.setItems=function(t){var e,i=this,s=this.itemsData;if(t){if(!(t instanceof h||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(s&&(a.forEach(this.itemListeners,(function(t,e){s.off(e,t)})),e=s.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;a.forEach(this.itemListeners,(function(t,e){i.itemsData.on(e,t,o)})),e=this.itemsData.getIds(),this._onAdd(e)}},v.prototype.setGroups=function(t){var e,i=this;if(this.groupsData){a.forEach(this.groupListeners,(function(t,e){i.groupsData.off(e,t)})),e=this.groupsData.getIds(),this.groupsData=null;for(var s=0;s<e.length;s++)this._removeGroup(e[s])}if(t){if(!(t instanceof h||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;a.forEach(this.groupListeners,(function(t,e){i.groupsData.on(e,t,o)})),e=this.groupsData.getIds(),this._onAddGroups(e)}},v.prototype._onUpdate=function(t){this._updateAllGroupData(t)},v.prototype._onAdd=function(t){this._onUpdate(t)},v.prototype._onRemove=function(t){this._onUpdate(t)},v.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},v.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},v.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},v.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},v.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new u(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},v.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var i={},s=this.itemsData.get(),o=this.itemsData._fieldId,n={};t&&t.map((function(t){n[t]=t}));for(var r={},h=0;h<s.length;h++){var l=s[h],d=l.group;null==d&&(d="__ungrouped__"),r.hasOwnProperty(d)?r[d]++:r[d]=1}var c={};if(!e&&t)for(d in this.groups)if(this.groups.hasOwnProperty(d)){var u=(g=this.groups[d]).getItems();i[d]=u.filter((function(t){return c[t[o]]=t[o],t[o]!==n[t[o]]}));var p=r[d];r[d]-=i[d].length,i[d].length<p&&(i[d][p-1]={})}for(h=0;h<s.length;h++)if(null==(d=(l=s[h]).group)&&(d="__ungrouped__"),e||!t||l[o]===n[l[o]]||!c.hasOwnProperty(l[o])){i.hasOwnProperty(d)||(i[d]=new Array(r[d]));var m=a.bridgeObject(l);m.x=a.convert(l.x,"Date"),m.end=a.convert(l.end,"Date"),m.orginalY=l.y,m.y=Number(l.y),m[o]=l[o];var f=i[d].length-r[d]--;i[d][f]=m}for(d in this.groups)this.groups.hasOwnProperty(d)&&(i.hasOwnProperty(d)||(i[d]=new Array(0)));for(d in i)if(i.hasOwnProperty(d))if(0==i[d].length)this.groups.hasOwnProperty(d)&&this._removeGroup(d);else{var g=void 0;null!=this.groupsData&&(g=this.groupsData.get(d)),null==g&&(g={id:d,content:this.options.defaultGroup+d}),this._updateGroup(g,d),this.groups[d].setItems(i[d])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},v.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,i=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,1==t&&(this.svg.style.width=a.option.asSize(3*this.props.width),this.svg.style.left=a.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)t=this._updateGraph()||t,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var s=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(0!=this.props.width){var n=s*(this.props.width/o);this.svg.style.left=-this.props.width-n+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},v.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}a.insertSort(t,(function(t,e){var i=t.zIndex,s=e.zIndex;return void 0===i&&(i=0),void 0===s&&(s=0),i==s?0:i<s?-1:1}));for(var s=new Array(t.length),o=0;o<t.length;o++)s[o]=t[o].id;return s},v.prototype._updateGraph=function(){if(r.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},s=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),n=this._getSortedGroupIds();if(n.length>0){var a={};for(this._getRelevantData(n,a,s,o),this._applySampling(n,a),e=0;e<n.length;e++)this._convertXcoordinates(a[n[e]]);if(this._getYRanges(n,a,i),1==this._updateYAxis(n,i))return r.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var h=void 0;for(e=0;e<n.length;e++)t=this.groups[n[e]],!0===this.options.stack&&"line"===this.options.style&&(null!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(null!=h&&(this._stack(a[t.id],a[h.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==h.options.shaded.orientation?(h.options.shaded.orientation="group",h.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=h.id))),h=t)),this._convertYcoordinates(a[n[e]],t);var l={};for(e=0;e<n.length;e++)if("line"===(t=this.groups[n[e]]).options.style&&1==t.options.shaded.enabled){var d=a[n[e]];if(null==d||0==d.length)continue;if(l.hasOwnProperty(n[e])||(l[n[e]]=f.calcPath(d,t)),"group"===t.options.shaded.orientation){var c=t.options.shaded.groupId;if(-1===n.indexOf(c)){console.log(t.id+": Unknown shading group target given:"+c);continue}l.hasOwnProperty(c)||(l[c]=f.calcPath(a[c],this.groups[c])),f.drawShading(l[n[e]],t,l[c],this.framework)}else f.drawShading(l[n[e]],t,void 0,this.framework)}for(m.draw(n,a,this.framework),e=0;e<n.length;e++)if(t=this.groups[n[e]],a[n[e]].length>0)switch(t.options.style){case"line":l.hasOwnProperty(n[e])||(l[n[e]]=f.calcPath(a[n[e]],t)),f.draw(l[n[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||g.draw(a[n[e]],t,this.framework)}}}return r.cleanupElements(this.svgElements),!1},v.prototype._stack=function(t,e){var i,s,o,n,a;i=0;for(var r=0;r<t.length;r++){n=void 0,a=void 0;for(var h=i;h<e.length;h++){if(e[h].x===t[r].x){n=e[h],a=e[h],i=h;break}if(e[h].x>t[r].x){a=e[h],n=0==h?a:e[h-1],i=h;break}}void 0===a&&(n=e[e.length-1],a=e[e.length-1]),s=a.x-n.x,o=a.y-n.y,t[r].y=0==s?t[r].orginalY+a.y:t[r].orginalY+o/s*(t[r].x-n.x)+n.y}},v.prototype._getRelevantData=function(t,e,i,s){var o,n,r,h;if(t.length>0)for(n=0;n<t.length;n++){var l=(o=this.groups[t[n]]).getItems();if(1==o.options.sort){var d=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},c=Math.max(0,a.binarySearchValue(l,i,"x","before",d)),u=Math.min(l.length,a.binarySearchValue(l,s,"x","after",d)+1);u<=0&&(u=l.length);var p=new Array(u-c);for(r=c;r<u;r++)h=o.itemsData[r],p[r-c]=h;e[t[n]]=p}else e[t[n]]=o.itemsData}},v.prototype._applySampling=function(t,e){if(t.length>0)for(var i=0;i<t.length;i++)if(1==this.groups[t[i]].options.sampling){var s=e[t[i]];if(s.length>0){var o,n=s.length,a=n/(this.body.util.toGlobalScreen(s[s.length-1].x)-this.body.util.toGlobalScreen(s[0].x));o=Math.min(Math.ceil(.2*n),Math.max(1,Math.round(a)));for(var r=new Array(n),h=0;h<n;h+=o)r[Math.round(h/o)]=s[h];e[t[i]]=r.splice(0,Math.round(n/o))}}},v.prototype._getYRanges=function(t,e,i){var s,o,n,a,r=[],h=[];if(t.length>0){for(n=0;n<t.length;n++)s=e[t[n]],a=this.groups[t[n]].options,s.length>0&&(o=this.groups[t[n]],!0===a.stack&&"bar"===a.style?"left"===a.yAxisOrientation?r=r.concat(s):h=h.concat(s):i[t[n]]=o.getYRange(s,t[n]));m.getStackedYRange(r,i,t,"__barStackLeft","left"),m.getStackedYRange(h,i,t,"__barStackRight","right")}},v.prototype._updateYAxis=function(t,e){var i,s,o=!1,n=!1,a=!1,r=1e9,h=1e9,l=-1e9,d=-1e9;if(t.length>0){for(var c=0;c<t.length;c++){var u=this.groups[t[c]];u&&"right"!=u.options.yAxisOrientation?(n=!0,r=1e9,l=-1e9):u&&u.options.yAxisOrientation&&(a=!0,h=1e9,d=-1e9)}for(c=0;c<t.length;c++)e.hasOwnProperty(t[c])&&!0!==e[t[c]].ignore&&(i=e[t[c]].min,s=e[t[c]].max,"right"!=e[t[c]].yAxisOrientation?(n=!0,r=r>i?i:r,l=l<s?s:l):(a=!0,h=h>i?i:h,d=d<s?s:d));1==n&&this.yAxisLeft.setRange(r,l),1==a&&this.yAxisRight.setRange(h,d)}o=this._toggleAxisVisiblity(n,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(a,this.yAxisRight)||o,1==a&&1==n?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!n,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==a?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o,o=this.yAxisRight.redraw()||o):o=this.yAxisRight.redraw()||o;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(c=0;c<p.length;c++)-1!=t.indexOf(p[c])&&t.splice(t.indexOf(p[c]),1);return o},v.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},v.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y,null!=t[i].end?t[i].screen_end=e(t[i].end)+this.props.width:t[i].screen_end=void 0},v.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,s=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var o=0;o<t.length;o++)t[o].screen_y=Math.round(i.convertValue(t[o].y));e.setZeroPosition(Math.min(s,i.convertValue(0)))},t.exports=v},function(t,e,i){var s,o=i(8),n=(s=o)&&s.__esModule?s:{default:s},a=i(2),r=i(14),h=i(16),l=i(108);function d(t,e,i,s){this.id=a.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=s,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=a.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var o=this;this.body.emitter.on("verticalDrag",(function(){o.dom.lineContainer.style.top=o.body.domProps.scrollTop+"px"}))}d.prototype=new h,d.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},d.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},d.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},d.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0),a.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},d.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},d.prototype._redrawGroupIcons=function(){var t;r.prepareElements(this.svgElements);var e=this.options.iconWidth,i=11.5;t="left"===this.options.orientation?4:this.width-e-4;var s=(0,n.default)(this.groups);s.sort((function(t,e){return t<e?-1:1}));for(var o=0;o<s.length;o++){var a=s[o];!0!==this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&!0!==this.linegraphOptions.visibility[a]||(this.groups[a].getLegend(e,15,this.framework,t,i),i+=19)}r.cleanupElements(this.svgElements),this.iconsRemoved=!1},d.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(r.prepareElements(this.svgElements),r.cleanupElements(this.svgElements),this.iconsRemoved=!0)},d.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},d.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},d.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},d.prototype.redraw=function(){var t=!1,e=0;for(var i in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(i)&&(!0!==this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&!0!==this.linegraphOptions.visibility[i]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var s=this.props,o=this.dom.frame;o.className="vis-data-axis",this._calculateCharSize();var n=this.options.orientation,a=this.options.showMinorLabels,r=this.options.showMajorLabels;s.minorLabelHeight=a?s.minorCharHeight:0,s.majorLabelHeight=r?s.majorCharHeight:0,s.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,s.minorLineHeight=1,s.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,s.majorLineHeight=1,"left"===n?(o.style.top="0",o.style.left="0",o.style.bottom="",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(o.style.top="",o.style.bottom="0",o.style.left="0",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(n)}return t},d.prototype._redrawLabels=function(){var t=this,e=!1;r.prepareElements(this.DOMelements.lines),r.prepareElements(this.DOMelements.labels);var i=this.options.orientation,s=null!=this.options[i].range?this.options[i].range:{},o=!0;null!=s.max&&(this.range.end=s.max,o=!1);var n=!0;null!=s.min&&(this.range.start=s.min,n=!1),this.scale=new l(this.range.start,this.range.end,n,o,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach((function(e){var s=e.y,o=e.major;t.options.showMinorLabels&&!1===o&&t._redrawLabel(s-2,e.val,i,"vis-y-axis vis-minor",t.props.minorCharHeight),o&&s>=0&&t._redrawLabel(s-2,e.val,i,"vis-y-axis vis-major",t.props.majorCharHeight),!0===t.master&&(o?t._redrawLine(s,i,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(s,i,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))}));var a=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(a=this.props.titleCharHeight);var h=!0===this.options.icons?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-h&&!0===this.options.visible?(this.width=this.maxLabelSize+h,this.options.width=this.width+"px",r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-h&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+h),this.options.width=this.width+"px",r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),e=!1),e},d.prototype.convertValue=function(t){return this.scale.convertValue(t)},d.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},d.prototype._redrawLabel=function(t,e,i,s,o){var n=r.getDOMElement("div",this.DOMelements.labels,this.dom.frame);n.className=s,n.innerHTML=e,"left"===i?(n.style.left="-"+this.options.labelOffsetX+"px",n.style.textAlign="right"):(n.style.right="-"+this.options.labelOffsetX+"px",n.style.textAlign="left"),n.style.top=t-.5*o+this.options.labelOffsetY+"px",e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)},d.prototype._redrawLine=function(t,e,i,s,o){if(!0===this.master){var n=r.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);n.className=i,n.innerHTML="","left"===e?n.style.left=this.width-s+"px":n.style.right=this.width-s+"px",n.style.width=o+"px",n.style.top=t+"px"}},d.prototype._redrawTitle=function(t){if(r.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=r.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&a.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}r.cleanupElements(this.DOMelements.title)},d.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),s=document.createElement("div");s.className="vis-y-axis vis-major vis-measure",s.appendChild(i),this.dom.frame.appendChild(s),this.props.majorCharHeight=s.clientHeight,this.props.majorCharWidth=s.clientWidth,this.dom.frame.removeChild(s)}if(!("titleCharHeight"in this.props)){var o=document.createTextNode("0"),n=document.createElement("div");n.className="vis-y-axis vis-title vis-measure",n.appendChild(o),this.dom.frame.appendChild(n),this.props.titleCharHeight=n.clientHeight,this.props.titleCharWidth=n.clientWidth,this.dom.frame.removeChild(n)}},t.exports=d},function(t,e,i){function s(t,e,i,s,o,n){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],r=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=n,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=i,this.autoScaleEnd=s,this.formattingFunction=r,i||s){var h=this,l=function(t){var e=t-t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx]);return t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx])>h.magnitudefactor*h.minorSteps[h.minorStepIdx]*.5?e+h.magnitudefactor*h.minorSteps[h.minorStepIdx]:e};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=l(this._start)),s&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=l(this._end)),this.determineScale()}}s.prototype.setCharHeight=function(t){this.majorCharHeight=t},s.prototype.setHeight=function(t){this.containerHeight=t},s.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,i=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);var s=0;i<0&&(s=i);for(var o=!1,n=s;Math.abs(n)<=Math.abs(i);n++){this.magnitudefactor=Math.pow(10,n);for(var a=0;a<this.minorSteps.length;a++)if(this.magnitudefactor*this.minorSteps[a]>=e){o=!0,this.minorStepIdx=a;break}if(!0===o)break}},s.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},s.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},s.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},s.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},s.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=(e-this._start%e)%e,s=this._start+i;this._end-s>1e-5;s+=e)s!=this._start&&t.push({major:this.is_major(s),y:this.convertValue(s),val:this.formatValue(s)});return t},s.prototype.followScale=function(t){var e=this.minorStepIdx,i=this._start,s=this._end,o=this,n=function(){o.magnitudefactor*=2},a=function(){o.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e||n(),n()):(this.minorStepIdx=2,1==e||a(),a()));for(var r=t.convertValue(0),h=t.getStep()*t.scale,l=!1,d=0;!l&&d++<5;){this.scale=h/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var c=this.containerHeight/this.scale;this._start=i,this._end=this._start+c;var u=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],m=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var f=r-u;this._end+=f/this.scale,this._start=this._end-c}else this.autoScaleStart?(this._start-=m/this.scale,this._end=this._start+c):(this._start+=p-m/this.scale,this._end=this._start+c);if(!this.autoScaleEnd&&this._end>s+1e-5)a(),l=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){a(),l=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&c<s-i?(n(),l=!1):l=!0}}},s.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},s.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=s},function(t,e,i){var s,o=i(6),n=(s=o)&&s.__esModule?s:{default:s},a=i(2),r=i(110),h=i(111),l=i(72);function d(t,e,i,s){this.id=e,this.options=a.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=s,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}d.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&a.insertSort(this.itemsData,(function(t,e){return t.x>e.x?1:-1}))):this.itemsData=[]},d.prototype.getItems=function(){return this.itemsData},d.prototype.setZeroPosition=function(t){this.zeroPosition=t},d.prototype.setOptions=function(t){void 0!==t&&(a.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),a.mergeOptions(this.options,t,"interpolation"),a.mergeOptions(this.options,t,"drawPoints"),a.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,n.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},d.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},d.prototype.getLegend=function(t,e,i,s,o){switch(null!=i&&null!=i||(i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),null!=s&&null!=s||(s=0),null!=o&&null!=o||(o=.5*e),this.options.style){case"line":h.drawIcon(this,s,o,t,e,i);break;case"points":case"point":l.drawIcon(this,s,o,t,e,i);break;case"bar":r.drawIcon(this,s,o,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},d.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,s=0;s<t.length;s++)e=e>t[s].y?t[s].y:e,i=i<t[s].y?t[s].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=d},function(t,e,i){var s=i(14),o=i(72);function n(t,e){}n.drawIcon=function(t,e,i,o,n,a){var r=.5*n,h=s.getSVGElement("rect",a.svgElements,a.svg);h.setAttributeNS(null,"x",e),h.setAttributeNS(null,"y",i-r),h.setAttributeNS(null,"width",o),h.setAttributeNS(null,"height",2*r),h.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*o),d=t.options.barChart.width/l,c=Math.round(.4*n),u=Math.round(.75*n),p=Math.round((o-2*l)/3);if(s.drawBar(e+.5*l+p,i+r-c-1,l,c,t.className+" vis-bar",a.svgElements,a.svg,t.style),s.drawBar(e+1.5*l+p+2,i+r-u-1,l,u,t.className+" vis-bar",a.svgElements,a.svg,t.style),1==t.options.drawPoints.enabled){var m={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/d,className:t.className};s.drawPoint(e+.5*l+p,i+r-c-1,m,a.svgElements,a.svg),s.drawPoint(e+1.5*l+p+2,i+r-u-1,m,a.svgElements,a.svg)}},n.draw=function(t,e,i){var a,r,h,l,d,c,u=[],p={},m=0;for(d=0;d<t.length;d++)if("bar"===(l=i.groups[t[d]]).options.style&&!0===l.visible&&(void 0===i.options.groups.visibility[t[d]]||!0===i.options.groups.visibility[t[d]]))for(c=0;c<e[t[d]].length;c++)u.push({screen_x:e[t[d]][c].screen_x,screen_end:e[t[d]][c].screen_end,screen_y:e[t[d]][c].screen_y,x:e[t[d]][c].x,end:e[t[d]][c].end,y:e[t[d]][c].y,groupId:t[d],label:e[t[d]][c].label}),m+=1;if(0!==m)for(u.sort((function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x})),n._getDataIntersections(p,u),d=0;d<u.length;d++){var f=null!=(l=i.groups[u[d].groupId]).options.barChart.minWidth?l.options.barChart.minWidth:.1*l.options.barChart.width,g=0;if(void 0===p[r=u[d].screen_x])d+1<u.length&&(a=Math.abs(u[d+1].screen_x-r)),h=n._getSafeDrawData(a,l,f);else{var v=d+(p[r].amount-p[r].resolved);v<u.length&&(a=Math.abs(u[v].screen_x-r)),h=n._getSafeDrawData(a,l,f),p[r].resolved+=1,!0===l.options.stack&&!0!==l.options.excludeFromStacking?u[d].screen_y<l.zeroPosition?(g=p[r].accumulatedNegative,p[r].accumulatedNegative+=l.zeroPosition-u[d].screen_y):(g=p[r].accumulatedPositive,p[r].accumulatedPositive+=l.zeroPosition-u[d].screen_y):!0===l.options.barChart.sideBySide&&(h.width=h.width/p[r].amount,h.offset+=p[r].resolved*h.width-.5*h.width*(p[r].amount+1))}var y=h.width,b=u[d].screen_x;if(null!=u[d].screen_end?b+=.5*(y=u[d].screen_end-u[d].screen_x):b+=h.offset,s.drawBar(b,u[d].screen_y-g,y,l.zeroPosition-u[d].screen_y,l.className+" vis-bar",i.svgElements,i.svg,l.style),!0===l.options.drawPoints.enabled){var x={screen_x:u[d].screen_x,screen_y:u[d].screen_y-g,x:u[d].x,y:u[d].y,groupId:u[d].groupId,label:u[d].label};o.draw([x],l,i,h.offset)}}},n._getDataIntersections=function(t,e){for(var i,s=0;s<e.length;s++)s+1<e.length&&(i=Math.abs(e[s+1].screen_x-e[s].screen_x)),s>0&&(i=Math.min(i,Math.abs(e[s-1].screen_x-e[s].screen_x))),0===i&&(void 0===t[e[s].screen_x]&&(t[e[s].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[s].screen_x].amount+=1)},n._getSafeDrawData=function(t,e,i){var s,o;return t<e.options.barChart.width&&t>0?(s=t<i?i:t,o=0,"left"===e.options.barChart.align?o-=.5*t:"right"===e.options.barChart.align&&(o+=.5*t)):(s=e.options.barChart.width,o=0,"left"===e.options.barChart.align?o-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:s,offset:o}},n.getStackedYRange=function(t,e,i,s,o){if(t.length>0){t.sort((function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}));var a={};n._getDataIntersections(a,t),e[s]=n._getStackedYRange(a,t),e[s].yAxisOrientation=o,i.push(s)}},n._getStackedYRange=function(t,e){for(var i,s=e[0].screen_y,o=e[0].screen_y,n=0;n<e.length;n++)void 0===t[i=e[n].screen_x]?(s=s>e[n].screen_y?e[n].screen_y:s,o=o<e[n].screen_y?e[n].screen_y:o):e[n].screen_y<0?t[i].accumulatedNegative+=e[n].screen_y:t[i].accumulatedPositive+=e[n].screen_y;for(var a in t)t.hasOwnProperty(a)&&(s=(s=s>t[a].accumulatedNegative?t[a].accumulatedNegative:s)>t[a].accumulatedPositive?t[a].accumulatedPositive:s,o=(o=o<t[a].accumulatedNegative?t[a].accumulatedNegative:o)<t[a].accumulatedPositive?t[a].accumulatedPositive:o);return{min:s,max:o}},t.exports=n},function(t,e,i){var s=i(14);function o(t,e){}o.calcPath=function(t,e){if(null!=t&&t.length>0)return 1==e.options.interpolation.enabled?o._catmullRom(t,e):o._linear(t)},o.drawIcon=function(t,e,i,o,n,a){var r,h,l=.5*n,d=s.getSVGElement("rect",a.svgElements,a.svg);if(d.setAttributeNS(null,"x",e),d.setAttributeNS(null,"y",i-l),d.setAttributeNS(null,"width",o),d.setAttributeNS(null,"height",2*l),d.setAttributeNS(null,"class","vis-outline"),(r=s.getSVGElement("path",a.svgElements,a.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&r.setAttributeNS(null,"style",t.style),r.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+o)+","+i),1==t.options.shaded.enabled&&(h=s.getSVGElement("path",a.svgElements,a.svg),"top"==t.options.shaded.orientation?h.setAttributeNS(null,"d","M"+e+", "+(i-l)+"L"+e+","+i+" L"+(e+o)+","+i+" L"+(e+o)+","+(i-l)):h.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+l)+" L"+(e+o)+","+(i+l)+"L"+(e+o)+","+i),h.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&h.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled){var c={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};s.drawPoint(e+.5*o,i,c,a.svgElements,a.svg)}},o.drawShading=function(t,e,i,o){if(1==e.options.shaded.enabled){var n,a=Number(o.svg.style.height.replace("px","")),r=s.getSVGElement("path",o.svgElements,o.svg),h="L";1==e.options.interpolation.enabled&&(h="C");var l=0;l="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?a:Math.min(Math.max(0,e.zeroPosition),a),n="group"==e.options.shaded.orientation&&null!=i&&null!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,h,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,h,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,h,!1)+" V"+l+" H"+t[0][0]+" Z",r.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&r.setAttributeNS(null,"style",e.options.shaded.style),r.setAttributeNS(null,"d",n)}},o.draw=function(t,e,i){if(null!=t&&null!=t){var o=s.getSVGElement("path",i.svgElements,i.svg);o.setAttributeNS(null,"class",e.className),void 0!==e.style&&o.setAttributeNS(null,"style",e.style);var n="L";1==e.options.interpolation.enabled&&(n="C"),o.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,n,!1))}},o.serializePath=function(t,e,i){if(t.length<2)return"";var s,o=e;if(i)for(s=t.length-2;s>0;s--)o+=t[s][0]+","+t[s][1]+" ";else for(s=1;s<t.length;s++)o+=t[s][0]+","+t[s][1]+" ";return o},o._catmullRomUniform=function(t){var e,i,s,o,n,a,r=[];r.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var h=t.length,l=0;l<h-1;l++)e=0==l?t[0]:t[l-1],i=t[l],s=t[l+1],o=l+2<h?t[l+2]:s,n={screen_x:(-e.screen_x+6*i.screen_x+s.screen_x)*(1/6),screen_y:(-e.screen_y+6*i.screen_y+s.screen_y)*(1/6)},a={screen_x:(i.screen_x+6*s.screen_x-o.screen_x)*(1/6),screen_y:(i.screen_y+6*s.screen_y-o.screen_y)*(1/6)},r.push([n.screen_x,n.screen_y]),r.push([a.screen_x,a.screen_y]),r.push([s.screen_x,s.screen_y]);return r},o._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var s,o,n,a,r,h,l,d,c,u,p,m,f,g,v,y,b,x,w,_=[];_.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var k=t.length,M=0;M<k-1;M++)s=0==M?t[0]:t[M-1],o=t[M],n=t[M+1],a=M+2<k?t[M+2]:n,l=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),d=Math.sqrt(Math.pow(o.screen_x-n.screen_x,2)+Math.pow(o.screen_y-n.screen_y,2)),c=Math.sqrt(Math.pow(n.screen_x-a.screen_x,2)+Math.pow(n.screen_y-a.screen_y,2)),g=Math.pow(c,i),y=Math.pow(c,2*i),v=Math.pow(d,i),b=Math.pow(d,2*i),w=Math.pow(l,i),u=2*(x=Math.pow(l,2*i))+3*w*v+b,p=2*y+3*g*v+b,(m=3*w*(w+v))>0&&(m=1/m),(f=3*g*(g+v))>0&&(f=1/f),r={screen_x:(-b*s.screen_x+u*o.screen_x+x*n.screen_x)*m,screen_y:(-b*s.screen_y+u*o.screen_y+x*n.screen_y)*m},h={screen_x:(y*o.screen_x+p*n.screen_x-b*a.screen_x)*f,screen_y:(y*o.screen_y+p*n.screen_y-b*a.screen_y)*f},0==r.screen_x&&0==r.screen_y&&(r=o),0==h.screen_x&&0==h.screen_y&&(h=n),_.push([r.screen_x,r.screen_y]),_.push([h.screen_x,h.screen_y]),_.push([n.screen_x,n.screen_y]);return _},o._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=o},function(t,e,i){var s,o=i(8),n=(s=o)&&s.__esModule?s:{default:s},a=i(2),r=i(14),h=i(16);function l(t,e,i,s){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=a.extend({},this.defaultOptions),this.linegraphOptions=s,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}l.prototype=new h,l.prototype.clear=function(){this.groups={},this.amountOfGroups=0},l.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},l.prototype.updateGroup=function(t,e){this.groups[t]=e},l.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},l.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},l.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},l.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},l.prototype.setOptions=function(t){a.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},l.prototype.redraw=function(){var t=0,e=(0,n.default)(this.groups);e.sort((function(t,e){return t<e?-1:1}));for(var i=0;i<e.length;i++){var s=e[i];1!=this.groups[s].visible||void 0!==this.linegraphOptions.visibility[s]&&1!=this.linegraphOptions.visibility[s]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var o=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+o+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var a="";for(i=0;i<e.length;i++)s=e[i],1!=this.groups[s].visible||void 0!==this.linegraphOptions.visibility[s]&&1!=this.linegraphOptions.visibility[s]||(a+=this.groups[s].content+"<br />");this.dom.textArea.innerHTML=a,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},l.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,n.default)(this.groups);t.sort((function(t,e){return t<e?-1:1})),r.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),s=i,o=this.options.iconSize,a=.75*this.options.iconSize,h=i+.5*a+3;this.svg.style.width=o+5+i+"px";for(var l=0;l<t.length;l++){var d=t[l];1!=this.groups[d].visible||void 0!==this.linegraphOptions.visibility[d]&&1!=this.linegraphOptions.visibility[d]||(this.groups[d].getLegend(o,a,this.framework,s,h),h+=a+this.options.iconSpacing)}}},t.exports=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s="string",o="boolean",n="number",a="object",r={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:a,boolean:o,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:s},sort:{boolean:o},sampling:{boolean:o},stack:{boolean:o},graphHeight:{string:s,number:n},shaded:{enabled:{boolean:o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:a},__type__:{boolean:o,object:a}},style:{string:["line","bar","points"]},barChart:{width:{number:n},minWidth:{number:n},sideBySide:{boolean:o},align:{string:["left","center","right"]},__type__:{object:a}},interpolation:{enabled:{boolean:o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:n},__type__:{object:a,boolean:o}},drawPoints:{enabled:{boolean:o},onRender:{function:"function"},size:{number:n},style:{string:["square","circle"]},__type__:{object:a,boolean:o,function:"function"}},dataAxis:{showMinorLabels:{boolean:o},showMajorLabels:{boolean:o},icons:{boolean:o},width:{string:s,number:n},visible:{boolean:o},alignZeros:{boolean:o},left:{range:{min:{number:n,undefined:"undefined"},max:{number:n,undefined:"undefined"},__type__:{object:a}},format:{function:"function"},title:{text:{string:s,number:n,undefined:"undefined"},style:{string:s,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},right:{range:{min:{number:n,undefined:"undefined"},max:{number:n,undefined:"undefined"},__type__:{object:a}},format:{function:"function"},title:{text:{string:s,number:n,undefined:"undefined"},style:{string:s,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},__type__:{object:a}},legend:{enabled:{boolean:o},icons:{boolean:o},left:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},right:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},__type__:{object:a,boolean:o}},groups:{visibility:{any:"any"},__type__:{object:a}},autoResize:{boolean:o},throttleRedraw:{number:n},clickToUse:{boolean:o},end:{number:n,date:"date",string:s,moment:"moment"},format:{minorLabels:{millisecond:{string:s,undefined:"undefined"},second:{string:s,undefined:"undefined"},minute:{string:s,undefined:"undefined"},hour:{string:s,undefined:"undefined"},weekday:{string:s,undefined:"undefined"},day:{string:s,undefined:"undefined"},month:{string:s,undefined:"undefined"},year:{string:s,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:s,undefined:"undefined"},second:{string:s,undefined:"undefined"},minute:{string:s,undefined:"undefined"},hour:{string:s,undefined:"undefined"},weekday:{string:s,undefined:"undefined"},day:{string:s,undefined:"undefined"},month:{string:s,undefined:"undefined"},year:{string:s,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{function:"function"},height:{string:s,number:n},hiddenDates:{start:{date:"date",number:n,string:s,moment:"moment"},end:{date:"date",number:n,string:s,moment:"moment"},repeat:{string:s},__type__:{object:a,array:"array"}},locale:{string:s},locales:{__any__:{any:"any"},__type__:{object:a}},max:{date:"date",number:n,string:s,moment:"moment"},maxHeight:{number:n,string:s},maxMinorChars:{number:n},min:{date:"date",number:n,string:s,moment:"moment"},minHeight:{number:n,string:s},moveable:{boolean:o},multiselect:{boolean:o},orientation:{string:s},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},start:{date:"date",number:n,string:s,moment:"moment"},timeAxis:{scale:{string:s,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:a}},width:{string:s,number:n},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},zIndex:{number:n},__type__:{object:a}};e.allOptions=r,e.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(t,e,i){var s,o=i(29),n=(s=o)&&s.__esModule?s:{default:s};function a(t){return m=t,function(){var t={};if(f=0,g=m.charAt(0),P(),"strict"===v&&(t.strict=!0,P()),"graph"!==v&&"digraph"!==v||(t.type=v,P()),y===c&&(t.id=v,P()),"{"!=v)throw F("Angle bracket { expected");if(P(),D(t),"}"!=v)throw F("Angle bracket } expected");if(P(),""!==v)throw F("End of file expected");return P(),delete t.node,delete t.edge,delete t.graph,t}()}var r={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},h=(0,n.default)(r);h.color="color.color",h.style="dashes";var l=0,d=1,c=2,u=3,p={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},m="",f=0,g="",v="",y=l;function b(){f++,g=m.charAt(f)}function x(){return m.charAt(f+1)}var w=/[a-zA-Z_0-9.:#]/;function _(t){return w.test(t)}function k(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function M(t,e,i){for(var s=e.split("."),o=t;s.length;){var n=s.shift();s.length?(o[n]||(o[n]={}),o=o[n]):o[n]=i}}function T(t,e){for(var i,s,o=null,n=[t],a=t;a.parent;)n.push(a.parent),a=a.parent;if(a.nodes)for(i=0,s=a.nodes.length;i<s;i++)if(e.id===a.nodes[i].id){o=a.nodes[i];break}for(o||(o={id:e.id},t.node&&(o.attr=k(o.attr,t.node))),i=n.length-1;i>=0;i--){var r=n[i];r.nodes||(r.nodes=[]),-1===r.nodes.indexOf(o)&&r.nodes.push(o)}e.attr&&(o.attr=k(o.attr,e.attr))}function C(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=k({},t.edge);e.attr=k(i,e.attr)}}function S(t,e,i,s,o){var n={from:e,to:i,type:s};return t.edge&&(n.attr=k({},t.edge)),n.attr=k(n.attr||{},o),n}function P(){for(y=l,v="";" "===g||"\t"===g||"\n"===g||"\r"===g;)b();do{var t=!1;if("#"===g){for(var e=f-1;" "===m.charAt(e)||"\t"===m.charAt(e);)e--;if("\n"===m.charAt(e)||""===m.charAt(e)){for(;""!=g&&"\n"!=g;)b();t=!0}}if("/"===g&&"/"===x()){for(;""!=g&&"\n"!=g;)b();t=!0}if("/"===g&&"*"===x()){for(;""!=g;){if("*"===g&&"/"===x()){b(),b();break}b()}t=!0}for(;" "===g||"\t"===g||"\n"===g||"\r"===g;)b()}while(t);if(""!==g){var i=g+x();if(p[i])return y=d,v=i,b(),void b();if(p[g])return y=d,v=g,void b();if(_(g)||"-"===g){for(v+=g,b();_(g);)v+=g,b();return"false"===v?v=!1:"true"===v?v=!0:isNaN(Number(v))||(v=Number(v)),void(y=c)}if('"'===g){for(b();""!=g&&('"'!=g||'"'===g&&'"'===x());)'"'===g?(v+=g,b()):"\\"===g&&"n"===x()?(v+="\n",b()):v+=g,b();if('"'!=g)throw F('End of string " expected');return b(),void(y=c)}for(y=u;""!=g;)v+=g,b();throw new SyntaxError('Syntax error in part "'+E(v,30)+'"')}y=d}function D(t){for(;""!==v&&"}"!=v;)A(t),";"===v&&P()}function A(t){var e=I(t);if(e)O(t,e);else if(!function(t){return"node"===v?(P(),t.node=B(),"node"):"edge"===v?(P(),t.edge=B(),"edge"):"graph"===v?(P(),t.graph=B(),"graph"):null}(t)){if(y!=c)throw F("Identifier expected");var i=v;if(P(),"="===v){if(P(),y!=c)throw F("Identifier expected");t[i]=v,P()}else!function(t,e){var i={id:e},s=B();s&&(i.attr=s),T(t,i),O(t,e)}(t,i)}}function I(t){var e=null;if("subgraph"===v&&((e={}).type="subgraph",P(),y===c&&(e.id=v,P())),"{"===v){if(P(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,D(e),"}"!=v)throw F("Angle bracket } expected");P(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function O(t,e){for(;"->"===v||"--"===v;){var i,s=v;P();var o=I(t);if(o)i=o;else{if(y!=c)throw F("Identifier or subgraph expected");T(t,{id:i=v}),P()}C(t,S(t,e,i,s,B())),e=i}}function B(){for(var t=null,e={dashed:!0,solid:!1,dotted:[1,5]};"["===v;){for(P(),t={};""!==v&&"]"!=v;){if(y!=c)throw F("Attribute name expected");var i=v;if(P(),"="!=v)throw F("Equal sign = expected");if(P(),y!=c)throw F("Attribute value expected");var s=v;"style"===i&&(s=e[s]),M(t,i,s),P(),","==v&&P()}if("]"!=v)throw F("Bracket ] expected");P()}return t}function F(t){return new SyntaxError(t+', got "'+E(v,30)+'" (char '+f+")")}function E(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function L(t,e,i){for(var s=e.split("."),o=s.pop(),n=t,a=0;a<s.length;a++){var r=s[a];r in n||(n[r]={}),n=n[r]}return n[o]=i,t}function z(t,e){var i={};for(var s in t)if(t.hasOwnProperty(s)){var o=e[s];Array.isArray(o)?o.forEach((function(e){L(i,e,t[s])})):L(i,"string"==typeof o?o:s,t[s])}return i}e.parseDOT=a,e.DOTToGraph=function(t){var e=a(t),i={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach((function(t){var e={id:t.id,label:String(t.label||t.id)};k(e,z(t.attr,r)),e.image&&(e.shape="image"),i.nodes.push(e)})),e.edges){var s=function(t){var e={from:t.from,to:t.to};return k(e,z(t.attr,h)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach((function(t){var e,o,n,a,r;e=t.from instanceof Object?t.from.nodes:{id:t.from},o=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach((function(t){var e=s(t);i.edges.push(e)})),n=e,a=o,r=function(e,o){var n=S(i,e.id,o.id,t.type,t.attr),a=s(n);i.edges.push(a)},Array.isArray(n)?n.forEach((function(t){Array.isArray(a)?a.forEach((function(e){r(t,e)})):r(t,a)})):Array.isArray(a)?a.forEach((function(t){r(n,t)})):r(n,a),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach((function(t){var e=s(t);i.edges.push(e)}))}))}return e.attr&&(i.options=e.attr),i}},function(t,e,i){e.parseGephi=function(t,e){var i=[],s=[],o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(o.nodes.fixed=e.fixed),void 0!==e.parseColor&&(o.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(o.edges.inheritColor=e.inheritColor));for(var n=t.edges,a=t.nodes,r=0;r<n.length;r++){var h={},l=n[r];h.id=l.id,h.from=l.source,h.to=l.target,h.attributes=l.attributes,h.label=l.label,h.title=void 0!==l.attributes?l.attributes.title:void 0,"Directed"===l.type&&(h.arrows="to"),l.color&&!1===o.inheritColor&&(h.color=l.color),i.push(h)}for(var d=0;d<a.length;d++){var c={},u=a[d];c.id=u.id,c.attributes=u.attributes,c.x=u.x,c.y=u.y,c.label=u.label,c.title=void 0!==u.attributes?u.attributes.title:u.title,!0===o.nodes.parseColor?c.color=u.color:c.color=void 0!==u.color?{background:u.color,border:u.color,highlight:{background:u.color,border:u.color},hover:{background:u.color,border:u.color}}:void 0,c.size=u.size,c.fixed=o.nodes.fixed&&void 0!==u.x&&void 0!==u.y,s.push(c)}return{nodes:s,edges:i}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=a(i(0)),o=a(i(1)),n=a(i(185));function a(t){return t&&t.__esModule?t:{default:t}}var r=function(){function t(e){(0,s.default)(this,t),this.images={},this.imageBroken={},this.callback=e}return(0,o.default)(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,s=this.images[t];if(s)return s;var o=new n.default;return this.images[t]=o,o.image.onload=function(){i._fixImageCoordinates(o.image),o.init(),i._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,o)},o.image.src=t,o}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}();e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=r(i(30)),o=r(i(6)),n=r(i(0)),a=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var h=i(2),l=i(48).default,d=i(191).default,c=["bold","ital","boldital","mono"],u=function(){function t(e,i){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,n.default)(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=s}return(0,a.default)(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),l.isValidLabel(t.label)?this.labelDirty=!0:t.label="",void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===(0,o.default)(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;h.forEach(c,(function(t){i.fontOptions[t]={}})),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:h.forEach(e,(function(t,e){null!=t&&"object"!==(void 0===t?"undefined":(0,o.default)(t))&&(i.fontOptions[e]=t)}))}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=h.topMost(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===(void 0===i?"undefined":(0,o.default)(i))){var s=h.topMost(t,["widthConstraint","maximum"]);"number"==typeof s&&(e.maxWdt=Number(s));var n=h.topMost(t,["widthConstraint","minimum"]);"number"==typeof n&&(e.minWdt=Number(n))}var a=h.topMost(t,"heightConstraint");if("number"==typeof a)e.minHgt=Number(a);else if("object"===(void 0===a?"undefined":(0,o.default)(a))){var r=h.topMost(t,["heightConstraint","minimum"]);"number"==typeof r&&(e.minHgt=Number(r));var l=h.topMost(t,["heightConstraint","valign"]);"string"==typeof l&&("top"!==l&&"bottom"!==l||(e.valign=l))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),h.deepExtend(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=l.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var i=e.font;t.push(i)}}},{key:"getBasicOptions",value:function(e){for(var i={},s=0;s<e.length;++s){var o=e[s],n={};t.parseFontString(n,o)&&(o=n),h.forEach(o,(function(t,e){void 0!==t&&(i.hasOwnProperty(e)||(-1!==c.indexOf(e)?i[e]={}:i[e]=t))}))}return i}},{key:"getFontOption",value:function(e,i,s){for(var o=void 0,n=0;n<e.length;++n){var a=e[n];if(a.hasOwnProperty(i)){if(null==(o=a[i]))continue;var r={};if(t.parseFontString(r,o)&&(o=r),o.hasOwnProperty(s))return o[s]}}if(this.fontOptions.hasOwnProperty(s))return this.fontOptions[s];throw new Error("Did not find value for multi-font for property: '"+s+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},s=["color","size","face","mod","vadjust"],o=0;o<s.length;++o){var n=s[o];i[n]=this.getFontOption(t,e,n)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var s=function(t){var s=c[t],o=e.fontOptions[s],n=e.getFontOptions(i,s);h.forEach(n,(function(t,e){o[e]=t})),o.size=Number(o.size),o.vadjust=Number(o.vadjust)},o=0;o<c.length;++o)s(o)}},{key:"draw",value:function(t,e,i,s,o){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,s,o,e,i,n),this._drawBackground(t),this._drawText(t,e,this.size.yLine,n,a))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",n=arguments[4],a=this._setAlignment(t,e,i,o),r=(0,s.default)(a,2);e=r[0],i=r[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var h=0;h<this.lineCount;h++){var l=this.lines[h];if(l&&l.blocks){var d=0;this.isEdgeLabel||"center"===this.fontOptions.align?d+=(this.size.width-l.width)/2:"right"===this.fontOptions.align&&(d+=this.size.width-l.width);for(var c=0;c<l.blocks.length;c++){var u=l.blocks[c];t.font=u.font;var p=this._getColor(u.color,n,u.strokeColor),m=(0,s.default)(p,2),f=m[0],g=m[1];u.strokeWidth>0&&(t.lineWidth=u.strokeWidth,t.strokeStyle=g,t.lineJoin="round"),t.fillStyle=f,u.strokeWidth>0&&t.strokeText(u.text,e+d,i+u.vadjust),t.fillText(u.text,e+d,i+u.vadjust),d+=u.width}i+=l.height}}}},{key:"_setAlignment",value:function(t,e,i,s){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,i=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=s,[e,i]}},{key:"_getColor",value:function(t,e,i){var s=t||"#000000",o=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var n=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));s=h.overrideOpacity(s,n),o=h.overrideOpacity(o,n)}return[s,o]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=s-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===n&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,s){var o=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},n={color:o(this.fontOptions,s,"color"),size:o(this.fontOptions,s,"size"),face:o(this.fontOptions,s,"face"),mod:o(this.fontOptions,s,"mod"),vadjust:o(this.fontOptions,s,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===s&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?n.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(n,this.elementOptions.id,e,i));var a="";return void 0!==n.mod&&""!==n.mod&&(a+=n.mod+" "),a+=n.size+"px "+n.face,t.font=a.replace(/"/g,""),n.font=t.font,n.height=n.size,n}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,s){return new d(t,this,e,i).process(s)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var s=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&s.width<this.fontOptions.minWdt&&(s.width=this.fontOptions.minWdt),this.size.labelHeight=s.height,this.fontOptions.minHgt>0&&s.height<this.fontOptions.minHgt&&(s.height=this.fontOptions.minHgt),this.lines=s.lines,this.lineCount=s.lines.length,this.size.width=s.width,this.size.height=s.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}();e.default=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=a(i(30)),o=a(i(0)),n=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var r=i(2),h=i(119).default,l=function(){function t(e,i,s){(0,o.default)(this,t),this.body=i,this.labelModule=s,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,n.default)(t,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,s,o){t.strokeStyle=this.getColor(t,e,i,s),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,o):this._drawLine(t,e,o)}},{key:"_drawLine",value:function(t,e,i,o,n){if(this.from!=this.to)this._line(t,e,i,o,n);else{var a=this._getCircleData(t),r=(0,s.default)(a,3),h=r[0],l=r[1],d=r[2];this._circle(t,e,h,l,d)}}},{key:"_drawDashedLine",value:function(t,e,i,o,n){t.lineCap="round";var a=[5,5];if(!0===Array.isArray(e.dashes)&&(a=e.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(a),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var r=this._getCircleData(t),h=(0,s.default)(r,3),l=h[0],d=h[1],c=h[2];this._circle(t,e,l,d,c)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,a);else{var u=this._getCircleData(t),p=(0,s.default)(u,3),m=p[0],f=p[1],g=p[2];this._circle(t,e,m,f,g)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e={},i={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),i=this._findBorderPosition(this.to,t);else{var o=this._getCircleData(t).slice(0,2),n=(0,s.default)(o,2),a=n[0],r=n[1];e=this._findBorderPositionCircle(this.from,t,{x:a,y:r,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,t,{x:a,y:r,low:.6,high:.8,direction:1})}return{from:e,to:i}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,s=this.from,o=this.options.selfReferenceSize;return void 0!==t&&void 0===s.shape.width&&s.shape.resize(t),s.shape.width>s.shape.height?(e=s.x+.5*s.shape.width,i=s.y-o):(e=s.x+o,i=s.y-.5*s.shape.height),[e,i,o]}},{key:"_pointOnCircle",value:function(t,e,i,s){var o=2*s*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var s=i.x,o=i.y,n=i.low,a=i.high,r=i.direction,h=0,l=this.options.selfReferenceSize,d=void 0,c=void 0,u=void 0,p=.5*(n+a);n<=a&&h<10&&(p=.5*(n+a),d=this._pointOnCircle(s,o,l,p),c=Math.atan2(t.y-d.y,t.x-d.x),u=t.distanceToBorder(e,c)-Math.sqrt(Math.pow(d.x-t.x,2)+Math.pow(d.y-t.y,2)),!(Math.abs(u)<.05));)u>0?r>0?n=p:a=p:r>0?a=p:n=p,h++;return d.t=p,d}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i,s){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var o=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=void 0,a=void 0;return n=this.from.options.color.highlight.border,a=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(n=r.overrideOpacity(this.from.options.color.border,e.opacity),a=r.overrideOpacity(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?a=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),o.addColorStop(0,n),o.addColorStop(1,a),o}return"to"===e.inheritsColor?r.overrideOpacity(this.to.options.color.border,e.opacity):r.overrideOpacity(this.from.options.color.border,e.opacity)}return r.overrideOpacity(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,s,o){this.enableShadow(t,e),t.beginPath(),t.arc(i,s,o,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,o,n,a,r,h){var l=0;if(this.from!=this.to)l=this._getDistanceToEdge(t,e,i,o,n,a,r);else{var d=this._getCircleData(void 0),c=(0,s.default)(d,3),u=c[0],p=c[1],m=c[2],f=u-n,g=p-a;l=Math.abs(Math.sqrt(f*f+g*g)-m)}return l}},{key:"_getDistanceToLine",value:function(t,e,i,s,o,n){var a=i-t,r=s-e,h=((o-t)*a+(n-e)*r)/(a*a+r*r);h>1?h=1:h<0&&(h=0);var l=t+h*a-o,d=e+h*r-n;return Math.sqrt(l*l+d*d)}},{key:"getArrowData",value:function(t,e,i,o,n,a){var r=void 0,h=void 0,l=void 0,d=void 0,c=void 0,u=void 0,p=void 0,m=a.width;if("from"===e?(l=this.from,d=this.to,c=.1,u=a.fromArrowScale,p=a.fromArrowType):"to"===e?(l=this.to,d=this.from,c=-.1,u=a.toArrowScale,p=a.toArrowType):(l=this.to,d=this.from,u=a.middleArrowScale,p=a.middleArrowType),l!=d)if("middle"!==e)if(!0===this.options.smooth.enabled){h=this.findBorderPosition(l,t,{via:i});var f=this.getPoint(Math.max(0,Math.min(1,h.t+c)),i);r=Math.atan2(h.y-f.y,h.x-f.x)}else r=Math.atan2(l.y-d.y,l.x-d.x),h=this.findBorderPosition(l,t);else r=Math.atan2(l.y-d.y,l.x-d.x),h=this.getPoint(.5,i);else{var g=this._getCircleData(t),v=(0,s.default)(g,3),y=v[0],b=v[1],x=v[2];"from"===e?r=-2*(h=this.findBorderPosition(this.from,t,{x:y,y:b,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===e?r=-2*(h=this.findBorderPosition(this.from,t,{x:y,y:b,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(h=this._pointOnCircle(y,b,x,.175),r=3.9269908169872414)}"middle"===e&&u<0&&(m*=-1);var w=15*u+3*m;return{point:h,core:{x:h.x-.9*w*Math.cos(r),y:h.y-.9*w*Math.sin(r)},angle:r,length:w,type:p}}},{key:"drawArrowHead",value:function(t,e,i,s,o){t.strokeStyle=this.getColor(t,e,i,s),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,h.draw(t,o),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(4)),n=h(i(5)),a=h(i(0)),r=h(i(1));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(){(0,a.default)(this,t)}return(0,r.default)(t,null,[{key:"transform",value:function(t,e){t instanceof Array||(t=[t]);for(var i=e.point.x,s=e.point.y,o=e.angle,n=e.length,a=0;a<t.length;++a){var r=t[a],h=r.x*Math.cos(o)-r.y*Math.sin(o),l=r.x*Math.sin(o)+r.y*Math.cos(o);r.x=i+n*h,r.y=s+n*l}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),d=function(t){function e(){return(0,a.default)(this,e),(0,o.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,n.default)(e,t),(0,r.default)(e,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];l.transform(i,e),l.drawPath(t,i)}}]),e}(l),c=function(){function t(){(0,a.default)(this,t)}return(0,r.default)(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};l.transform(i,e),t.circle(i.x,i.y,.4*e.length)}}]),t}(),u=function(){function t(){(0,a.default)(this,t)}return(0,r.default)(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];l.transform(i,e),l.drawPath(t,i)}}]),t}(),p=function(){function t(){(0,a.default)(this,t)}return(0,r.default)(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"circle":c.draw(t,e);break;case"bar":u.draw(t,e);break;case"arrow":default:d.draw(t,e)}}}]),t}();e.default=p},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,i,o){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.barnesHutTree,this.setOptions(o),this.randomSeed=5}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,s=i.length,o=this._formBarnesHutTree(e,i);this.barnesHutTree=o;for(var n=0;n<s;n++)(t=e[i[n]]).options.mass>0&&this._getForceContributions(o.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){var i,s,o;t.childrenCount>0&&(i=t.centerOfMass.x-e.x,s=t.centerOfMass.y-e.y,(o=Math.sqrt(i*i+s*s))*t.calcSize>this.thetaInversed?this._calculateForces(o,i,s,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(o,i,s,e,t))}},{key:"_calculateForces",value:function(t,e,i,s,o){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&s.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*s.shape.radius,t-s.shape.radius));var n=this.options.gravitationalConstant*o.mass*s.options.mass/Math.pow(t,3),a=e*n,r=i*n;this.physicsBody.forces[s.id].x+=a,this.physicsBody.forces[s.id].y+=r}},{key:"_formBarnesHutTree",value:function(t,e){for(var i=void 0,s=e.length,o=t[e[0]].x,n=t[e[0]].y,a=t[e[0]].x,r=t[e[0]].y,h=1;h<s;h++){var l=t[e[h]],d=l.x,c=l.y;l.options.mass>0&&(d<o&&(o=d),d>a&&(a=d),c<n&&(n=c),c>r&&(r=c))}var u=Math.abs(a-o)-Math.abs(r-n);u>0?(n-=.5*u,r+=.5*u):(o+=.5*u,a-=.5*u);var p=Math.max(1e-5,Math.abs(a-o)),m=.5*p,f=.5*(o+a),g=.5*(n+r),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-m,maxX:f+m,minY:g-m,maxY:g+m},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var y=0;y<s;y++)(i=t[e[y]]).options.mass>0&&this._placeInTree(v.root,i);return v}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,s=t.mass+e.options.mass,o=1/s;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=o,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=o,t.mass=s;var n=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<n?n:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var s=t.children.NW.range,o=void 0;o=s.maxX>e.x?s.maxY>e.y?"NW":"SW":s.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,o)}},{key:"_placeInRegion",value:function(t,e,i){var s=t.children[i];switch(s.childrenCount){case 0:s.children.data=e,s.childrenCount=1,this._updateBranchMass(s,e);break;case 1:s.children.data.x===e.x&&s.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(s),this._placeInTree(s,e));break;case 4:this._placeInTree(s,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,s=void 0,o=void 0,n=void 0,a=.5*t.size;switch(e){case"NW":i=t.range.minX,s=t.range.minX+a,o=t.range.minY,n=t.range.minY+a;break;case"NE":i=t.range.minX+a,s=t.range.maxX,o=t.range.minY,n=t.range.minY+a;break;case"SW":i=t.range.minX,s=t.range.minX+a,o=t.range.minY+a,n=t.range.maxY;break;case"SE":i=t.range.minX+a,s=t.range.maxX,o=t.range.minY+a,n=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:s,minY:o,maxY:n},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,i,o){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=void 0,s=void 0,o=this.body.nodes,n=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,r=0;r<n.length;r++)t=-(s=o[n[r]]).x,e=-s.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,a,s)}},{key:"_calculateForces",value:function(t,e,i,s,o){var n=0===t?0:this.options.centralGravity/t;s[o.id].x=e*n,s[o.id].y=i*n}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s="string",o="boolean",n="number",a="object",r=["arrow","circle","bar"],h={configure:{enabled:{boolean:o},filter:{boolean:o,string:s,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:o},__type__:{object:a,boolean:o,string:s,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:o},scaleFactor:{number:n},type:{string:r},__type__:{object:a,boolean:o}},middle:{enabled:{boolean:o},scaleFactor:{number:n},type:{string:r},__type__:{object:a,boolean:o}},from:{enabled:{boolean:o},scaleFactor:{number:n},type:{string:r},__type__:{object:a,boolean:o}},__type__:{string:["from","to","middle"],object:a}},arrowStrikethrough:{boolean:o},chosen:{label:{boolean:o,function:"function"},edge:{boolean:o,function:"function"},__type__:{object:a,boolean:o}},color:{color:{string:s},highlight:{string:s},hover:{string:s},inherit:{string:["from","to","both"],boolean:o},opacity:{number:n},__type__:{object:a,string:s}},dashes:{boolean:o,array:"array"},font:{color:{string:s},size:{number:n},face:{string:s},background:{string:s},strokeWidth:{number:n},strokeColor:{string:s},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:n},multi:{boolean:o,string:s},bold:{color:{string:s},size:{number:n},face:{string:s},mod:{string:s},vadjust:{number:n},__type__:{object:a,string:s}},boldital:{color:{string:s},size:{number:n},face:{string:s},mod:{string:s},vadjust:{number:n},__type__:{object:a,string:s}},ital:{color:{string:s},size:{number:n},face:{string:s},mod:{string:s},vadjust:{number:n},__type__:{object:a,string:s}},mono:{color:{string:s},size:{number:n},face:{string:s},mod:{string:s},vadjust:{number:n},__type__:{object:a,string:s}},__type__:{object:a,string:s}},hidden:{boolean:o},hoverWidth:{function:"function",number:n},label:{string:s,undefined:"undefined"},labelHighlightBold:{boolean:o},length:{number:n,undefined:"undefined"},physics:{boolean:o},scaling:{min:{number:n},max:{number:n},label:{enabled:{boolean:o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:a,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:a}},selectionWidth:{function:"function",number:n},selfReferenceSize:{number:n},shadow:{enabled:{boolean:o},color:{string:s},size:{number:n},x:{number:n},y:{number:n},__type__:{object:a,boolean:o}},smooth:{enabled:{boolean:o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:n},forceDirection:{string:["horizontal","vertical","none"],boolean:o},__type__:{object:a,boolean:o}},title:{string:s,undefined:"undefined"},width:{number:n},widthConstraint:{maximum:{number:n},__type__:{object:a,boolean:o,number:n}},value:{number:n,undefined:"undefined"},__type__:{object:a}},groups:{useDefaultGroups:{boolean:o},__any__:"get from nodes, will be overwritten below",__type__:{object:a}},interaction:{dragNodes:{boolean:o},dragView:{boolean:o},hideEdgesOnDrag:{boolean:o},hideNodesOnDrag:{boolean:o},hover:{boolean:o},keyboard:{enabled:{boolean:o},speed:{x:{number:n},y:{number:n},zoom:{number:n},__type__:{object:a}},bindToWindow:{boolean:o},__type__:{object:a,boolean:o}},multiselect:{boolean:o},navigationButtons:{boolean:o},selectable:{boolean:o},selectConnectedEdges:{boolean:o},hoverConnectedEdges:{boolean:o},tooltipDelay:{number:n},zoomView:{boolean:o},__type__:{object:a}},layout:{randomSeed:{undefined:"undefined",number:n},improvedLayout:{boolean:o},hierarchical:{enabled:{boolean:o},levelSeparation:{number:n},nodeSpacing:{number:n},treeSpacing:{number:n},blockShifting:{boolean:o},edgeMinimization:{boolean:o},parentCentralization:{boolean:o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:a,boolean:o}},__type__:{object:a}},manipulation:{enabled:{boolean:o},initiallyActive:{boolean:o},addNode:{boolean:o,function:"function"},addEdge:{boolean:o,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:a,boolean:o,function:"function"}},deleteNode:{boolean:o,function:"function"},deleteEdge:{boolean:o,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:a,boolean:o}},nodes:{borderWidth:{number:n},borderWidthSelected:{number:n,undefined:"undefined"},brokenImage:{string:s,undefined:"undefined"},chosen:{label:{boolean:o,function:"function"},node:{boolean:o,function:"function"},__type__:{object:a,boolean:o}},color:{border:{string:s},background:{string:s},highlight:{border:{string:s},background:{string:s},__type__:{object:a,string:s}},hover:{border:{string:s},background:{string:s},__type__:{object:a,string:s}},__type__:{object:a,string:s}},fixed:{x:{boolean:o},y:{boolean:o},__type__:{object:a,boolean:o}},font:{align:{string:s},color:{string:s},size:{number:n},face:{string:s},background:{string:s},strokeWidth:{number:n},strokeColor:{string:s},vadjust:{number:n},multi:{boolean:o,string:s},bold:{color:{string:s},size:{number:n},face:{string:s},mod:{string:s},vadjust:{number:n},__type__:{object:a,string:s}},boldital:{color:{string:s},size:{number:n},face:{string:s},mod:{string:s},vadjust:{number:n},__type__:{object:a,string:s}},ital:{color:{string:s},size:{number:n},face:{string:s},mod:{string:s},vadjust:{number:n},__type__:{object:a,string:s}},mono:{color:{string:s},size:{number:n},face:{string:s},mod:{string:s},vadjust:{number:n},__type__:{object:a,string:s}},__type__:{object:a,string:s}},group:{string:s,number:n,undefined:"undefined"},heightConstraint:{minimum:{number:n},valign:{string:s},__type__:{object:a,boolean:o,number:n}},hidden:{boolean:o},icon:{face:{string:s},code:{string:s},size:{number:n},color:{string:s},__type__:{object:a}},id:{string:s,number:n},image:{selected:{string:s,undefined:"undefined"},unselected:{string:s,undefined:"undefined"},__type__:{object:a,string:s}},label:{string:s,undefined:"undefined"},labelHighlightBold:{boolean:o},level:{number:n,undefined:"undefined"},margin:{top:{number:n},right:{number:n},bottom:{number:n},left:{number:n},__type__:{object:a,number:n}},mass:{number:n},physics:{boolean:o},scaling:{min:{number:n},max:{number:n},label:{enabled:{boolean:o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:a,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:a}},shadow:{enabled:{boolean:o},color:{string:s},size:{number:n},x:{number:n},y:{number:n},__type__:{object:a,boolean:o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:o,array:"array"},borderRadius:{number:n},interpolation:{boolean:o},useImageSize:{boolean:o},useBorderWithImage:{boolean:o},__type__:{object:a}},size:{number:n},title:{string:s,dom:"dom",undefined:"undefined"},value:{number:n,undefined:"undefined"},widthConstraint:{minimum:{number:n},maximum:{number:n},__type__:{object:a,boolean:o,number:n}},x:{number:n},y:{number:n},__type__:{object:a}},physics:{enabled:{boolean:o},barnesHut:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:a}},forceAtlas2Based:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:a}},repulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:a}},hierarchicalRepulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:a}},maxVelocity:{number:n},minVelocity:{number:n},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:o},iterations:{number:n},updateInterval:{number:n},onlyDynamicEdges:{boolean:o},fit:{boolean:o},__type__:{object:a,boolean:o}},timestep:{number:n},adaptiveTimestep:{boolean:o},__type__:{object:a,boolean:o}},autoResize:{boolean:o},clickToUse:{boolean:o},locale:{string:s},locales:{__any__:{any:"any"},__type__:{object:a}},height:{string:s},width:{string:s},__type__:{object:a}};h.groups.__any__=h.nodes,h.manipulation.controlNodeStyle=h.nodes,e.allOptions=h,e.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(t,e,i){var s=i(2);s.extend(e,i(159)),s.extend(e,i(177)),s.extend(e,i(181))},function(t,e,i){i(49),i(60),t.exports=i(136)},function(t,e,i){var s=i(126),o=i(127),n=i(31),a=i(25);t.exports=i(79)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])}),"values"),n.Arguments=n.Array,s("keys"),s("values"),s("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var s=i(54),o=i(39),n=i(59),a={};i(26)(a,i(13)("iterator"),(function(){return this})),t.exports=function(t,e,i){t.prototype=s(a,{next:o(1,i)}),n(t,e+" Iterator")}},function(t,e,i){var s=i(20),o=i(27),n=i(33);t.exports=i(21)?Object.defineProperties:function(t,e){o(t);for(var i,a=n(e),r=a.length,h=0;r>h;)s.f(t,i=a[h++],e[i]);return t}},function(t,e,i){var s=i(25),o=i(132),n=i(133);t.exports=function(t){return function(e,i,a){var r,h=s(e),l=o(h.length),d=n(a,l);if(t&&i!=i){for(;l>d;)if((r=h[d++])!=r)return!0}else for(;l>d;d++)if((t||d in h)&&h[d]===i)return t||d||0;return!t&&-1}}},function(t,e,i){var s=i(55),o=Math.min;t.exports=function(t){return t>0?o(s(t),9007199254740991):0}},function(t,e,i){var s=i(55),o=Math.max,n=Math.min;t.exports=function(t,e){return(t=s(t))<0?o(t+e,0):n(t,e)}},function(t,e,i){var s=i(18).document;t.exports=s&&s.documentElement},function(t,e,i){var s=i(55),o=i(51);t.exports=function(t){return function(e,i){var n,a,r=String(o(e)),h=s(i),l=r.length;return h<0||h>=l?t?"":void 0:(n=r.charCodeAt(h))<55296||n>56319||h+1===l||(a=r.charCodeAt(h+1))<56320||a>57343?t?r.charAt(h):n:t?r.slice(h,h+2):a-56320+(n-55296<<10)+65536}}},function(t,e,i){var s=i(27),o=i(137);t.exports=i(7).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return s(e.call(t))}},function(t,e,i){var s=i(86),o=i(13)("iterator"),n=i(31);t.exports=i(7).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||n[s(t)]}},function(t,e,i){i(139);var s=i(7).Object;t.exports=function(t,e){return s.create(t,e)}},function(t,e,i){var s=i(17);s(s.S,"Object",{create:i(54)})},function(t,e,i){i(141),t.exports=i(7).Object.keys},function(t,e,i){var s=i(41),o=i(33);i(87)("keys",(function(){return function(t){return o(s(t))}}))},function(t,e,i){t.exports={default:i(143),__esModule:!0}},function(t,e,i){i(60),i(49),t.exports=i(61).f("iterator")},function(t,e,i){t.exports={default:i(145),__esModule:!0}},function(t,e,i){i(146),i(151),i(152),i(153),t.exports=i(7).Symbol},function(t,e,i){var s=i(18),o=i(22),n=i(21),a=i(17),r=i(83),h=i(147).KEY,l=i(28),d=i(57),c=i(59),u=i(40),p=i(13),m=i(61),f=i(62),g=i(148),v=i(149),y=i(27),b=i(25),x=i(53),w=i(39),_=i(54),k=i(150),M=i(89),T=i(20),C=i(33),S=M.f,P=T.f,D=k.f,A=s.Symbol,I=s.JSON,O=I&&I.stringify,B=p("_hidden"),F=p("toPrimitive"),E={}.propertyIsEnumerable,L=d("symbol-registry"),z=d("symbols"),W=d("op-symbols"),N=Object.prototype,V="function"==typeof A,R=s.QObject,Y=!R||!R.prototype||!R.prototype.findChild,H=n&&l((function(){return 7!=_(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(t,e,i){var s=S(N,e);s&&delete N[e],P(t,e,i),s&&t!==N&&P(N,e,s)}:P,j=function(t){var e=z[t]=_(A.prototype);return e._k=t,e},X=V&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},G=function(t,e,i){return t===N&&G(W,e,i),y(t),e=x(e,!0),y(i),o(z,e)?(i.enumerable?(o(t,B)&&t[B][e]&&(t[B][e]=!1),i=_(i,{enumerable:w(0,!1)})):(o(t,B)||P(t,B,w(1,{})),t[B][e]=!0),H(t,e,i)):P(t,e,i)},U=function(t,e){y(t);for(var i,s=g(e=b(e)),o=0,n=s.length;n>o;)G(t,i=s[o++],e[i]);return t},q=function(t){var e=E.call(this,t=x(t,!0));return!(this===N&&o(z,t)&&!o(W,t))&&(!(e||!o(this,t)||!o(z,t)||o(this,B)&&this[B][t])||e)},K=function(t,e){if(t=b(t),e=x(e,!0),t!==N||!o(z,e)||o(W,e)){var i=S(t,e);return!i||!o(z,e)||o(t,B)&&t[B][e]||(i.enumerable=!0),i}},Z=function(t){for(var e,i=D(b(t)),s=[],n=0;i.length>n;)o(z,e=i[n++])||e==B||e==h||s.push(e);return s},J=function(t){for(var e,i=t===N,s=D(i?W:b(t)),n=[],a=0;s.length>a;)!o(z,e=s[a++])||i&&!o(N,e)||n.push(z[e]);return n};V||(r((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=u(arguments.length>0?arguments[0]:void 0),e=function(i){this===N&&e.call(W,i),o(this,B)&&o(this[B],t)&&(this[B][t]=!1),H(this,t,w(1,i))};return n&&Y&&H(N,t,{configurable:!0,set:e}),j(t)}).prototype,"toString",(function(){return this._k})),M.f=K,T.f=G,i(88).f=k.f=Z,i(42).f=q,i(63).f=J,n&&!i(52)&&r(N,"propertyIsEnumerable",q,!0),m.f=function(t){return j(p(t))}),a(a.G+a.W+a.F*!V,{Symbol:A});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),$=0;Q.length>$;)p(Q[$++]);for(var tt=C(p.store),et=0;tt.length>et;)f(tt[et++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return o(L,t+="")?L[t]:L[t]=A(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!V,"Object",{create:function(t,e){return void 0===e?_(t):U(_(t),e)},defineProperty:G,defineProperties:U,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),I&&a(a.S+a.F*(!V||l((function(){var t=A();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))}))),"JSON",{stringify:function(t){if(void 0!==t&&!X(t)){for(var e,i,s=[t],o=1;arguments.length>o;)s.push(arguments[o++]);return"function"==typeof(e=s[1])&&(i=e),!i&&v(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!X(e))return e}),s[1]=e,O.apply(I,s)}}}),A.prototype[F]||i(26)(A.prototype,F,A.prototype.valueOf),c(A,"Symbol"),c(Math,"Math",!0),c(s.JSON,"JSON",!0)},function(t,e,i){var s=i(40)("meta"),o=i(32),n=i(22),a=i(20).f,r=0,h=Object.isExtensible||function(){return!0},l=!i(28)((function(){return h(Object.preventExtensions({}))})),d=function(t){a(t,s,{value:{i:"O"+ ++r,w:{}}})},c=t.exports={KEY:s,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!n(t,s)){if(!h(t))return"F";if(!e)return"E";d(t)}return t[s].i},getWeak:function(t,e){if(!n(t,s)){if(!h(t))return!0;if(!e)return!1;d(t)}return t[s].w},onFreeze:function(t){return l&&c.NEED&&h(t)&&!n(t,s)&&d(t),t}}},function(t,e,i){var s=i(33),o=i(63),n=i(42);t.exports=function(t){var e=s(t),i=o.f;if(i)for(var a,r=i(t),h=n.f,l=0;r.length>l;)h.call(t,a=r[l++])&&e.push(a);return e}},function(t,e,i){var s=i(50);t.exports=Array.isArray||function(t){return"Array"==s(t)}},function(t,e,i){var s=i(25),o=i(88).f,n={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==n.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(s(t))}},function(t,e){},function(t,e,i){i(62)("asyncIterator")},function(t,e,i){i(62)("observable")},function(t,e,i){(function(t){t.exports=function(){var e,i;function s(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t){return void 0===t}function r(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var i,s=[];for(i=0;i<t.length;++i)s.push(e(t[i],i));return s}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var i in e)d(e,i)&&(t[i]=e[i]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,i,s){return _e(t,e,i,s,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function m(t){if(null==t._isValid){var e=p(t),s=i.call(e.parsedDateParts,(function(t){return null!=t})),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&s);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function f(t){var e=u(NaN);return null!=t?c(p(e),t):p(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,s=0;s<i;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};var g=s.momentProperties=[];function v(t,e){var i,s,o;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=p(e)),a(e._locale)||(t._locale=e._locale),g.length>0)for(i=0;i<g.length;i++)a(o=e[s=g[i]])||(t[s]=o);return t}var y=!1;function b(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,s.updateOffset(this),y=!1)}function x(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=w(e)),i}function k(t,e,i){var s,o=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),a=0;for(s=0;s<o;s++)(i&&t[s]!==e[s]||!i&&_(t[s])!==_(e[s]))&&a++;return a+n}function M(t){!1===s.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(t,e){var i=!0;return c((function(){if(null!=s.deprecationHandler&&s.deprecationHandler(null,t),i){for(var o,n=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){for(var r in o+="\n["+a+"] ",arguments[0])o+=r+": "+arguments[0][r]+", ";o=o.slice(0,-2)}else o=arguments[a];n.push(o)}M(t+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)}),e)}var C,S={};function P(t,e){null!=s.deprecationHandler&&s.deprecationHandler(t,e),S[t]||(M(e),S[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t,e){var i,s=c({},t);for(i in e)d(e,i)&&(n(t[i])&&n(e[i])?(s[i]={},c(s[i],t[i]),c(s[i],e[i])):null!=e[i]?s[i]=e[i]:delete s[i]);for(i in t)d(t,i)&&!d(e,i)&&n(t[i])&&(s[i]=c({},s[i]));return s}function I(t){null!=t&&this.set(t)}s.suppressDeprecationWarnings=!1,s.deprecationHandler=null,C=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)d(t,e)&&i.push(e);return i};var O={};function B(t,e){var i=t.toLowerCase();O[i]=O[i+"s"]=O[e]=t}function F(t){return"string"==typeof t?O[t]||O[t.toLowerCase()]:void 0}function E(t){var e,i,s={};for(i in t)d(t,i)&&(e=F(i))&&(s[e]=t[i]);return s}var L={};function z(t,e){L[t]=e}function W(t,e,i){var s=""+Math.abs(t),o=e-s.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+s}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},Y={};function H(t,e,i,s){var o=s;"string"==typeof s&&(o=function(){return this[s]()}),t&&(Y[t]=o),e&&(Y[e[0]]=function(){return W(o.apply(this,arguments),e[1],e[2])}),i&&(Y[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function j(t,e){return t.isValid()?(e=X(e,t.localeData()),R[e]=R[e]||function(t){var e,i,s,o=t.match(N);for(e=0,i=o.length;e<i;e++)Y[o[e]]?o[e]=Y[o[e]]:o[e]=(s=o[e]).match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"");return function(e){var s,n="";for(s=0;s<i;s++)n+=D(o[s])?o[s].call(e,t):o[s];return n}}(e),R[e](t)):t.localeData().invalidDate()}function X(t,e){var i=5;function s(t){return e.longDateFormat(t)||t}for(V.lastIndex=0;i>=0&&V.test(t);)t=t.replace(V,s),V.lastIndex=0,i-=1;return t}var G=/\d/,U=/\d\d/,q=/\d{3}/,K=/\d{4}/,Z=/[+-]?\d{6}/,J=/\d\d?/,Q=/\d\d\d\d?/,$=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,it=/[+-]?\d{1,6}/,st=/\d+/,ot=/[+-]?\d+/,nt=/Z|[+-]\d\d:?\d\d/gi,at=/Z|[+-]\d\d(?::?\d\d)?/gi,rt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ht={};function lt(t,e,i){ht[t]=D(e)?e:function(t,s){return t&&i?i:e}}function dt(t,e){return d(ht,t)?ht[t](e._strict,e._locale):new RegExp(ct(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,i,s,o){return e||i||s||o}))))}function ct(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ut={};function pt(t,e){var i,s=e;for("string"==typeof t&&(t=[t]),r(e)&&(s=function(t,i){i[e]=_(t)}),i=0;i<t.length;i++)ut[t[i]]=s}function mt(t,e){pt(t,(function(t,i,s,o){s._w=s._w||{},e(t,s._w,s,o)}))}function ft(t,e,i){null!=e&&d(ut,t)&&ut[t](e,i._a,i,t)}function gt(t){return vt(t)?366:365}function vt(t){return t%4==0&&t%100!=0||t%400==0}H("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),H(0,["YY",2],0,(function(){return this.year()%100})),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),B("year","y"),z("year",1),lt("Y",ot),lt("YY",J,U),lt("YYYY",et,K),lt("YYYYY",it,Z),lt("YYYYYY",it,Z),pt(["YYYYY","YYYYYY"],0),pt("YYYY",(function(t,e){e[0]=2===t.length?s.parseTwoDigitYear(t):_(t)})),pt("YY",(function(t,e){e[0]=s.parseTwoDigitYear(t)})),pt("Y",(function(t,e){e[0]=parseInt(t,10)})),s.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var yt,bt=xt("FullYear",!0);function xt(t,e){return function(i){return null!=i?(_t(this,t,i),s.updateOffset(this,e),this):wt(this,t)}}function wt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function _t(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&vt(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),kt(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function kt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i,s=(e%(i=12)+i)%i;return t+=(e-s)/12,1===s?vt(t)?29:28:31-s%7%2}yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},H("M",["MM",2],"Mo",(function(){return this.month()+1})),H("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),H("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),B("month","M"),z("month",8),lt("M",J),lt("MM",J,U),lt("MMM",(function(t,e){return e.monthsShortRegex(t)})),lt("MMMM",(function(t,e){return e.monthsRegex(t)})),pt(["M","MM"],(function(t,e){e[1]=_(t)-1})),pt(["MMM","MMMM"],(function(t,e,i,s){var o=i._locale.monthsParse(t,s,i._strict);null!=o?e[1]=o:p(i).invalidMonth=t}));var Mt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ct="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function St(t,e,i){var s,o,n,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)n=u([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(n,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(o=yt.call(this._shortMonthsParse,a))?o:null:-1!==(o=yt.call(this._longMonthsParse,a))?o:null:"MMM"===e?-1!==(o=yt.call(this._shortMonthsParse,a))||-1!==(o=yt.call(this._longMonthsParse,a))?o:null:-1!==(o=yt.call(this._longMonthsParse,a))||-1!==(o=yt.call(this._shortMonthsParse,a))?o:null}function Pt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(!r(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),kt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function Dt(t){return null!=t?(Pt(this,t),s.updateOffset(this,!0),this):wt(this,"Month")}var At=rt,It=rt;function Ot(){function t(t,e){return e.length-t.length}var e,i,s=[],o=[],n=[];for(e=0;e<12;e++)i=u([2e3,e]),s.push(this.monthsShort(i,"")),o.push(this.months(i,"")),n.push(this.months(i,"")),n.push(this.monthsShort(i,""));for(s.sort(t),o.sort(t),n.sort(t),e=0;e<12;e++)s[e]=ct(s[e]),o[e]=ct(o[e]);for(e=0;e<24;e++)n[e]=ct(n[e]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Bt(t,e,i,s,o,n,a){var r=new Date(t,e,i,s,o,n,a);return t<100&&t>=0&&isFinite(r.getFullYear())&&r.setFullYear(t),r}function Ft(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Et(t,e,i){var s=7+e-i;return-(7+Ft(t,0,s).getUTCDay()-e)%7+s-1}function Lt(t,e,i,s,o){var n,a,r=1+7*(e-1)+(7+i-s)%7+Et(t,s,o);return r<=0?a=gt(n=t-1)+r:r>gt(t)?(n=t+1,a=r-gt(t)):(n=t,a=r),{year:n,dayOfYear:a}}function zt(t,e,i){var s,o,n=Et(t.year(),e,i),a=Math.floor((t.dayOfYear()-n-1)/7)+1;return a<1?s=a+Wt(o=t.year()-1,e,i):a>Wt(t.year(),e,i)?(s=a-Wt(t.year(),e,i),o=t.year()+1):(o=t.year(),s=a),{week:s,year:o}}function Wt(t,e,i){var s=Et(t,e,i),o=Et(t+1,e,i);return(gt(t)-s+o)/7}H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),z("week",5),z("isoWeek",5),lt("w",J),lt("ww",J,U),lt("W",J),lt("WW",J,U),mt(["w","ww","W","WW"],(function(t,e,i,s){e[s.substr(0,1)]=_(t)})),H("d",0,"do","day"),H("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),H("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),H("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),lt("d",J),lt("e",J),lt("E",J),lt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),lt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),lt("dddd",(function(t,e){return e.weekdaysRegex(t)})),mt(["dd","ddd","dddd"],(function(t,e,i,s){var o=i._locale.weekdaysParse(t,s,i._strict);null!=o?e.d=o:p(i).invalidWeekday=t})),mt(["d","e","E"],(function(t,e,i,s){e[s]=_(t)}));var Nt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Vt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Yt(t,e,i){var s,o,n,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)n=u([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(n,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(o=yt.call(this._weekdaysParse,a))?o:null:"ddd"===e?-1!==(o=yt.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=yt.call(this._minWeekdaysParse,a))?o:null:"dddd"===e?-1!==(o=yt.call(this._weekdaysParse,a))||-1!==(o=yt.call(this._shortWeekdaysParse,a))||-1!==(o=yt.call(this._minWeekdaysParse,a))?o:null:"ddd"===e?-1!==(o=yt.call(this._shortWeekdaysParse,a))||-1!==(o=yt.call(this._weekdaysParse,a))||-1!==(o=yt.call(this._minWeekdaysParse,a))?o:null:-1!==(o=yt.call(this._minWeekdaysParse,a))||-1!==(o=yt.call(this._weekdaysParse,a))||-1!==(o=yt.call(this._shortWeekdaysParse,a))?o:null}var Ht=rt,jt=rt,Xt=rt;function Gt(){function t(t,e){return e.length-t.length}var e,i,s,o,n,a=[],r=[],h=[],l=[];for(e=0;e<7;e++)i=u([2e3,1]).day(e),s=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),n=this.weekdays(i,""),a.push(s),r.push(o),h.push(n),l.push(s),l.push(o),l.push(n);for(a.sort(t),r.sort(t),h.sort(t),l.sort(t),e=0;e<7;e++)r[e]=ct(r[e]),h[e]=ct(h[e]),l[e]=ct(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ut(){return this.hours()%12||12}function qt(t,e){H(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Kt(t,e){return e._meridiemParse}H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Ut),H("k",["kk",2],0,(function(){return this.hours()||24})),H("hmm",0,0,(function(){return""+Ut.apply(this)+W(this.minutes(),2)})),H("hmmss",0,0,(function(){return""+Ut.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)})),H("Hmm",0,0,(function(){return""+this.hours()+W(this.minutes(),2)})),H("Hmmss",0,0,(function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)})),qt("a",!0),qt("A",!1),B("hour","h"),z("hour",13),lt("a",Kt),lt("A",Kt),lt("H",J),lt("h",J),lt("k",J),lt("HH",J,U),lt("hh",J,U),lt("kk",J,U),lt("hmm",Q),lt("hmmss",$),lt("Hmm",Q),lt("Hmmss",$),pt(["H","HH"],3),pt(["k","kk"],(function(t,e,i){var s=_(t);e[3]=24===s?0:s})),pt(["a","A"],(function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t})),pt(["h","hh"],(function(t,e,i){e[3]=_(t),p(i).bigHour=!0})),pt("hmm",(function(t,e,i){var s=t.length-2;e[3]=_(t.substr(0,s)),e[4]=_(t.substr(s)),p(i).bigHour=!0})),pt("hmmss",(function(t,e,i){var s=t.length-4,o=t.length-2;e[3]=_(t.substr(0,s)),e[4]=_(t.substr(s,2)),e[5]=_(t.substr(o)),p(i).bigHour=!0})),pt("Hmm",(function(t,e,i){var s=t.length-2;e[3]=_(t.substr(0,s)),e[4]=_(t.substr(s))})),pt("Hmmss",(function(t,e,i){var s=t.length-4,o=t.length-2;e[3]=_(t.substr(0,s)),e[4]=_(t.substr(s,2)),e[5]=_(t.substr(o))}));var Zt,Jt=xt("Hours",!0),Qt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Tt,monthsShort:Ct,week:{dow:0,doy:6},weekdays:Nt,weekdaysMin:Rt,weekdaysShort:Vt,meridiemParse:/[ap]\.?m?\.?/i},$t={},te={};function ee(t){return t?t.toLowerCase().replace("_","-"):t}function ie(e){var i=null;if(!$t[e]&&void 0!==t&&t&&t.exports)try{i=Zt._abbr,function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),se(i)}catch(t){}return $t[e]}function se(t,e){var i;return t&&(i=a(e)?ne(t):oe(t,e))&&(Zt=i),Zt._abbr}function oe(t,e){if(null!==e){var i=Qt;if(e.abbr=t,null!=$t[t])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=$t[t]._config;else if(null!=e.parentLocale){if(null==$t[e.parentLocale])return te[e.parentLocale]||(te[e.parentLocale]=[]),te[e.parentLocale].push({name:t,config:e}),null;i=$t[e.parentLocale]._config}return $t[t]=new I(A(i,e)),te[t]&&te[t].forEach((function(t){oe(t.name,t.config)})),se(t),$t[t]}return delete $t[t],null}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Zt;if(!o(t)){if(e=ie(t))return e;t=[t]}return function(t){for(var e,i,s,o,n=0;n<t.length;){for(e=(o=ee(t[n]).split("-")).length,i=(i=ee(t[n+1]))?i.split("-"):null;e>0;){if(s=ie(o.slice(0,e).join("-")))return s;if(i&&i.length>=e&&k(o,i,!0)>=e-1)break;e--}n++}return null}(t)}function ae(t){var e,i=t._a;return i&&-2===p(t).overflow&&(e=i[1]<0||i[1]>11?1:i[2]<1||i[2]>kt(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,p(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),p(t)._overflowWeeks&&-1===e&&(e=7),p(t)._overflowWeekday&&-1===e&&(e=8),p(t).overflow=e),t}function re(t,e,i){return null!=t?t:null!=e?e:i}function he(t){var e,i,o,n,a=[];if(!t._d){for(o=function(t){var e=new Date(s.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,s,o,n,a,r,h;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)n=1,a=4,i=re(e.GG,t._a[0],zt(ke(),1,4).year),s=re(e.W,1),((o=re(e.E,1))<1||o>7)&&(h=!0);else{n=t._locale._week.dow,a=t._locale._week.doy;var l=zt(ke(),n,a);i=re(e.gg,t._a[0],l.year),s=re(e.w,l.week),null!=e.d?((o=e.d)<0||o>6)&&(h=!0):null!=e.e?(o=e.e+n,(e.e<0||e.e>6)&&(h=!0)):o=n}s<1||s>Wt(i,n,a)?p(t)._overflowWeeks=!0:null!=h?p(t)._overflowWeekday=!0:(r=Lt(i,s,o,n,a),t._a[0]=r.year,t._dayOfYear=r.dayOfYear)}(t),null!=t._dayOfYear&&(n=re(t._a[0],o[0]),(t._dayOfYear>gt(n)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),i=Ft(n,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=o[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Ft:Bt).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==t._d.getDay()&&(p(t).weekdayMismatch=!0)}}var le=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ce=/Z|[+-]\d\d(?::?\d\d)?/,ue=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],pe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],me=/^\/?Date\((\-?\d+)/i;function fe(t){var e,i,s,o,n,a,r=t._i,h=le.exec(r)||de.exec(r);if(h){for(p(t).iso=!0,e=0,i=ue.length;e<i;e++)if(ue[e][1].exec(h[1])){o=ue[e][0],s=!1!==ue[e][2];break}if(null==o)return void(t._isValid=!1);if(h[3]){for(e=0,i=pe.length;e<i;e++)if(pe[e][1].exec(h[3])){n=(h[2]||" ")+pe[e][0];break}if(null==n)return void(t._isValid=!1)}if(!s&&null!=n)return void(t._isValid=!1);if(h[4]){if(!ce.exec(h[4]))return void(t._isValid=!1);a="Z"}t._f=o+(n||"")+(a||""),xe(t)}else t._isValid=!1}var ge=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ve(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var ye={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function be(t){var e,i,s,o,n,a,r,h=ge.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(h){var l=(e=h[4],i=h[3],s=h[2],o=h[5],n=h[6],a=h[7],r=[ve(e),Ct.indexOf(i),parseInt(s,10),parseInt(o,10),parseInt(n,10)],a&&r.push(parseInt(a,10)),r);if(!function(t,e,i){return!t||Vt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(p(i).weekdayMismatch=!0,i._isValid=!1,!1)}(h[1],l,t))return;t._a=l,t._tzm=function(t,e,i){if(t)return ye[t];if(e)return 0;var s=parseInt(i,10),o=s%100;return(s-o)/100*60+o}(h[8],h[9],h[10]),t._d=Ft.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0}else t._isValid=!1}function xe(t){if(t._f!==s.ISO_8601)if(t._f!==s.RFC_2822){t._a=[],p(t).empty=!0;var e,i,o,n,a,r=""+t._i,h=r.length,l=0;for(o=X(t._f,t._locale).match(N)||[],e=0;e<o.length;e++)n=o[e],(i=(r.match(dt(n,t))||[])[0])&&((a=r.substr(0,r.indexOf(i))).length>0&&p(t).unusedInput.push(a),r=r.slice(r.indexOf(i)+i.length),l+=i.length),Y[n]?(i?p(t).empty=!1:p(t).unusedTokens.push(n),ft(n,i,t)):t._strict&&!i&&p(t).unusedTokens.push(n);p(t).charsLeftOver=h-l,r.length>0&&p(t).unusedInput.push(r),t._a[3]<=12&&!0===p(t).bigHour&&t._a[3]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var s;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((s=t.isPM(i))&&e<12&&(e+=12),s||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),he(t),ae(t)}else be(t);else fe(t)}function we(t){var e=t._i,i=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===i&&""===e?f({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),x(e)?new b(ae(e)):(h(e)?t._d=e:o(i)?function(t){var e,i,s,o,n;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)n=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],xe(e),m(e)&&(n+=p(e).charsLeftOver,n+=10*p(e).unusedTokens.length,p(e).score=n,(null==s||n<s)&&(s=n,i=e));c(t,i||e)}(t):i?xe(t):function(t){var e=t._i;a(e)?t._d=new Date(s.now()):h(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=me.exec(t._i);null===e?(fe(t),!1===t._isValid&&(delete t._isValid,be(t),!1===t._isValid&&(delete t._isValid,s.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):o(e)?(t._a=l(e.slice(0),(function(t){return parseInt(t,10)})),he(t)):n(e)?function(t){if(!t._d){var e=E(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),he(t)}}(t):r(e)?t._d=new Date(e):s.createFromInputFallback(t)}(t),m(t)||(t._d=null),t))}function _e(t,e,i,s,a){var r,h={};return!0!==i&&!1!==i||(s=i,i=void 0),(n(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||o(t)&&0===t.length)&&(t=void 0),h._isAMomentObject=!0,h._useUTC=h._isUTC=a,h._l=i,h._i=t,h._f=e,h._strict=s,(r=new b(ae(we(h))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function ke(t,e,i,s){return _e(t,e,i,s,!1)}s.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),s.ISO_8601=function(){},s.RFC_2822=function(){};var Me=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f()})),Te=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:f()}));function Ce(t,e){var i,s;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return ke();for(i=e[0],s=1;s<e.length;++s)e[s].isValid()&&!e[s][t](i)||(i=e[s]);return i}var Se=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pe(t){var e=E(t),i=e.year||0,s=e.quarter||0,o=e.month||0,n=e.week||0,a=e.day||0,r=e.hour||0,h=e.minute||0,l=e.second||0,d=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===yt.call(Se,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,s=0;s<Se.length;++s)if(t[Se[s]]){if(i)return!1;parseFloat(t[Se[s]])!==_(t[Se[s]])&&(i=!0)}return!0}(e),this._milliseconds=+d+1e3*l+6e4*h+1e3*r*60*60,this._days=+a+7*n,this._months=+o+3*s+12*i,this._data={},this._locale=ne(),this._bubble()}function De(t){return t instanceof Pe}function Ae(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ie(t,e){H(t,0,0,(function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+W(~~(t/60),2)+e+W(~~t%60,2)}))}Ie("Z",":"),Ie("ZZ",""),lt("Z",at),lt("ZZ",at),pt(["Z","ZZ"],(function(t,e,i){i._useUTC=!0,i._tzm=Be(at,t)}));var Oe=/([\+\-]|\d\d)/gi;function Be(t,e){var i=(e||"").match(t);if(null===i)return null;var s=((i[i.length-1]||[])+"").match(Oe)||["-",0,0],o=60*s[1]+_(s[2]);return 0===o?0:"+"===s[0]?o:-o}function Fe(t,e){var i,o;return e._isUTC?(i=e.clone(),o=(x(t)||h(t)?t.valueOf():ke(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),s.updateOffset(i,!1),i):ke(t).local()}function Ee(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Le(){return!!this.isValid()&&this._isUTC&&0===this._offset}s.updateOffset=function(){};var ze=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,We=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ne(t,e){var i,s,o,n,a,h,l=t,c=null;return De(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:r(t)?(l={},e?l[e]=t:l.milliseconds=t):(c=ze.exec(t))?(i="-"===c[1]?-1:1,l={y:0,d:_(c[2])*i,h:_(c[3])*i,m:_(c[4])*i,s:_(c[5])*i,ms:_(Ae(1e3*c[6]))*i}):(c=We.exec(t))?(i="-"===c[1]?-1:(c[1],1),l={y:Ve(c[2],i),M:Ve(c[3],i),w:Ve(c[4],i),d:Ve(c[5],i),h:Ve(c[6],i),m:Ve(c[7],i),s:Ve(c[8],i)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(n=ke(l.from),a=ke(l.to),o=n.isValid()&&a.isValid()?(a=Fe(a,n),n.isBefore(a)?h=Re(n,a):((h=Re(a,n)).milliseconds=-h.milliseconds,h.months=-h.months),h):{milliseconds:0,months:0},(l={}).ms=o.milliseconds,l.M=o.months),s=new Pe(l),De(t)&&d(t,"_locale")&&(s._locale=t._locale),s}function Ve(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Re(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Ye(t,e){return function(i,s){var o;return null===s||isNaN(+s)||(P(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=i,i=s,s=o),He(this,Ne(i="string"==typeof i?+i:i,s),t),this}}function He(t,e,i,o){var n=e._milliseconds,a=Ae(e._days),r=Ae(e._months);t.isValid()&&(o=null==o||o,r&&Pt(t,wt(t,"Month")+r*i),a&&_t(t,"Date",wt(t,"Date")+a*i),n&&t._d.setTime(t._d.valueOf()+n*i),o&&s.updateOffset(t,a||r))}Ne.fn=Pe.prototype,Ne.invalid=function(){return Ne(NaN)};var je=Ye(1,"add"),Xe=Ye(-1,"subtract");function Ge(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(i,"months");return-(i+(e-s<0?(e-s)/(s-t.clone().add(i-1,"months")):(e-s)/(t.clone().add(i+1,"months")-s)))||0}function Ue(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ne(t))&&(this._locale=e),this)}s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",s.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var qe=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Ke(){return this._locale}function Ze(t,e){H(0,[t,t.length],0,e)}function Je(t,e,i,s,o){var n;return null==t?zt(this,s,o).year:(e>(n=Wt(t,s,o))&&(e=n),Qe.call(this,t,e,i,s,o))}function Qe(t,e,i,s,o){var n=Lt(t,e,i,s,o),a=Ft(n.year,0,n.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}H(0,["gg",2],0,(function(){return this.weekYear()%100})),H(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ze("gggg","weekYear"),Ze("ggggg","weekYear"),Ze("GGGG","isoWeekYear"),Ze("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),lt("G",ot),lt("g",ot),lt("GG",J,U),lt("gg",J,U),lt("GGGG",et,K),lt("gggg",et,K),lt("GGGGG",it,Z),lt("ggggg",it,Z),mt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,i,s){e[s.substr(0,2)]=_(t)})),mt(["gg","GG"],(function(t,e,i,o){e[o]=s.parseTwoDigitYear(t)})),H("Q",0,"Qo","quarter"),B("quarter","Q"),z("quarter",7),lt("Q",G),pt("Q",(function(t,e){e[1]=3*(_(t)-1)})),H("D",["DD",2],"Do","date"),B("date","D"),z("date",9),lt("D",J),lt("DD",J,U),lt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),pt(["D","DD"],2),pt("Do",(function(t,e){e[2]=_(t.match(J)[0])}));var $e=xt("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),z("dayOfYear",4),lt("DDD",tt),lt("DDDD",q),pt(["DDD","DDDD"],(function(t,e,i){i._dayOfYear=_(t)})),H("m",["mm",2],0,"minute"),B("minute","m"),z("minute",14),lt("m",J),lt("mm",J,U),pt(["m","mm"],4);var ti=xt("Minutes",!1);H("s",["ss",2],0,"second"),B("second","s"),z("second",15),lt("s",J),lt("ss",J,U),pt(["s","ss"],5);var ei,ii=xt("Seconds",!1);for(H("S",0,0,(function(){return~~(this.millisecond()/100)})),H(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),H(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),H(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),H(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),H(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),H(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),B("millisecond","ms"),z("millisecond",16),lt("S",tt,G),lt("SS",tt,U),lt("SSS",tt,q),ei="SSSS";ei.length<=9;ei+="S")lt(ei,st);function si(t,e){e[6]=_(1e3*("0."+t))}for(ei="S";ei.length<=9;ei+="S")pt(ei,si);var oi=xt("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var ni=b.prototype;function ai(t){return t}ni.add=je,ni.calendar=function(t,e){var i=t||ke(),o=Fe(i,this).startOf("day"),n=s.calendarFormat(this,o)||"sameElse",a=e&&(D(e[n])?e[n].call(this,i):e[n]);return this.format(a||this.localeData().calendar(n,this,ke(i)))},ni.clone=function(){return new b(this)},ni.diff=function(t,e,i){var s,o,n;if(!this.isValid())return NaN;if(!(s=Fe(t,this)).isValid())return NaN;switch(o=6e4*(s.utcOffset()-this.utcOffset()),e=F(e)){case"year":n=Ge(this,s)/12;break;case"month":n=Ge(this,s);break;case"quarter":n=Ge(this,s)/3;break;case"second":n=(this-s)/1e3;break;case"minute":n=(this-s)/6e4;break;case"hour":n=(this-s)/36e5;break;case"day":n=(this-s-o)/864e5;break;case"week":n=(this-s-o)/6048e5;break;default:n=this-s}return i?n:w(n)},ni.endOf=function(t){return void 0===(t=F(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},ni.format=function(t){t||(t=this.isUtc()?s.defaultFormatUtc:s.defaultFormat);var e=j(this,t);return this.localeData().postformat(e)},ni.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||ke(t).isValid())?Ne({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ni.fromNow=function(t){return this.from(ke(),t)},ni.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||ke(t).isValid())?Ne({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ni.toNow=function(t){return this.to(ke(),t)},ni.get=function(t){return D(this[t=F(t)])?this[t]():this},ni.invalidAt=function(){return p(this).overflow},ni.isAfter=function(t,e){var i=x(t)?t:ke(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=F(a(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},ni.isBefore=function(t,e){var i=x(t)?t:ke(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=F(a(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},ni.isBetween=function(t,e,i,s){return("("===(s=s||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===s[1]?this.isBefore(e,i):!this.isAfter(e,i))},ni.isSame=function(t,e){var i,s=x(t)?t:ke(t);return!(!this.isValid()||!s.isValid())&&("millisecond"===(e=F(e||"millisecond"))?this.valueOf()===s.valueOf():(i=s.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},ni.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},ni.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},ni.isValid=function(){return m(this)},ni.lang=qe,ni.locale=Ue,ni.localeData=Ke,ni.max=Te,ni.min=Me,ni.parsingFlags=function(){return c({},p(this))},ni.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:L[i]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=E(t)),s=0;s<i.length;s++)this[i[s].unit](t[i[s].unit]);else if(D(this[t=F(t)]))return this[t](e);return this},ni.startOf=function(t){switch(t=F(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},ni.subtract=Xe,ni.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},ni.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},ni.toDate=function(){return new Date(this.valueOf())},ni.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?j(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(Date.prototype.toISOString)?this.toDate().toISOString():j(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},ni.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(i+s+"-MM-DD[T]HH:mm:ss.SSS"+o)},ni.toJSON=function(){return this.isValid()?this.toISOString():null},ni.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ni.unix=function(){return Math.floor(this.valueOf()/1e3)},ni.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ni.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ni.year=bt,ni.isLeapYear=function(){return vt(this.year())},ni.weekYear=function(t){return Je.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ni.isoWeekYear=function(t){return Je.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},ni.quarter=ni.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},ni.month=Dt,ni.daysInMonth=function(){return kt(this.year(),this.month())},ni.week=ni.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},ni.isoWeek=ni.isoWeeks=function(t){var e=zt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},ni.weeksInYear=function(){var t=this.localeData()._week;return Wt(this.year(),t.dow,t.doy)},ni.isoWeeksInYear=function(){return Wt(this.year(),1,4)},ni.date=$e,ni.day=ni.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},ni.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},ni.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},ni.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},ni.hour=ni.hours=Jt,ni.minute=ni.minutes=ti,ni.second=ni.seconds=ii,ni.millisecond=ni.milliseconds=oi,ni.utcOffset=function(t,e,i){var o,n=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Be(at,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(o=Ee(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),n!==t&&(!e||this._changeInProgress?He(this,Ne(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,s.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?n:Ee(this)},ni.utc=function(t){return this.utcOffset(0,t)},ni.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ee(this),"m")),this},ni.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Be(nt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},ni.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?ke(t).utcOffset():0,(this.utcOffset()-t)%60==0)},ni.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ni.isLocal=function(){return!!this.isValid()&&!this._isUTC},ni.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ni.isUtc=Le,ni.isUTC=Le,ni.zoneAbbr=function(){return this._isUTC?"UTC":""},ni.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ni.dates=T("dates accessor is deprecated. Use date instead.",$e),ni.months=T("months accessor is deprecated. Use month instead",Dt),ni.years=T("years accessor is deprecated. Use year instead",bt),ni.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),ni.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=we(t))._a){var e=t._isUTC?u(t._a):ke(t._a);this._isDSTShifted=this.isValid()&&k(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var ri=I.prototype;function hi(t,e,i,s){var o=ne(),n=u().set(s,e);return o[i](n,t)}function li(t,e,i){if(r(t)&&(e=t,t=void 0),t=t||"",null!=e)return hi(t,e,i,"month");var s,o=[];for(s=0;s<12;s++)o[s]=hi(t,s,i,"month");return o}function di(t,e,i,s){"boolean"==typeof t?(r(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,r(e)&&(i=e,e=void 0),e=e||"");var o,n=ne(),a=t?n._week.dow:0;if(null!=i)return hi(e,(i+a)%7,s,"day");var h=[];for(o=0;o<7;o++)h[o]=hi(e,(o+a)%7,s,"day");return h}ri.calendar=function(t,e,i){var s=this._calendar[t]||this._calendar.sameElse;return D(s)?s.call(e,i):s},ri.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},ri.invalidDate=function(){return this._invalidDate},ri.ordinal=function(t){return this._ordinal.replace("%d",t)},ri.preparse=ai,ri.postformat=ai,ri.relativeTime=function(t,e,i,s){var o=this._relativeTime[i];return D(o)?o(t,e,i,s):o.replace(/%d/i,t)},ri.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return D(i)?i(e):i.replace(/%s/i,e)},ri.set=function(t){var e,i;for(i in t)D(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ri.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Mt).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},ri.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Mt.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ri.monthsParse=function(t,e,i){var s,o,n;if(this._monthsParseExact)return St.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(o=u([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[s]||(n="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[s]=new RegExp(n.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[s].test(t))return s;if(i&&"MMM"===e&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}},ri.monthsRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||Ot.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=It),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},ri.monthsShortRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||Ot.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=At),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},ri.week=function(t){return zt(t,this._week.dow,this._week.doy).week},ri.firstDayOfYear=function(){return this._week.doy},ri.firstDayOfWeek=function(){return this._week.dow},ri.weekdays=function(t,e){return t?o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},ri.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},ri.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},ri.weekdaysParse=function(t,e,i){var s,o,n;if(this._weekdaysParseExact)return Yt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(o=u([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(n="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[s]=new RegExp(n.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[s].test(t))return s;if(i&&"ddd"===e&&this._shortWeekdaysParse[s].test(t))return s;if(i&&"dd"===e&&this._minWeekdaysParse[s].test(t))return s;if(!i&&this._weekdaysParse[s].test(t))return s}},ri.weekdaysRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Ht),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},ri.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ri.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ri.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},ri.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},se("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),s.lang=T("moment.lang is deprecated. Use moment.locale instead.",se),s.langData=T("moment.langData is deprecated. Use moment.localeData instead.",ne);var ci=Math.abs;function ui(t,e,i,s){var o=Ne(e,i);return t._milliseconds+=s*o._milliseconds,t._days+=s*o._days,t._months+=s*o._months,t._bubble()}function pi(t){return t<0?Math.floor(t):Math.ceil(t)}function mi(t){return 4800*t/146097}function fi(t){return 146097*t/4800}function gi(t){return function(){return this.as(t)}}var vi=gi("ms"),yi=gi("s"),bi=gi("m"),xi=gi("h"),wi=gi("d"),_i=gi("w"),ki=gi("M"),Mi=gi("y");function Ti(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ci=Ti("milliseconds"),Si=Ti("seconds"),Pi=Ti("minutes"),Di=Ti("hours"),Ai=Ti("days"),Ii=Ti("months"),Oi=Ti("years"),Bi=Math.round,Fi={ss:44,s:45,m:45,h:22,d:26,M:11};function Ei(t,e,i,s,o){return o.relativeTime(e||1,!!i,t,s)}var Li=Math.abs;function zi(t){return(t>0)-(t<0)||+t}function Wi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Li(this._milliseconds)/1e3,s=Li(this._days),o=Li(this._months);t=w(i/60),e=w(t/60),i%=60,t%=60;var n=w(o/12),a=o%=12,r=s,h=e,l=t,d=i?i.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var u=c<0?"-":"",p=zi(this._months)!==zi(c)?"-":"",m=zi(this._days)!==zi(c)?"-":"",f=zi(this._milliseconds)!==zi(c)?"-":"";return u+"P"+(n?p+n+"Y":"")+(a?p+a+"M":"")+(r?m+r+"D":"")+(h||l||d?"T":"")+(h?f+h+"H":"")+(l?f+l+"M":"")+(d?f+d+"S":"")}var Ni=Pe.prototype;return Ni.isValid=function(){return this._isValid},Ni.abs=function(){var t=this._data;return this._milliseconds=ci(this._milliseconds),this._days=ci(this._days),this._months=ci(this._months),t.milliseconds=ci(t.milliseconds),t.seconds=ci(t.seconds),t.minutes=ci(t.minutes),t.hours=ci(t.hours),t.months=ci(t.months),t.years=ci(t.years),this},Ni.add=function(t,e){return ui(this,t,e,1)},Ni.subtract=function(t,e){return ui(this,t,e,-1)},Ni.as=function(t){if(!this.isValid())return NaN;var e,i,s=this._milliseconds;if("month"===(t=F(t))||"year"===t)return e=this._days+s/864e5,i=this._months+mi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(fi(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return 24*e+s/36e5;case"minute":return 1440*e+s/6e4;case"second":return 86400*e+s/1e3;case"millisecond":return Math.floor(864e5*e)+s;default:throw new Error("Unknown unit "+t)}},Ni.asMilliseconds=vi,Ni.asSeconds=yi,Ni.asMinutes=bi,Ni.asHours=xi,Ni.asDays=wi,Ni.asWeeks=_i,Ni.asMonths=ki,Ni.asYears=Mi,Ni.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},Ni._bubble=function(){var t,e,i,s,o,n=this._milliseconds,a=this._days,r=this._months,h=this._data;return n>=0&&a>=0&&r>=0||n<=0&&a<=0&&r<=0||(n+=864e5*pi(fi(r)+a),a=0,r=0),h.milliseconds=n%1e3,t=w(n/1e3),h.seconds=t%60,e=w(t/60),h.minutes=e%60,i=w(e/60),h.hours=i%24,a+=w(i/24),o=w(mi(a)),r+=o,a-=pi(fi(o)),s=w(r/12),r%=12,h.days=a,h.months=r,h.years=s,this},Ni.clone=function(){return Ne(this)},Ni.get=function(t){return t=F(t),this.isValid()?this[t+"s"]():NaN},Ni.milliseconds=Ci,Ni.seconds=Si,Ni.minutes=Pi,Ni.hours=Di,Ni.days=Ai,Ni.weeks=function(){return w(this.days()/7)},Ni.months=Ii,Ni.years=Oi,Ni.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var s=Ne(t).abs(),o=Bi(s.as("s")),n=Bi(s.as("m")),a=Bi(s.as("h")),r=Bi(s.as("d")),h=Bi(s.as("M")),l=Bi(s.as("y")),d=o<=Fi.ss&&["s",o]||o<Fi.s&&["ss",o]||n<=1&&["m"]||n<Fi.m&&["mm",n]||a<=1&&["h"]||a<Fi.h&&["hh",a]||r<=1&&["d"]||r<Fi.d&&["dd",r]||h<=1&&["M"]||h<Fi.M&&["MM",h]||l<=1&&["y"]||["yy",l];return d[2]=e,d[3]=+t>0,d[4]=i,Ei.apply(null,d)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Ni.toISOString=Wi,Ni.toString=Wi,Ni.toJSON=Wi,Ni.locale=Ue,Ni.localeData=Ke,Ni.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wi),Ni.lang=qe,H("X",0,0,"unix"),H("x",0,0,"valueOf"),lt("x",ot),lt("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",(function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))})),pt("x",(function(t,e,i){i._d=new Date(_(t))})),s.version="2.19.1",e=ke,s.fn=ni,s.min=function(){var t=[].slice.call(arguments,0);return Ce("isBefore",t)},s.max=function(){var t=[].slice.call(arguments,0);return Ce("isAfter",t)},s.now=function(){return Date.now?Date.now():+new Date},s.utc=u,s.unix=function(t){return ke(1e3*t)},s.months=function(t,e){return li(t,e,"months")},s.isDate=h,s.locale=se,s.invalid=f,s.duration=Ne,s.isMoment=x,s.weekdays=function(t,e,i){return di(t,e,i,"weekdays")},s.parseZone=function(){return ke.apply(null,arguments).parseZone()},s.localeData=ne,s.isDuration=De,s.monthsShort=function(t,e){return li(t,e,"monthsShort")},s.weekdaysMin=function(t,e,i){return di(t,e,i,"weekdaysMin")},s.defineLocale=oe,s.updateLocale=function(t,e){if(null!=e){var i,s=Qt;null!=$t[t]&&(s=$t[t]._config),e=A(s,e),(i=new I(e)).parentLocale=$t[t],$t[t]=i,se(t)}else null!=$t[t]&&(null!=$t[t].parentLocale?$t[t]=$t[t].parentLocale:null!=$t[t]&&delete $t[t]);return $t[t]},s.locales=function(){return C($t)},s.weekdaysShort=function(t,e,i){return di(t,e,i,"weekdaysShort")},s.normalizeUnits=F,s.relativeTimeRounding=function(t){return void 0===t?Bi:"function"==typeof t&&(Bi=t,!0)},s.relativeTimeThreshold=function(t,e){return void 0!==Fi[t]&&(void 0===e?Fi[t]:(Fi[t]=e,"s"===t&&(Fi.ss=e-1),!0))},s.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},s.prototype=ni,s}()}).call(e,i(155)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=156},function(t,e,i){(function(e){var i,s="undefined"!=typeof window?window:void 0!==e?e:null;if(s&&s.crypto&&crypto.getRandomValues){var o=new Uint8Array(16);i=function(){return crypto.getRandomValues(o),o}}if(!i){var n=new Array(16);i=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}for(var a=[],r={},h=0;h<256;h++)a[h]=(h+256).toString(16).substr(1),r[a[h]]=h;function l(t,e){var i=e||0,s=a;return s[t[i++]]+s[t[i++]]+s[t[i++]]+s[t[i++]]+"-"+s[t[i++]]+s[t[i++]]+"-"+s[t[i++]]+s[t[i++]]+"-"+s[t[i++]]+s[t[i++]]+"-"+s[t[i++]]+s[t[i++]]+s[t[i++]]+s[t[i++]]+s[t[i++]]+s[t[i++]]}var d=i(),c=[1|d[0],d[1],d[2],d[3],d[4],d[5]],u=16383&(d[6]<<8|d[7]),p=0,m=0;function f(t,e,s){var o=e&&s||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var n=(t=t||{}).random||(t.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e)for(var a=0;a<16;a++)e[o+a]=n[a];return e||l(n)}var g=f;g.v1=function(t,e,i){var s=e&&i||0,o=e||[],n=void 0!==(t=t||{}).clockseq?t.clockseq:u,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),r=void 0!==t.nsecs?t.nsecs:m+1,h=a-p+(r-m)/1e4;if(h<0&&void 0===t.clockseq&&(n=n+1&16383),(h<0||a>p)&&void 0===t.nsecs&&(r=0),r>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=a,m=r,u=n;var d=(1e4*(268435455&(a+=122192928e5))+r)%4294967296;o[s++]=d>>>24&255,o[s++]=d>>>16&255,o[s++]=d>>>8&255,o[s++]=255&d;var f=a/4294967296*1e4&268435455;o[s++]=f>>>8&255,o[s++]=255&f,o[s++]=f>>>24&15|16,o[s++]=f>>>16&255,o[s++]=n>>>8|128,o[s++]=255&n;for(var g=t.node||c,v=0;v<6;v++)o[s+v]=g[v];return e||l(o)},g.v4=f,g.parse=function(t,e,i){var s=e&&i||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,(function(t){o<16&&(e[s+o++]=r[t])}));o<16;)e[s+o++]=0;return e},g.unparse=l,t.exports=g}).call(e,i(158))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Graph3d=i(161),e.graph3d={Camera:i(95),Filter:i(96),Point2d:i(91),Point3d:i(34),Slider:i(92),StepNumber:i(93)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){var s=i(7),o=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,i){var s,o=i(90),n=(s=o)&&s.__esModule?s:{default:s},a=i(44),r=i(2),h=i(34),l=i(91),d=i(92),c=i(93),u=i(94),p=i(15).default,m=i(15).printStyle,f=i(172).allOptions,g=i(173);function v(t,e,i){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new g,this.dataPoints=null,this.create(),u.setDefaults(v.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(i),this.setData(e)}function y(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function b(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}v.STYLE=u.STYLE,v.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:void 0,animationInterval:1e3,animationPreload:!1,animationAutoStart:void 0,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:v.STYLE.DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:void 0,backgroundColor:void 0,xBarWidth:void 0,yBarWidth:void 0,valueMin:void 0,valueMax:void 0,xMin:void 0,xMax:void 0,xStep:void 0,yMin:void 0,yMax:void 0,yStep:void 0,zMin:void 0,zMax:void 0,zStep:void 0},a(v.prototype),v.prototype._setScale=function(){this.scale=new h(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,i)},v.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},v.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),s=t.x*this.scale.x,o=t.y*this.scale.y,n=t.z*this.scale.z,a=e.x,r=e.y,l=e.z,d=Math.sin(i.x),c=Math.cos(i.x),u=Math.sin(i.y),p=Math.cos(i.y),m=Math.sin(i.z),f=Math.cos(i.z);return new h(p*(m*(o-r)+f*(s-a))-u*(n-l),d*(p*(n-l)+u*(m*(o-r)+f*(s-a)))+c*(f*(o-r)-m*(s-a)),c*(p*(n-l)+u*(m*(o-r)+f*(s-a)))-d*(f*(o-r)-m*(s-a)))},v.prototype._convertTranslationToScreen=function(t){var e,i,s=this.eye.x,o=this.eye.y,n=this.eye.z,a=t.x,r=t.y,h=t.z;return this.showPerspective?(e=n/h*(a-s),i=n/h*(r-o)):(e=a*(-n/this.camera.getArmLength()),i=r*(-n/this.camera.getArmLength())),new l(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-i*this.frame.canvas.clientWidth)},v.prototype._calcTranslations=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.trans=this._convertPointToTranslation(i.point),i.screen=this._convertTranslationToScreen(i.trans);var s=this._convertPointToTranslation(i.bottom);i.dist=this.showPerspective?s.length():-s.z}t.sort((function(t,e){return e.dist-t.dist}))},v.prototype._initializeRanges=function(){var t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},v.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var s=new h;s.x=t[i][this.colX]||0,s.y=t[i][this.colY]||0,s.z=t[i][this.colZ]||0,s.data=t[i],void 0!==this.colValue&&(s.value=t[i][this.colValue]||0);var o={};o.point=s,o.bottom=new h(s.x,s.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},v.prototype._getDataPoints=function(t){var e,i,s,o,n=[];if(this.style===v.STYLE.GRID||this.style===v.STYLE.SURFACE){var a=this.dataGroup.getDistinctValues(this.colX,t),r=this.dataGroup.getDistinctValues(this.colY,t);n=this.getDataPoints(t);var h=[];for(s=0;s<n.length;s++){o=n[s];var l=a.indexOf(o.point.x),d=r.indexOf(o.point.y);void 0===h[l]&&(h[l]=[]),h[l][d]=o}for(e=0;e<h.length;e++)for(i=0;i<h[e].length;i++)h[e][i]&&(h[e][i].pointRight=e<h.length-1?h[e+1][i]:void 0,h[e][i].pointTop=i<h[e].length-1?h[e][i+1]:void 0,h[e][i].pointCross=e<h.length-1&&i<h[e].length-1?h[e+1][i+1]:void 0)}else if(this._checkValueField(t),n=this.getDataPoints(t),this.style===v.STYLE.LINE)for(s=0;s<n.length;s++)s>0&&(n[s-1].pointNext=n[s]);return n},v.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this;r.addEventListener(this.frame.canvas,"mousedown",(function(t){e._onMouseDown(t)})),r.addEventListener(this.frame.canvas,"touchstart",(function(t){e._onTouchStart(t)})),r.addEventListener(this.frame.canvas,"mousewheel",(function(t){e._onWheel(t)})),r.addEventListener(this.frame.canvas,"mousemove",(function(t){e._onTooltip(t)})),r.addEventListener(this.frame.canvas,"click",(function(t){e._onClick(t)})),this.containerElement.appendChild(this.frame)},v.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},v.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},v.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},v.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},v.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},v.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},v.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},v.prototype.setData=function(t){null!=t&&(this._readData(t),this.redraw(),this.animationStart())},v.prototype.setOptions=function(t){void 0!==t&&(!0===p.validate(t,f)&&console.log("%cErrors have been found in the supplied options object.",m),this.animationStop(),u.setOptions(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},v.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case v.STYLE.BAR:t=v.prototype._redrawBarGraphPoint;break;case v.STYLE.BARCOLOR:t=v.prototype._redrawBarColorGraphPoint;break;case v.STYLE.BARSIZE:t=v.prototype._redrawBarSizeGraphPoint;break;case v.STYLE.DOT:t=v.prototype._redrawDotGraphPoint;break;case v.STYLE.DOTLINE:t=v.prototype._redrawDotLineGraphPoint;break;case v.STYLE.DOTCOLOR:t=v.prototype._redrawDotColorGraphPoint;break;case v.STYLE.DOTSIZE:t=v.prototype._redrawDotSizeGraphPoint;break;case v.STYLE.SURFACE:t=v.prototype._redrawSurfaceGraphPoint;break;case v.STYLE.GRID:t=v.prototype._redrawGridGraphPoint;break;case v.STYLE.LINE:t=v.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},v.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},v.prototype._getContext=function(){var t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},v.prototype._redrawClear=function(){var t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},v.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},v.prototype._getLegendWidth=function(){return this.style===v.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===v.STYLE.BARSIZE?this.xBarWidth:20},v.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==v.STYLE.LINE&&this.style!==v.STYLE.BARSIZE){var t=this.style===v.STYLE.BARSIZE||this.style===v.STYLE.DOTSIZE,e=this.style===v.STYLE.DOTSIZE||this.style===v.STYLE.DOTCOLOR||this.style===v.STYLE.BARCOLOR,i=Math.max(.25*this.frame.clientHeight,100),s=this.margin,o=this._getLegendWidth(),n=this.frame.clientWidth-this.margin,a=n-o,r=s+i,h=this._getContext();if(h.lineWidth=1,h.font="14px arial",!1===t){var d,u=i;for(d=0;d<u;d++){var p=(d-0)/(u-0)*240,m=this._hsv2rgb(p,1,1);h.strokeStyle=m,h.beginPath(),h.moveTo(a,s+d),h.lineTo(n,s+d),h.stroke()}h.strokeStyle=this.axisColor,h.strokeRect(a,s,o,i)}else{var f;this.style===v.STYLE.DOTSIZE?f=o*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,v.STYLE.BARSIZE),h.strokeStyle=this.axisColor,h.fillStyle=this.dataColor.fill,h.beginPath(),h.moveTo(a,s),h.lineTo(n,s),h.lineTo(a+f,r),h.lineTo(a,r),h.closePath(),h.fill(),h.stroke()}var g,y,b=e?this.valueRange.min:this.zRange.min,x=e?this.valueRange.max:this.zRange.max,w=new c(b,x,(x-b)/5,!0);for(w.start(!0);!w.end();)d=r-(w.getCurrent()-b)/(x-b)*i,g=new l(a-5,d),y=new l(a,d),this._line(h,g,y),h.textAlign="right",h.textBaseline="middle",h.fillStyle=this.axisColor,h.fillText(w.getCurrent(),a-10,d),w.next();h.textAlign="right",h.textBaseline="top";var _=this.legendLabel;h.fillText(_,n,r+this.margin)}},v.prototype._redrawFilter=function(){var t=this.dataGroup.dataFilter,e=this.frame.filter;if(e.innerHTML="",t){var i={visible:this.showAnimationControls},s=new d(e,i);e.slider=s,e.style.padding="10px",s.setValues(t.values),s.setPlayInterval(this.animationInterval);var o=this;s.setOnChangeCallback((function(){var t=o.dataGroup.dataFilter,e=s.getIndex();t.selectValue(e),o.dataPoints=t._getDataPoints(),o.redraw()}))}else e.slider=void 0},v.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},v.prototype._redrawInfo=function(){var t=this.dataGroup.getInfo();if(void 0!==t){var e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";var i=this.margin,s=this.margin;e.fillText(t,i,s)}},v.prototype._line=function(t,e,i,s){void 0!==s&&(t.strokeStyle=s),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()},v.prototype.drawAxisLabelX=function(t,e,i,s,o){void 0===o&&(o=0);var n=this._convert3Dto2D(e);Math.cos(2*s)>0?(t.textAlign="center",t.textBaseline="top",n.y+=o):Math.sin(2*s)<0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,n.x,n.y)},v.prototype.drawAxisLabelY=function(t,e,i,s,o){void 0===o&&(o=0);var n=this._convert3Dto2D(e);Math.cos(2*s)<0?(t.textAlign="center",t.textBaseline="top",n.y+=o):Math.sin(2*s)>0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,n.x,n.y)},v.prototype.drawAxisLabelZ=function(t,e,i,s){void 0===s&&(s=0);var o=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(i,o.x-s,o.y)},v.prototype._line3d=function(t,e,i,s){var o=this._convert3Dto2D(e),n=this._convert3Dto2D(i);this._line(t,o,n,s)},v.prototype._redrawAxis=function(){var t,e,i,s,o,n,a,r,d,u,p=this._getContext();p.font=24/this.camera.getArmLength()+"px arial";var m,f,g,v=.025/this.scale.x,y=.025/this.scale.y,b=5/this.camera.getArmLength(),x=this.camera.getArmRotation().horizontal,w=new l(Math.cos(x),Math.sin(x)),_=this.xRange,k=this.yRange,M=this.zRange;for(p.lineWidth=1,s=void 0===this.defaultXStep,(i=new c(_.min,_.max,this.xStep,s)).start(!0);!i.end();){var T=i.getCurrent();if(this.showGrid?(t=new h(T,k.min,M.min),e=new h(T,k.max,M.min),this._line3d(p,t,e,this.gridColor)):this.showXAxis&&(t=new h(T,k.min,M.min),e=new h(T,k.min+v,M.min),this._line3d(p,t,e,this.axisColor),t=new h(T,k.max,M.min),e=new h(T,k.max-v,M.min),this._line3d(p,t,e,this.axisColor)),this.showXAxis){a=w.x>0?k.min:k.max,m=new h(T,a,M.min);var C="  "+this.xValueLabel(T)+"  ";this.drawAxisLabelX(p,m,C,x,b)}i.next()}for(p.lineWidth=1,s=void 0===this.defaultYStep,(i=new c(k.min,k.max,this.yStep,s)).start(!0);!i.end();){var S=i.getCurrent();if(this.showGrid?(t=new h(_.min,S,M.min),e=new h(_.max,S,M.min),this._line3d(p,t,e,this.gridColor)):this.showYAxis&&(t=new h(_.min,S,M.min),e=new h(_.min+y,S,M.min),this._line3d(p,t,e,this.axisColor),t=new h(_.max,S,M.min),e=new h(_.max-y,S,M.min),this._line3d(p,t,e,this.axisColor)),this.showYAxis){n=w.y>0?_.min:_.max,m=new h(n,S,M.min);var P="  "+this.yValueLabel(S)+"  ";this.drawAxisLabelY(p,m,P,x,b)}i.next()}if(this.showZAxis){for(p.lineWidth=1,s=void 0===this.defaultZStep,(i=new c(M.min,M.max,this.zStep,s)).start(!0),n=w.x>0?_.min:_.max,a=w.y<0?k.min:k.max;!i.end();){var D=i.getCurrent(),A=new h(n,a,D),I=this._convert3Dto2D(A);e=new l(I.x-b,I.y),this._line(p,I,e,this.axisColor);var O=this.zValueLabel(D)+" ";this.drawAxisLabelZ(p,A,O,5),i.next()}p.lineWidth=1,t=new h(n,a,M.min),e=new h(n,a,M.max),this._line3d(p,t,e,this.axisColor)}this.showXAxis&&(p.lineWidth=1,f=new h(_.min,k.min,M.min),g=new h(_.max,k.min,M.min),this._line3d(p,f,g,this.axisColor),f=new h(_.min,k.max,M.min),g=new h(_.max,k.max,M.min),this._line3d(p,f,g,this.axisColor)),this.showYAxis&&(p.lineWidth=1,t=new h(_.min,k.min,M.min),e=new h(_.min,k.max,M.min),this._line3d(p,t,e,this.axisColor),t=new h(_.max,k.min,M.min),e=new h(_.max,k.max,M.min),this._line3d(p,t,e,this.axisColor));var B=this.xLabel;B.length>0&&this.showXAxis&&(u=.1/this.scale.y,n=(_.max+3*_.min)/4,a=w.x>0?k.min-u:k.max+u,o=new h(n,a,M.min),this.drawAxisLabelX(p,o,B,x));var F=this.yLabel;F.length>0&&this.showYAxis&&(d=.1/this.scale.x,n=w.y>0?_.min-d:_.max+d,a=(k.max+3*k.min)/4,o=new h(n,a,M.min),this.drawAxisLabelY(p,o,F,x));var E=this.zLabel;E.length>0&&this.showZAxis&&(n=w.x>0?_.min:_.max,a=w.y<0?k.min:k.max,r=(M.max+3*M.min)/4,o=new h(n,a,r),this.drawAxisLabelZ(p,o,E,30))},v.prototype._hsv2rgb=function(t,e,i){var s,o,n,a,r,h;switch(a=i*e,r=Math.floor(t/60),h=a*(1-Math.abs(t/60%2-1)),r){case 0:s=a,o=h,n=0;break;case 1:s=h,o=a,n=0;break;case 2:s=0,o=a,n=h;break;case 3:s=0,o=h,n=a;break;case 4:s=h,o=0,n=a;break;case 5:s=a,o=0,n=h;break;default:s=0,o=0,n=0}return"RGB("+parseInt(255*s)+","+parseInt(255*o)+","+parseInt(255*n)+")"},v.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},v.prototype._redrawBar=function(t,e,i,s,o,n){var a,r=this,l=e.point,d=this.zRange.min,c=[{point:new h(l.x-i,l.y-s,l.z)},{point:new h(l.x+i,l.y-s,l.z)},{point:new h(l.x+i,l.y+s,l.z)},{point:new h(l.x-i,l.y+s,l.z)}],u=[{point:new h(l.x-i,l.y-s,d)},{point:new h(l.x+i,l.y-s,d)},{point:new h(l.x+i,l.y+s,d)},{point:new h(l.x-i,l.y+s,d)}];c.forEach((function(t){t.screen=r._convert3Dto2D(t.point)})),u.forEach((function(t){t.screen=r._convert3Dto2D(t.point)}));var p=[{corners:c,center:h.avg(u[0].point,u[2].point)},{corners:[c[0],c[1],u[1],u[0]],center:h.avg(u[1].point,u[0].point)},{corners:[c[1],c[2],u[2],u[1]],center:h.avg(u[2].point,u[1].point)},{corners:[c[2],c[3],u[3],u[2]],center:h.avg(u[3].point,u[2].point)},{corners:[c[3],c[0],u[0],u[3]],center:h.avg(u[0].point,u[3].point)}];e.surfaces=p;for(var m=0;m<p.length;m++){a=p[m];var f=this._convertPointToTranslation(a.center);a.dist=this.showPerspective?f.length():-f.z}p.sort((function(t,e){var i=e.dist-t.dist;return i||(t.corners===c?1:e.corners===c?-1:0)})),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=n,t.fillStyle=o;for(var g=2;g<p.length;g++)a=p[g],this._polygon(t,a.corners)},v.prototype._polygon=function(t,e,i,s){if(!(e.length<2)){void 0!==i&&(t.fillStyle=i),void 0!==s&&(t.strokeStyle=s),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var o=1;o<e.length;++o){var n=e[o];t.lineTo(n.screen.x,n.screen.y)}t.closePath(),t.fill(),t.stroke()}},v.prototype._drawCircle=function(t,e,i,s,o){var n=this._calcRadius(e,o);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=s,t.fillStyle=i,t.beginPath(),t.arc(e.screen.x,e.screen.y,n,0,2*Math.PI,!0),t.fill(),t.stroke()},v.prototype._getColorsRegular=function(t){var e=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(e,1,1),border:this._hsv2rgb(e,1,.8)}},v.prototype._getColorsColor=function(t){var e,i;if("string"==typeof t.point.value)e=t.point.value,i=t.point.value;else{var s=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);e=this._hsv2rgb(s,1,1),i=this._hsv2rgb(s,1,.8)}return{fill:e,border:i}},v.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},v.prototype._calcRadius=function(t,e){var i;return void 0===e&&(e=this._dotSize()),(i=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()))<0&&(i=0),i},v.prototype._redrawBarGraphPoint=function(t,e){var i=this.xBarWidth/2,s=this.yBarWidth/2,o=this._getColorsRegular(e);this._redrawBar(t,e,i,s,o.fill,o.border)},v.prototype._redrawBarColorGraphPoint=function(t,e){var i=this.xBarWidth/2,s=this.yBarWidth/2,o=this._getColorsColor(e);this._redrawBar(t,e,i,s,o.fill,o.border)},v.prototype._redrawBarSizeGraphPoint=function(t,e){var i=(e.point.value-this.valueRange.min)/this.valueRange.range(),s=this.xBarWidth/2*(.8*i+.2),o=this.yBarWidth/2*(.8*i+.2),n=this._getColorsSize();this._redrawBar(t,e,s,o,n.fill,n.border)},v.prototype._redrawDotGraphPoint=function(t,e){var i=this._getColorsRegular(e);this._drawCircle(t,e,i.fill,i.border)},v.prototype._redrawDotLineGraphPoint=function(t,e){var i=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,i,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},v.prototype._redrawDotColorGraphPoint=function(t,e){var i=this._getColorsColor(e);this._drawCircle(t,e,i.fill,i.border)},v.prototype._redrawDotSizeGraphPoint=function(t,e){var i=this._dotSize(),s=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=i*this.dotSizeMinFraction,n=o+(i*this.dotSizeMaxFraction-o)*s,a=this._getColorsSize();this._drawCircle(t,e,a.fill,a.border,n)},v.prototype._redrawSurfaceGraphPoint=function(t,e){var i=e.pointRight,s=e.pointTop,o=e.pointCross;if(void 0!==e&&void 0!==i&&void 0!==s&&void 0!==o){var n,a,r=!0;if(this.showGrayBottom||this.showShadow){var l=h.subtract(o.trans,e.trans),d=h.subtract(s.trans,i.trans),c=h.crossProduct(l,d),u=c.length();r=c.z>0}if(r){var p,m=240*(1-((e.point.z+i.point.z+s.point.z+o.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(p=Math.min(1+c.x/u/2,1),a=n=this._hsv2rgb(m,1,p)):(p=1,n=this._hsv2rgb(m,1,p),a=this.axisColor)}else n="gray",a=this.axisColor;t.lineWidth=this._getStrokeWidth(e);var f=[e,i,o,s];this._polygon(t,f,n,a)}},v.prototype._drawGridLine=function(t,e,i){if(void 0!==e&&void 0!==i){var s=240*(1-((e.point.z+i.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(s,1,1),this._line(t,e.screen,i.screen)}},v.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},v.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},v.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++){var i=this.dataPoints[t];this._pointDrawingMethod.call(this,e,i)}},v.prototype._storeMousePosition=function(t){this.startMouseX=y(t),this.startMouseY=b(t),this._startCameraOffset=this.camera.getOffset()},v.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},r.addEventListener(document,"mousemove",e.onmousemove),r.addEventListener(document,"mouseup",e.onmouseup),r.preventDefault(t)}},v.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;var e=parseFloat(y(t))-this.startMouseX,i=parseFloat(b(t))-this.startMouseY;if(t&&!0===t.ctrlKey){var s=.5*this.frame.clientWidth,o=.5*this.frame.clientHeight,n=(this._startCameraOffset.x||0)-e/s*this.camera.armLength*.8,a=(this._startCameraOffset.y||0)+i/o*this.camera.armLength*.8;this.camera.setOffset(n,a),this._storeMousePosition(t)}else{var h=this.startArmRotation.horizontal+e/200,l=this.startArmRotation.vertical+i/200,d=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(h))<d&&(h=Math.round(h/Math.PI)*Math.PI-.001),Math.abs(Math.cos(h))<d&&(h=(Math.round(h/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(l))<d&&(l=Math.round(l/Math.PI)*Math.PI),Math.abs(Math.cos(l))<d&&(l=(Math.round(l/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(h,l)}this.redraw();var c=this.getCameraPosition();this.emit("cameraPositionChange",c),r.preventDefault(t)},v.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,r.removeEventListener(document,"mousemove",this.onmousemove),r.removeEventListener(document,"mouseup",this.onmouseup),r.preventDefault(t)},v.prototype._onClick=function(t){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var e=this.frame.getBoundingClientRect(),i=y(t)-e.left,s=b(t)-e.top,o=this._dataPointFromXY(i,s);o&&this.onclick_callback(o.point.data)}r.preventDefault(t)}},v.prototype._onTooltip=function(t){var e=this.frame.getBoundingClientRect(),i=y(t)-e.left,s=b(t)-e.top;if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){var o=this._dataPointFromXY(i,s);o!==this.tooltip.dataPoint&&(o?this._showTooltip(o):this._hideTooltip())}else{var n=this;this.tooltipTimeout=setTimeout((function(){n.tooltipTimeout=null;var t=n._dataPointFromXY(i,s);t&&n._showTooltip(t)}),300)}},v.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},r.addEventListener(document,"touchmove",e.ontouchmove),r.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},v.prototype._onTouchMove=function(t){this._onMouseMove(t)},v.prototype._onTouchEnd=function(t){this.touchDown=!1,r.removeEventListener(document,"touchmove",this.ontouchmove),r.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},v.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength()*(1-e/10);this.camera.setArmLength(i),this.redraw(),this._hideTooltip()}var s=this.getCameraPosition();this.emit("cameraPositionChange",s),r.preventDefault(t)},v.prototype._insideTriangle=function(t,e){var i=e[0],s=e[1],o=e[2];function n(t){return t>0?1:t<0?-1:0}var a=n((s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x)),r=n((o.x-s.x)*(t.y-s.y)-(o.y-s.y)*(t.x-s.x)),h=n((i.x-o.x)*(t.y-o.y)-(i.y-o.y)*(t.x-o.x));return!(0!=a&&0!=r&&a!=r||0!=r&&0!=h&&r!=h||0!=a&&0!=h&&a!=h)},v.prototype._dataPointFromXY=function(t,e){var i,s=null,o=null,n=null,a=new l(t,e);if(this.style===v.STYLE.BAR||this.style===v.STYLE.BARCOLOR||this.style===v.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){var r=(s=this.dataPoints[i]).surfaces;if(r)for(var h=r.length-1;h>=0;h--){var d=r[h].corners,c=[d[0].screen,d[1].screen,d[2].screen],u=[d[2].screen,d[3].screen,d[0].screen];if(this._insideTriangle(a,c)||this._insideTriangle(a,u))return s}}else for(i=0;i<this.dataPoints.length;i++){var p=(s=this.dataPoints[i]).screen;if(p){var m=Math.abs(t-p.x),f=Math.abs(e-p.y),g=Math.sqrt(m*m+f*f);(null===n||g<n)&&g<100&&(n=g,o=s)}}return o},v.prototype.hasBars=function(t){return t==v.STYLE.BAR||t==v.STYLE.BARCOLOR||t==v.STYLE.BARSIZE},v.prototype._showTooltip=function(t){var e,i,s;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,s=this.tooltip.dom.dot):(e=document.createElement("div"),(0,n.default)(e.style,{},this.tooltipStyle.content),e.style.position="absolute",i=document.createElement("div"),(0,n.default)(i.style,{},this.tooltipStyle.line),i.style.position="absolute",s=document.createElement("div"),(0,n.default)(s.style,{},this.tooltipStyle.dot),s.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:s}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(s);var o=e.offsetWidth,a=e.offsetHeight,r=i.offsetHeight,h=s.offsetWidth,l=s.offsetHeight,d=t.screen.x-o/2;d=Math.min(Math.max(d,10),this.frame.clientWidth-10-o),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-r+"px",e.style.left=d+"px",e.style.top=t.screen.y-r-a+"px",s.style.left=t.screen.x-h/2+"px",s.style.top=t.screen.y-l/2+"px"},v.prototype._hideTooltip=function(){if(this.tooltip)for(var t in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},v.prototype.setCameraPosition=function(t){u.setCameraPosition(t,this),this.redraw()},v.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.exports=v},function(t,e,i){i(163),t.exports=i(7).Object.assign},function(t,e,i){var s=i(17);s(s.S+s.F,"Object",{assign:i(164)})},function(t,e,i){var s=i(33),o=i(63),n=i(42),a=i(41),r=i(78),h=Object.assign;t.exports=!h||i(28)((function(){var t={},e={},i=Symbol(),s="abcdefghijklmnopqrst";return t[i]=7,s.split("").forEach((function(t){e[t]=t})),7!=h({},t)[i]||Object.keys(h({},e)).join("")!=s}))?function(t,e){for(var i=a(t),h=arguments.length,l=1,d=o.f,c=n.f;h>l;)for(var u,p=r(arguments[l++]),m=d?s(p).concat(d(p)):s(p),f=m.length,g=0;f>g;)c.call(p,u=m[g++])&&(i[u]=p[u]);return i}:h},function(t,e,i){t.exports={default:i(166),__esModule:!0}},function(t,e,i){i(167),t.exports=i(7).Math.sign},function(t,e,i){var s=i(17);s(s.S,"Math",{sign:i(168)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){t.exports={default:i(170),__esModule:!0}},function(t,e,i){i(171);var s=i(7).Object;t.exports=function(t,e,i){return s.defineProperty(t,e,i)}},function(t,e,i){var s=i(17);s(s.S+s.F*!i(21),"Object",{defineProperty:i(20).f})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s="string",o="boolean",n="number",a={fill:{string:s},stroke:{string:s},strokeWidth:{number:n},__type__:{string:s,object:"object",undefined:"undefined"}},r={animationAutoStart:{boolean:o,undefined:"undefined"},animationInterval:{number:n},animationPreload:{boolean:o},axisColor:{string:s},backgroundColor:a,xBarWidth:{number:n,undefined:"undefined"},yBarWidth:{number:n,undefined:"undefined"},cameraPosition:{distance:{number:n},horizontal:{number:n},vertical:{number:n},__type__:{object:"object"}},xCenter:{string:s},yCenter:{string:s},dataColor:a,dotSizeMinFraction:{number:n},dotSizeMaxFraction:{number:n},dotSizeRatio:{number:n},filterLabel:{string:s},gridColor:{string:s},onclick:{function:"function"},keepAspectRatio:{boolean:o},xLabel:{string:s},yLabel:{string:s},zLabel:{string:s},legendLabel:{string:s},xMin:{number:n,undefined:"undefined"},yMin:{number:n,undefined:"undefined"},zMin:{number:n,undefined:"undefined"},xMax:{number:n,undefined:"undefined"},yMax:{number:n,undefined:"undefined"},zMax:{number:n,undefined:"undefined"},showAnimationControls:{boolean:o,undefined:"undefined"},showGrid:{boolean:o},showLegend:{boolean:o,undefined:"undefined"},showPerspective:{boolean:o},showShadow:{boolean:o},showXAxis:{boolean:o},showYAxis:{boolean:o},showZAxis:{boolean:o},xStep:{number:n,undefined:"undefined"},yStep:{number:n,undefined:"undefined"},zStep:{number:n,undefined:"undefined"},style:{number:n,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:o,function:"function"},tooltipStyle:{content:{color:{string:s},background:{string:s},border:{string:s},borderRadius:{string:s},boxShadow:{string:s},padding:{string:s},__type__:{object:"object"}},line:{borderLeft:{string:s},height:{string:s},width:{string:s},__type__:{object:"object"}},dot:{border:{string:s},borderRadius:{string:s},height:{string:s},width:{string:s},__type__:{object:"object"}},__type__:{object:"object"}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:n,undefined:"undefined"},valueMin:{number:n,undefined:"undefined"},verticalRatio:{number:n},height:{string:s},width:{string:s},__type__:{object:"object"}};e.allOptions=r},function(t,e,i){var s=i(11),o=i(12),n=i(174),a=i(96),r=i(94),h=i(34);function l(){this.dataTable=null}l.prototype.initializeData=function(t,e,i){if(void 0!==e){var n;if(Array.isArray(e)&&(e=new s(e)),!(e instanceof s||e instanceof o))throw new Error("Array, DataSet, or DataView expected");if(0!=(n=e.get()).length){this.style=i,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=e,this.dataTable=n;var r=this;this._onChange=function(){t.setData(r.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var h=t.hasBars(i);if(h&&(void 0!==t.defaultXBarWidth?this.xBarWidth=t.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(n,this.colX)||1,void 0!==t.defaultYBarWidth?this.yBarWidth=t.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(n,this.colY)||1),this._initializeRange(n,this.colX,t,h),this._initializeRange(n,this.colY,t,h),this._initializeRange(n,this.colZ,t,!1),n[0].hasOwnProperty("style")){this.colValue="style";var l=this.getColumnRange(n,this.colValue);this._setRangeDefaults(l,t.defaultValueMin,t.defaultValueMax),this.valueRange=l}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new a(this,"filter",t),this.dataFilter.setOnLoadCallback((function(){t.redraw()}))),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},l.prototype._collectRangeSettings=function(t,e){if(-1==["x","y","z"].indexOf(t))throw new Error("Column '"+t+"' invalid");var i=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+i+"Min"],max:e["default"+i+"Max"],step:e["default"+i+"Step"],range_label:t+"Range",step_label:t+"Step"}},l.prototype._initializeRange=function(t,e,i,s){var o=this._collectRangeSettings(e,i),n=this.getColumnRange(t,e);s&&"z"!=e&&n.expand(o.barWidth/2),this._setRangeDefaults(n,o.min,o.max),this[o.range_label]=n,this[o.step_label]=void 0!==o.step?o.step:n.range()/5},l.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);for(var i=[],s=0;s<e.length;s++){var o=e[s][t]||0;-1===i.indexOf(o)&&i.push(o)}return i.sort((function(t,e){return t-e}))},l.prototype.getSmallestDifference=function(t,e){for(var i=this.getDistinctValues(t,e),s=null,o=1;o<i.length;o++){var n=i[o]-i[o-1];(null==s||s>n)&&(s=n)}return s},l.prototype.getColumnRange=function(t,e){for(var i=new n,s=0;s<t.length;s++){var o=t[s][e];i.adjust(o)}return i},l.prototype.getNumberOfRows=function(){return this.dataTable.length},l.prototype._setRangeDefaults=function(t,e,i){void 0!==e&&(t.min=e),void 0!==i&&(t.max=i),t.max<=t.min&&(t.max=t.min+1)},l.prototype.getDataTable=function(){return this.dataTable},l.prototype.getDataSet=function(){return this.dataSet},l.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var s=new h;s.x=t[i][this.colX]||0,s.y=t[i][this.colY]||0,s.z=t[i][this.colZ]||0,s.data=t[i],void 0!==this.colValue&&(s.value=t[i][this.colValue]||0);var o={};o.point=s,o.bottom=new h(s.x,s.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},l.prototype.initDataAsMatrix=function(t){var e,i,s,o,n=this.getDistinctValues(this.colX,t),a=this.getDistinctValues(this.colY,t),r=this.getDataPoints(t),h=[];for(s=0;s<r.length;s++){o=r[s];var l=n.indexOf(o.point.x),d=a.indexOf(o.point.y);void 0===h[l]&&(h[l]=[]),h[l][d]=o}for(e=0;e<h.length;e++)for(i=0;i<h[e].length;i++)h[e][i]&&(h[e][i].pointRight=e<h.length-1?h[e+1][i]:void 0,h[e][i].pointTop=i<h[e].length-1?h[e][i+1]:void 0,h[e][i].pointCross=e<h.length-1&&i<h[e].length-1?h[e+1][i+1]:void 0);return r},l.prototype.getInfo=function(){var t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},l.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},l.prototype._getDataPoints=function(t){var e=[];if(this.style===r.STYLE.GRID||this.style===r.STYLE.SURFACE)e=this.initDataAsMatrix(t);else if(this._checkValueField(t),e=this.getDataPoints(t),this.style===r.STYLE.LINE)for(var i=0;i<e.length;i++)i>0&&(e[i-1].pointNext=e[i]);return e},l.prototype._checkValueField=function(t){if(this.style===r.STYLE.BARCOLOR||this.style===r.STYLE.BARSIZE||this.style===r.STYLE.DOTCOLOR||this.style===r.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},t.exports=l},function(t,e,i){function s(){this.min=void 0,this.max=void 0}s.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},s.prototype.combine=function(t){this.add(t.min),this.add(t.max)},s.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,i=this.max+t;if(e>i)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=i}},s.prototype.range=function(){return this.max-this.min},s.prototype.center=function(){return(this.min+this.max)/2},t.exports=s},function(t,e,i){var s,o,n;o=[],void 0===(n="function"==typeof(s=function(){var t=null;return function e(i,s){var o=s||{preventDefault:!1};if(i.Manager){var n=i,a=function(t,i){var s=Object.create(o);return i&&n.assign(s,i),e(new n(t,s),s)};return n.assign(a,n),a.Manager=function(t,i){var s=Object.create(o);return i&&n.assign(s,i),e(new n.Manager(t,s),s)},a}var r=Object.create(i),h=i.element;function l(t){return t.match(/[^ ]+/g)}function d(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0};var s=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof s&&(e.srcEvent.stopPropagation=function(){s(),e.stopPropagation()}),e.firstTarget=t;for(var o=t;o&&!i;){var n=o.hammer;if(n)for(var a,r=0;r<n.length;r++)if(a=n[r]._handlers[e.type])for(var h=0;h<a.length&&!i;h++)a[h](e);o=o.parentNode}}return h.hammer||(h.hammer=[]),h.hammer.push(r),i.on("hammer.input",(function(e){!0!==o.preventDefault&&o.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)})),r._handlers={},r.on=function(t,e){return l(t).forEach((function(t){var s=r._handlers[t];s||(r._handlers[t]=s=[],i.on(t,d)),s.push(e)})),r},r.off=function(t,e){return l(t).forEach((function(t){var s=r._handlers[t];s&&((s=e?s.filter((function(t){return t!==e})):[]).length>0?r._handlers[t]=s:(i.off(t,d),delete r._handlers[t]))})),r},r.emit=function(e,s){t=s.target,i.emit(e,s)},r.destroy=function(){var t=i.element.hammer,e=t.indexOf(r);-1!==e&&t.splice(e,1),t.length||delete i.element.hammer,r._handlers={},i.destroy()},r}})?s.apply(e,o):s)||(t.exports=n)},function(t,e,i){var s;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(o,n,a,r){var h,l=["","webkit","Moz","MS","ms","o"],d=n.createElement("div"),c=Math.round,u=Math.abs,p=Date.now;function m(t,e,i){return setTimeout(w(t,i),e)}function f(t,e,i){return!!Array.isArray(t)&&(g(t,i[e],i),!0)}function g(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function v(t,e,i){var s="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=o.console&&(o.console.warn||o.console.log);return n&&n.call(o.console,s,i),t.apply(this,arguments)}}h="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var o in s)s.hasOwnProperty(o)&&(e[o]=s[o])}return e}:Object.assign;var y=v((function(t,e,i){for(var s=Object.keys(e),o=0;o<s.length;)(!i||i&&void 0===t[s[o]])&&(t[s[o]]=e[s[o]]),o++;return t}),"extend","Use `assign`."),b=v((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function x(t,e,i){var s,o=e.prototype;(s=t.prototype=Object.create(o)).constructor=t,s._super=o,i&&h(s,i)}function w(t,e){return function(){return t.apply(e,arguments)}}function _(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function k(t,e){return void 0===t?e:t}function M(t,e,i){g(P(e),(function(e){t.addEventListener(e,i,!1)}))}function T(t,e,i){g(P(e),(function(e){t.removeEventListener(e,i,!1)}))}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return t.indexOf(e)>-1}function P(t){return t.trim().split(/\s+/g)}function D(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var s=0;s<t.length;){if(i&&t[s][i]==e||!i&&t[s]===e)return s;s++}return-1}function A(t){return Array.prototype.slice.call(t,0)}function I(t,e,i){for(var s=[],o=[],n=0;n<t.length;){var a=e?t[n][e]:t[n];D(o,a)<0&&s.push(t[n]),o[n]=a,n++}return i&&(s=e?s.sort((function(t,i){return t[e]>i[e]})):s.sort()),s}function O(t,e){for(var i,s,o=e[0].toUpperCase()+e.slice(1),n=0;n<l.length;){if((s=(i=l[n])?i+o:e)in t)return s;n++}}var B=1;function F(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var E="ontouchstart"in o,L=void 0!==O(o,"PointerEvent"),z=E&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),W=["x","y"],N=["clientX","clientY"];function V(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){_(t.options.enable,[t])&&i.handler(e)},this.init()}function R(t,e,i){var s=i.pointers.length,o=i.changedPointers.length,n=1&e&&s-o==0,a=12&e&&s-o==0;i.isFirst=!!n,i.isFinal=!!a,n&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,s=e.pointers,o=s.length;i.firstInput||(i.firstInput=Y(e)),o>1&&!i.firstMultiple?i.firstMultiple=Y(e):1===o&&(i.firstMultiple=!1);var n=i.firstInput,a=i.firstMultiple,r=a?a.center:n.center,h=e.center=H(s);e.timeStamp=p(),e.deltaTime=e.timeStamp-n.timeStamp,e.angle=U(r,h),e.distance=G(r,h),function(t,e){var i=e.center,s=t.offsetDelta||{},o=t.prevDelta||{},n=t.prevInput||{};1!==e.eventType&&4!==n.eventType||(o=t.prevDelta={x:n.deltaX||0,y:n.deltaY||0},s=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-s.x),e.deltaY=o.y+(i.y-s.y)}(i,e),e.offsetDirection=X(e.deltaX,e.deltaY);var l,d,c=j(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=u(c.x)>u(c.y)?c.x:c.y,e.scale=a?(l=a.pointers,G((d=s)[0],d[1],N)/G(l[0],l[1],N)):1,e.rotation=a?function(t,e){return U(e[1],e[0],N)+U(t[1],t[0],N)}(a.pointers,s):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,s,o,n,a=t.lastInterval||e,r=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(r>25||void 0===a.velocity)){var h=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,d=j(r,h,l);s=d.x,o=d.y,i=u(d.x)>u(d.y)?d.x:d.y,n=X(h,l),t.lastInterval=e}else i=a.velocity,s=a.velocityX,o=a.velocityY,n=a.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=n}(i,e);var m=t.element;C(e.srcEvent.target,m)&&(m=e.srcEvent.target),e.target=m}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Y(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:c(t.pointers[i].clientX),clientY:c(t.pointers[i].clientY)},i++;return{timeStamp:p(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:c(t[0].clientX),y:c(t[0].clientY)};for(var i=0,s=0,o=0;o<e;)i+=t[o].clientX,s+=t[o].clientY,o++;return{x:c(i/e),y:c(s/e)}}function j(t,e,i){return{x:e/t||0,y:i/t||0}}function X(t,e){return t===e?1:u(t)>=u(e)?t<0?2:4:e<0?8:16}function G(t,e,i){i||(i=W);var s=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(s*s+o*o)}function U(t,e,i){i||(i=W);var s=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,s)/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(F(this.element),this.evWin,this.domHandler)}};var q={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,V.apply(this,arguments)}x(K,V,{handler:function(t){var e=q[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Z={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:"touch",3:"pen",4:"mouse",5:"kinect"},Q="pointerdown",$="pointermove pointerup pointercancel";function tt(){this.evEl=Q,this.evWin=$,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(Q="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),x(tt,V,{handler:function(t){var e=this.store,i=!1,s=t.type.toLowerCase().replace("ms",""),o=Z[s],n=J[t.pointerType]||t.pointerType,a="touch"==n,r=D(e,t.pointerId,"pointerId");1&o&&(0===t.button||a)?r<0&&(e.push(t),r=e.length-1):12&o&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:n,srcEvent:t}),i&&e.splice(r,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function it(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,V.apply(this,arguments)}function st(t,e){var i=A(t.touches),s=A(t.changedTouches);return 12&e&&(i=I(i.concat(s),"identifier",!0)),[i,s]}x(it,V,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var i=st.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var ot={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},V.apply(this,arguments)}function at(t,e){var i=A(t.touches),s=this.targetIds;if(3&e&&1===i.length)return s[i[0].identifier]=!0,[i,i];var o,n,a=A(t.changedTouches),r=[],h=this.target;if(n=i.filter((function(t){return C(t.target,h)})),1===e)for(o=0;o<n.length;)s[n[o].identifier]=!0,o++;for(o=0;o<a.length;)s[a[o].identifier]&&r.push(a[o]),12&e&&delete s[a[o].identifier],o++;return r.length?[I(n.concat(r),"identifier",!0),r]:void 0}function rt(){V.apply(this,arguments);var t=w(this.handler,this);this.touch=new nt(this.manager,t),this.mouse=new K(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ht(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var s=this.lastTouches;setTimeout((function(){var t=s.indexOf(i);t>-1&&s.splice(t,1)}),2500)}}function dt(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var o=this.lastTouches[s],n=Math.abs(e-o.x),a=Math.abs(i-o.y);if(n<=25&&a<=25)return!0}return!1}x(nt,V,{handler:function(t){var e=ot[t.type],i=at.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}),x(rt,V,{handler:function(t,e,i){var s="touch"==i.pointerType,o="mouse"==i.pointerType;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(s)ht.call(this,e,i);else if(o&&dt.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ct=O(d.style,"touchAction"),ut=void 0!==ct,pt=function(){if(!ut)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){t[i]=!e||o.CSS.supports("touch-action",i)})),t}();function mt(t,e){this.manager=t,this.set(e)}function ft(t){this.options=h({},this.defaults,t||{}),this.id=B++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var i=e.manager;return i?i.get(t):t}function bt(){ft.apply(this,arguments)}function xt(){bt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){bt.apply(this,arguments)}function _t(){ft.apply(this,arguments),this._timer=null,this._input=null}function kt(){bt.apply(this,arguments)}function Mt(){bt.apply(this,arguments)}function Tt(){ft.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ct(t,e){return(e=e||{}).recognizers=k(e.recognizers,Ct.defaults.preset),new St(t,e)}function St(t,e){var i;this.options=h({},Ct.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(L?tt:z?nt:E?rt:K))(i,R),this.touchAction=new mt(this,this.options.touchAction),Pt(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Pt(t,e){var i,s=t.element;s.style&&(g(t.options.cssProps,(function(o,n){i=O(s.style,n),e?(t.oldCssProps[i]=s.style[i],s.style[i]=o):s.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}mt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ut&&this.manager.element.style&&pt[t]&&(this.manager.element.style[ct]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){_(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(S(t,"none"))return"none";var e=S(t,"pan-x"),i=S(t,"pan-y");return e&&i?"none":e||i?e?"pan-x":"pan-y":S(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var s=this.actions,o=S(s,"none")&&!pt.none,n=S(s,"pan-y")&&!pt["pan-y"],a=S(s,"pan-x")&&!pt["pan-x"];if(o){var r=1===t.pointers.length,h=t.distance<2,l=t.deltaTime<250;if(r&&h&&l)return}if(!a||!n)return o||n&&6&i||a&&24&i?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},ft.prototype={defaults:{},set:function(t){return h(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(f(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return f(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(f(t,"requireFailure",this))return this;var e=this.requireFail;return-1===D(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(f(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=D(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function s(i){e.manager.emit(i,t)}i<8&&s(e.options.event+gt(i)),s(e.options.event),t.additionalEvent&&s(t.additionalEvent),i>=8&&s(e.options.event+gt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=h({},t);if(!_(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},x(bt,ft,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,s=6&e,o=this.attrTest(t);return s&&(8&i||!o)?16|e:s||o?4&i?8|e:2&e?4|e:2:32}}),x(xt,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,i=!0,s=t.distance,o=t.direction,n=t.deltaX,a=t.deltaY;return o&e.direction||(6&e.direction?(o=0===n?1:n<0?2:4,i=n!=this.pX,s=Math.abs(t.deltaX)):(o=0===a?1:a<0?8:16,i=a!=this.pY,s=Math.abs(t.deltaY))),t.direction=o,i&&s>e.threshold&&o&e.direction},attrTest:function(t){return bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),x(wt,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),x(_t,ft,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!s||!i||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=m((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),x(kt,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),x(Mt,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return xt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return 30&i?e=t.overallVelocity:6&i?e=t.overallVelocityX:24&i&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&u(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),x(Tt,ft,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(s&&o&&i){if(4!=t.eventType)return this.failTimeout();var n=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||G(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&n?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ct.VERSION="2.0.7",Ct.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[kt,{enable:!1}],[wt,{enable:!1},["rotate"]],[Mt,{direction:6}],[xt,{direction:6},["swipe"]],[Tt],[Tt,{event:"doubletap",taps:2},["tap"]],[_t]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},St.prototype={set:function(t){return h(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var s=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(o=e.curRecognizer=null);for(var n=0;n<s.length;)i=s[n],2===e.stopped||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&14&i.state&&(o=e.curRecognizer=i),n++}},get:function(t){if(t instanceof ft)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(f(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(f(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=D(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var i=this.handlers;return g(P(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var i=this.handlers;return g(P(t),(function(t){e?i[t]&&i[t].splice(D(i[t],e),1):delete i[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=n.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](e),s++}},destroy:function(){this.element&&Pt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(Ct,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:St,Input:V,TouchAction:mt,TouchInput:nt,MouseInput:K,PointerEventInput:tt,TouchMouseInput:rt,SingleTouchInput:it,Recognizer:ft,AttrRecognizer:bt,Tap:Tt,Pan:xt,Swipe:Mt,Pinch:wt,Rotate:kt,Press:_t,on:M,off:T,each:g,merge:b,extend:y,assign:h,inherit:x,bindFn:w,prefixed:O}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=Ct,void 0===(s=function(){return Ct}.call(e,i,e,t))||(t.exports=s)}(window,document)},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Timeline=i(178),e.Graph2d=i(180),e.timeline={Core:i(65),DateUtil:i(36),Range:i(64),stack:i(100),TimeStep:i(66),components:{items:{Item:i(38),BackgroundItem:i(103),BoxItem:i(101),PointItem:i(102),RangeItem:i(70)},BackgroundGroup:i(69),Component:i(16),CurrentTime:i(67),CustomTime:i(46),DataAxis:i(107),DataScale:i(108),GraphGroup:i(109),Group:i(68),ItemSet:i(99),Legend:i(112),LineGraph:i(106),TimeAxis:i(45)}},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){var s=i(9),o=i(2),n=i(11),a=i(12),r=i(64),h=i(65),l=i(45),d=i(67),c=i(46),u=i(99),p=i(15).printStyle,m=i(105).allOptions,f=i(105).configureOptions,g=i(71).default,v=i(15).default;function y(t,e,i,h){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof n||i instanceof a)&&i instanceof Object){var c=h;h=i,i=c}h&&h.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:s,width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),!h||h&&void 0===h.rtl){this.dom.root.style.visibility="hidden";for(var m,f=this.dom.root;!m&&f;)m=window.getComputedStyle(f,null).direction,f=f.parentElement;this.options.rtl=m&&"rtl"==m.toLowerCase()}else this.options.rtl=h.rtl;this.options.rollingMode=h&&h.rollingMode,this.options.onInitialDrawComplete=h&&h.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return p.timeAxis.step.scale},getStep:function(){return p.timeAxis.step.step},toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}},this.range=new r(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new l(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new d(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new u(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){p.emit("click",p.getEventProperties(t))},this.dom.root.ondblclick=function(t){p.emit("doubleClick",p.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){p.emit("contextmenu",p.getEventProperties(t))},this.dom.root.onmouseover=function(t){p.emit("mouseOver",p.getEventProperties(t))},window.PointerEvent?(this.dom.root.onpointerdown=function(t){p.emit("mouseDown",p.getEventProperties(t))},this.dom.root.onpointermove=function(t){p.emit("mouseMove",p.getEventProperties(t))},this.dom.root.onpointerup=function(t){p.emit("mouseUp",p.getEventProperties(t))}):(this.dom.root.onmousemove=function(t){p.emit("mouseMove",p.getEventProperties(t))},this.dom.root.onmousedown=function(t){p.emit("mouseDown",p.getEventProperties(t))},this.dom.root.onmouseup=function(t){p.emit("mouseUp",p.getEventProperties(t))}),this.initialFitDone=!1,this.on("changed",(function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!p.initialFitDone)if(p.initialFitDone=!0,null!=p.options.start||null!=p.options.end){if(null==p.options.start||null==p.options.end)var t=p.getItemRange();var e=null!=p.options.start?p.options.start:t.min,i=null!=p.options.end?p.options.end:t.max;p.setWindow(e,i,{animation:!1})}else p.fit({animation:!1});!p.initialDrawDone&&p.initialRangeChangeDone&&(p.initialDrawDone=!0,p.dom.root.style.visibility="visible",p.options.onInitialDrawComplete&&setTimeout((function(){return p.options.onInitialDrawComplete()}),0))}})),h&&this.setOptions(h),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}function b(t){return o.convert(t.data.start,"Date").valueOf()}function x(t){var e=null!=t.data.end?t.data.end:t.data.start;return o.convert(e,"Date").valueOf()}function w(t,e){var i=t.props.leftContainer.height,s=t.props.left.height,o=e.parent,n=o.top,a=!0,r=t.timeAxis.options.orientation.axis,h=function(){return"bottom"==r?o.height-e.top-e.height:e.top},l=-1*t._getScrollTop(),d=n+h(),c=e.height;return d<l?n+i<=n+h()+c&&(n+=h()-t.itemSet.options.margin.item.vertical):d+c>l+i?n+=h()+c-i+t.itemSet.options.margin.item.vertical:a=!1,{shouldScroll:a,scrollOffset:n=Math.min(n,s-i),itemTop:d}}y.prototype=new h,y.prototype._createConfigurator=function(){return new g(this,this.dom.container,f)},y.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},y.prototype.setOptions=function(t){if(!0===v.validate(t,m)&&console.log("%cErrors have been found in the supplied options object.",p),h.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var e=this.itemsData;if(e){var i=this.getSelection();this.setItems(null),this.setItems(e),this.setSelection(i)}}},y.prototype.setItems=function(t){var e;e=t?t instanceof n||t instanceof a?t:new n(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},y.prototype.setGroups=function(t){var e;if(t){var i=function(t){return!1!==t.visible};e=t instanceof n||t instanceof a?new a(t,{filter:i}):new n(t.filter(i))}else e=null;this.groupsData=e,this.itemSet.setGroups(e)},y.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},y.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},y.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},y.prototype.focus=function(t,e){if(this.itemsData&&null!=t){var i=Array.isArray(t)?t:[t],s=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),o=null,n=null;if(s.forEach((function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===o||e<o)&&(o=e),(null===n||i>n)&&(n=i)})),null!==o&&null!==n){var a=this,r=this.itemSet.items[i[0]],h=-1*this._getScrollTop(),l=null,d=function(){var t=w(a,r);t.shouldScroll&&t.itemTop!=l.itemTop&&(a._setScrollTop(-t.scrollOffset),a._redraw())},c=(o+n)/2,u=Math.max(this.range.end-this.range.start,1.1*(n-o)),p=!e||void 0===e.animation||e.animation;p||(l={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(c-u/2,c+u/2,{animation:p},(function(){d(),setTimeout(d,100)}),(function(t,e,i){var s=w(a,r);if(l||(l=s),l.itemTop!=s.itemTop||l.shouldScroll){l.itemTop!=s.itemTop&&s.shouldScroll&&(l=s,h=-1*a._getScrollTop());var o=h,n=l.scrollOffset,d=i?n:o+(n-o)*t;a._setScrollTop(-d),e||a._redraw()}}))}}},y.prototype.fit=function(t,e){var i,s=!t||void 0===t.animation||t.animation,o=this.itemsData&&this.itemsData.getDataSet();1===o.length&&void 0===o.get()[0].end?(i=this.getDataRange(),this.moveTo(i.min.valueOf(),{animation:s},e)):(i=this.getItemRange(),this.range.setRange(i.min,i.max,{animation:s},e))},y.prototype.getItemRange=function(){var t=this.getDataRange(),e=null!==t.min?t.min.valueOf():null,i=null!==t.max?t.max.valueOf():null,s=null,n=null;if(null!=e&&null!=i){var a=i-e;a<=0&&(a=10);var r=a/this.props.center.width,h={},l=0;if(o.forEach(this.itemSet.items,(function(t,e){t.groupShowing&&(h[e]=t.redraw(!0),l=h[e].length)})),l>0)for(var d=0;d<l;d++)o.forEach(h,(function(t){t[d]()}));if(o.forEach(this.itemSet.items,function(t){var o,a,h=b(t),l=x(t);this.options.rtl?(o=h-(t.getWidthRight()+10)*r,a=l+(t.getWidthLeft()+10)*r):(o=h-(t.getWidthLeft()+10)*r,a=l+(t.getWidthRight()+10)*r),o<e&&(e=o,s=t),a>i&&(i=a,n=t)}.bind(this)),s&&n){var c=s.getWidthLeft()+10,u=n.getWidthRight()+10,p=this.props.center.width-c-u;p>0&&(this.options.rtl?(e=b(s)-u*a/p,i=x(n)+c*a/p):(e=b(s)-c*a/p,i=x(n)+u*a/p))}}return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},y.prototype.getDataRange=function(){var t=null,e=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach((function(i){var s=o.convert(i.start,"Date").valueOf(),n=o.convert(null!=i.end?i.end:i.start,"Date").valueOf();(null===t||s<t)&&(t=s),(null===e||n>e)&&(e=n)})),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},y.prototype.getEventProperties=function(t){var e,i=t.center?t.center.x:t.clientX,s=t.center?t.center.y:t.clientY;e=this.options.rtl?o.getAbsoluteRight(this.dom.centerContainer)-i:i-o.getAbsoluteLeft(this.dom.centerContainer);var n=s-o.getAbsoluteTop(this.dom.centerContainer),a=this.itemSet.itemFromTarget(t),r=this.itemSet.groupFromTarget(t),h=c.customTimeFromTarget(t),l=this.itemSet.options.snap||null,d=this.body.util.getScale(),u=this.body.util.getStep(),p=this._toTime(e),m=l?l(p,d,u):p,f=o.getTarget(t),g=null;return null!=a?g="item":null!=h?g="custom-time":o.hasParent(f,this.timeAxis.dom.foreground)||this.timeAxis2&&o.hasParent(f,this.timeAxis2.dom.foreground)?g="axis":o.hasParent(f,this.itemSet.dom.labelSet)?g="group-label":o.hasParent(f,this.currentTime.bar)?g="current-time":o.hasParent(f,this.dom.center)&&(g="background"),{event:t,item:a?a.id:null,group:r?r.groupId:null,what:g,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:e,y:n,time:p,snappedTime:m}},y.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=y},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=a(i(19)),o=a(i(0)),n=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var r=i(10),h=i(37),l=i(2),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,o.default)(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,n.default)(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i=void 0,o=this._isColorString(t);if(void 0!==o&&(t=o),!0===l.isString(t)){if(!0===l.isValidRGB(t)){var n=t.substr(4).substr(0,t.length-5).split(",");i={r:n[0],g:n[1],b:n[2],a:1}}else if(!0===l.isValidRGBA(t)){var a=t.substr(5).substr(0,t.length-6).split(",");i={r:a[0],g:a[1],b:a[2],a:a[3]}}else if(!0===l.isValidHex(t)){var r=l.hexToRGB(t);i={r:r.r,g:r.g,b:r.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var h=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:h}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,s.default)(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e&&(this.previousColor=l.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===e&&(this.initialColor=l.extend({},t)),this.color=t;var i=l.RGBToHSV(t.r,t.g,t.b),s=2*Math.PI,o=this.r*i.s,n=this.centerCoordinates.x+o*Math.sin(s*i.h),a=this.centerCoordinates.y+o*Math.cos(s*i.h);this.colorPickerSelector.style.left=n-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=l.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=l.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=l.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,s,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new r(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),h.onTouch(this.hammer,(function(e){t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,i);var s=void 0,o=void 0,n=void 0,a=void 0;this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;var r=2*Math.PI/360,h=1/this.r,d=void 0;for(n=0;n<360;n++)for(a=0;a<this.r;a++)s=this.centerCoordinates.x+a*Math.sin(r*n),o=this.centerCoordinates.y+a*Math.cos(r*n),d=l.HSVToRGB(n*(1/360),a*h,1),t.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",t.fillRect(s-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,s=t.center.y-e.top,o=.5*this.colorPickerDiv.clientHeight,n=.5*this.colorPickerDiv.clientWidth,a=i-n,r=s-o,h=Math.atan2(a,r),d=.98*Math.min(Math.sqrt(a*a+r*r),n),c=Math.cos(h)*d+o,u=Math.sin(h)*d+n;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=u-.5*this.colorPickerSelector.clientWidth+"px";var p=h/(2*Math.PI);p=p<0?p+1:p;var m=d/this.r,f=l.RGBToHSV(this.color.r,this.color.g,this.color.b);f.h=p,f.s=m;var g=l.HSVToRGB(f.h,f.s,f.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e.default=d},function(t,e,i){var s=i(9),o=i(2),n=i(11),a=i(12),r=i(64),h=i(65),l=i(45),d=i(67),c=i(46),u=i(106),p=i(15).printStyle,m=i(113).allOptions,f=i(113).configureOptions,g=i(71).default,v=i(15).default;function y(t,e,i,h){if(!(Array.isArray(i)||i instanceof n||i instanceof a)&&i instanceof Object){var c=h;h=i,i=c}h&&h.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:s,width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}},this.range=new r(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new l(this.body),this.components.push(this.timeAxis),this.currentTime=new d(this.body),this.components.push(this.currentTime),this.linegraph=new u(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",(function(t){p.emit("click",p.getEventProperties(t))})),this.on("doubletap",(function(t){p.emit("doubleClick",p.getEventProperties(t))})),this.dom.root.oncontextmenu=function(t){p.emit("contextmenu",p.getEventProperties(t))},h&&this.setOptions(h),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}y.prototype=new h,y.prototype.setOptions=function(t){!0===v.validate(t,m)&&console.log("%cErrors have been found in the supplied options object.",p),h.prototype.setOptions.call(this,t)},y.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof n||t instanceof a?t:new n(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i)if(null!=this.options.start||null!=this.options.end){var s=null!=this.options.start?this.options.start:null,o=null!=this.options.end?this.options.end:null;this.setWindow(s,o,{animation:!1})}else this.fit({animation:!1})},y.prototype.setGroups=function(t){var e;e=t?t instanceof n||t instanceof a?t:new n(t):null,this.groupsData=e,this.linegraph.setGroups(e)},y.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},y.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t])},y.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var s=0;s<this.linegraph.groups[i].itemsData.length;s++){var n=this.linegraph.groups[i].itemsData[s],a=o.convert(n.x,"Date").valueOf();t=null==t||t>a?a:t,e=null==e||e<a?a:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},y.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,s=e-o.getAbsoluteLeft(this.dom.centerContainer),n=i-o.getAbsoluteTop(this.dom.centerContainer),a=this._toTime(s),r=c.customTimeFromTarget(t),h=o.getTarget(t),l=null;o.hasParent(h,this.timeAxis.dom.foreground)||this.timeAxis2&&o.hasParent(h,this.timeAxis2.dom.foreground)?l="axis":o.hasParent(h,this.linegraph.yAxisLeft.dom.frame)||o.hasParent(h,this.linegraph.yAxisRight.dom.frame)?l="data-axis":o.hasParent(h,this.linegraph.legendLeft.dom.frame)||o.hasParent(h,this.linegraph.legendRight.dom.frame)?l="legend":null!=r?l="custom-time":o.hasParent(h,this.currentTime.bar)?l="current-time":o.hasParent(h,this.dom.center)&&(l="background");var d=[],u=this.linegraph.yAxisLeft,p=this.linegraph.yAxisRight;return!u.hidden&&this.itemsData.length>0&&d.push(u.screenToValue(n)),!p.hidden&&this.itemsData.length>0&&d.push(p.screenToValue(n)),{event:t,what:l,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:s,y:n,time:a,value:d}},y.prototype._createConfigurator=function(){return new g(this,this.dom.container,f)},t.exports=y},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Network=i(182),e.network={Images:i(116),dotparser:i(114),gephiParser:i(115),allOptions:i(122)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){i(183);var s=i(44),o=i(2),n=i(114),a=i(115),r=i(97),h=i(184),l=i(116).default,d=i(186).default,c=i(187).default,u=i(214).default,p=i(220).default,m=i(227).default,f=i(229).default,g=i(230).default,v=i(231).default,y=i(232).default,b=i(234).default,x=i(235).default,w=i(237).default,_=i(71).default,k=i(15).default,M=i(15).printStyle,T=i(122),C=T.allOptions,S=T.configureOptions,P=i(238).default;function D(t,e,i){var s=this;if(!(this instanceof D))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:h,clickToUse:!1},o.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new l((function(){return s.body.emitter.emit("_requestRedraw")})),this.groups=new d,this.canvas=new g(this.body),this.selectionHandler=new b(this.body,this.canvas),this.interactionHandler=new y(this.body,this.canvas,this.selectionHandler),this.view=new v(this.body,this.canvas),this.renderer=new f(this.body,this.canvas),this.physics=new p(this.body),this.layoutEngine=new x(this.body),this.clustering=new m(this.body),this.manipulation=new w(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new c(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new u(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new P(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}s(D.prototype),D.prototype.setOptions=function(t){var e=this;if(void 0!==t){if(!0===k.validate(t,C)&&console.log("%cErrors have been found in the supplied options object.",M),o.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new _(this,this.body.container,S,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};o.deepExtend(i.nodes,this.nodesHandler.options),o.deepExtend(i.edges,this.edgesHandler.options),o.deepExtend(i.layout,this.layoutEngine.options),o.deepExtend(i.interaction,this.selectionHandler.options),o.deepExtend(i.interaction,this.renderer.options),o.deepExtend(i.interaction,this.interactionHandler.options),o.deepExtend(i.manipulation,this.manipulation.options),o.deepExtend(i.physics,this.physics.options),o.deepExtend(i.global,this.canvas.options),o.deepExtend(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new r(this.canvas.frame),this.activator.on("change",(function(){e.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},D.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var s in e)if(e.hasOwnProperty(s)){var o=e[s],n=t[o.fromId],a=t[o.toId],r=void 0!==n&&void 0!==a;!this.clustering._isClusteredEdge(s)&&!1===o.options.hidden&&r&&!1===n.options.hidden&&!1===a.options.hidden&&this.body.edgeIndices.push(o.id)}},D.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")}))},D.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=n.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=a.parseGephi(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},D.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];o.recursiveDOMDelete(this.body.container)},D.prototype._updateValueRange=function(t){var e,i=void 0,s=void 0,o=0;for(e in t)if(t.hasOwnProperty(e)){var n=t[e].getValue();void 0!==n&&(i=void 0===i?n:Math.min(n,i),s=void 0===s?n:Math.max(n,s),o+=n)}if(void 0!==i&&void 0!==s)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,s,o)},D.prototype.isActive=function(){return!this.activator||this.activator.active},D.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},D.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},D.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},D.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},D.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},D.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},D.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},D.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},D.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},D.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},D.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},D.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},D.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},D.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},D.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},D.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},D.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},D.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},D.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},D.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},D.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},D.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},D.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},D.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},D.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},D.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},D.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},D.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},D.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},D.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},D.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},D.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},D.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},D.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},D.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},D.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},D.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},D.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},D.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},D.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},D.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},D.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},D.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},D.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},D.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},D.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=D},function(t,e,i){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),e+=.275*(i*=1.15);var s=2*i,o=s/2,n=Math.sqrt(3)/6*s,a=Math.sqrt(s*s-o*o);this.moveTo(t,e-(a-n)),this.lineTo(t+o,e+n),this.lineTo(t-o,e+n),this.lineTo(t,e-(a-n)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),e-=.275*(i*=1.15);var s=2*i,o=s/2,n=Math.sqrt(3)/6*s,a=Math.sqrt(s*s-o*o);this.moveTo(t,e+(a-n)),this.lineTo(t+o,e-n),this.lineTo(t-o,e-n),this.lineTo(t,e+(a-n)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),e+=.1*(i*=.82);for(var s=0;s<10;s++){var o=s%2==0?1.3*i:.5*i;this.lineTo(t+o*Math.sin(2*s*Math.PI/10),e-o*Math.cos(2*s*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,s,o){var n=Math.PI/180;i-2*o<0&&(o=i/2),s-2*o<0&&(o=s/2),this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,270*n,360*n,!1),this.lineTo(t+i,e+s-o),this.arc(t+i-o,e+s-o,o,0,90*n,!1),this.lineTo(t+o,e+s),this.arc(t+o,e+s-o,o,90*n,180*n,!1),this.lineTo(t,e+o),this.arc(t+o,e+o,o,180*n,270*n,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,i,s){var o=i/2*.5522848,n=s/2*.5522848,a=t+i,r=e+s,h=t+i/2,l=e+s/2;this.beginPath(),this.moveTo(t,l),this.bezierCurveTo(t,l-n,h-o,e,h,e),this.bezierCurveTo(h+o,e,a,l-n,a,l),this.bezierCurveTo(a,l+n,h+o,r,h,r),this.bezierCurveTo(h-o,r,t,l+n,t,l),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,s){var o=s*(1/3),n=i/2*.5522848,a=o/2*.5522848,r=t+i,h=e+o,l=t+i/2,d=e+o/2,c=e+(s-o/2),u=e+s;this.beginPath(),this.moveTo(r,d),this.bezierCurveTo(r,d+a,l+n,h,l,h),this.bezierCurveTo(l-n,h,t,d+a,t,d),this.bezierCurveTo(t,d-a,l-n,e,l,e),this.bezierCurveTo(l+n,e,r,d-a,r,d),this.lineTo(r,c),this.bezierCurveTo(r,c+a,l+n,u,l,u),this.bezierCurveTo(l-n,u,t,c+a,t,c),this.lineTo(t,d)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,s,o){this.beginPath(),this.moveTo(t,e);for(var n=o.length,a=i-t,r=s-e,h=r/a,l=Math.sqrt(a*a+r*r),d=0,c=!0,u=0,p=o[0];l>=.1;)(p=o[d++%n])>l&&(p=l),u=Math.sqrt(p*p/(1+h*h)),t+=u=a<0?-u:u,e+=h*u,!0===c?this.lineTo(t,e):this.moveTo(t,e),l-=p,c=!c},CanvasRenderingContext2D.prototype.hexagon=function(t,e,i){this.beginPath();var s=2*Math.PI/6;this.moveTo(t+i,e);for(var o=1;o<6;o++)this.lineTo(t+i*Math.cos(s*o),e+i*Math.sin(s*o));this.closePath()})},function(t,e,i){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"Lsche Auswahl",back:"Zurck",addNode:"Knoten hinzufgen",addEdge:"Kante hinzufgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster knnen nicht gelscht werden.",editClusterError:"Cluster knnen nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar seleccin",back:"tras",addNode:"Aadir nodo",addEdge:"Aadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n",addEdge:"Adicionar aresta",editNode:"Editar n",editEdge:"Editar aresta",addDescription:"Clique em um espao em branco para adicionar um novo n",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",createEdgeError:"No foi possvel linkar arestas a um cluster.",deleteClusterError:"Clusters no puderam ser removidos.",editClusterError:"Clusters no puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"",del:" ",back:"",addNode:" ",addEdge:" ",editNode:" ",editEdge:" ",addDescription:"   ,    .",edgeDescription:"        ,   .",editEdgeDescription:"        ,    .",createEdgeError:"    .",deleteClusterError:"    ",editClusterError:"   ."},e.ru_RU=e.ru,e.cn={edit:"",del:"",back:"",addNode:"",addEdge:"",editNode:"",editEdge:"",addDescription:"",edgeDescription:"",editEdgeDescription:"",createEdgeError:"",deleteClusterError:"",editClusterError:""},e.zh_CN=e.cn},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(){(0,s.default)(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,o.default)(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),s=Math.floor(e/4),o=Math.floor(e/8),n=Math.floor(e/16),a=Math.floor(t/2),r=Math.floor(t/4),h=Math.floor(t/8),l=Math.floor(t/16);this.canvas.width=3*r,this.canvas.height=i,this.coordinates=[[0,0,a,i],[a,0,r,s],[a,s,h,o],[5*h,s,l,n]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var s=this.coordinates[i-1],o=this.coordinates[i];t.drawImage(this.canvas,s[0],s[1],s[2],s[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,s,o,n){if(this.initialized())if(e>2){e*=.5;for(var a=0;e>2&&a<this.NUM_ITERATIONS;)e*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var r=this.coordinates[a];t.drawImage(this.canvas,r[0],r[1],r[2],r[3],i,s,o,n)}else t.drawImage(this.image,i,s,o,n)}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(2),r=function(){function t(){(0,s.default)(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},a.extend(this.options,this.defaultOptions)}return(0,o.default)(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(t.hasOwnProperty(i)&&-1===e.indexOf(i)){var s=t[i];this.add(i,s)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.groups[t];if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var s=this.groupIndex%this.groupsArray.length;this.groupIndex++,(i={}).color=this.groups[this.groupsArray[s]],this.groups[t]=i}else{var o=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(i={}).color=this.defaultGroups[o],this.groups[t]=i}return i}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(2),r=i(11),h=i(12),l=i(47).default,d=function(){function t(e,i,o,n){var r=this;if((0,s.default)(this,t),this.body=e,this.images=i,this.groups=o,this.layoutEngine=n,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items,e.data,e.oldData)},remove:function(t,e){r.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,s){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(s-t)*o)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=a.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",(function(){a.forEach(t.nodesListeners,(function(e,i){t.body.data.nodes&&t.body.data.nodes.off(i,e)})),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){if(l.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i].needsRefresh());if(void 0!==t.size)for(var s in this.body.nodes)this.body.nodes.hasOwnProperty(s)&&this.body.nodes[s].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(t instanceof r||t instanceof h)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new r,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new r}if(i&&a.forEach(this.nodesListeners,(function(t,e){i.off(e,t)})),this.body.nodes={},this.body.data.nodes){var s=this;a.forEach(this.nodesListeners,(function(t,e){s.body.data.nodes.on(e,t)}));var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,s=[],o=0;o<t.length;o++){i=t[o];var n=this.body.data.nodes.get(i),a=this.create(n);s.push(a),this.body.nodes[i]=a}this.layoutEngine.positionInitially(s),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var s=this.body.nodes,o=!1,n=0;n<t.length;n++){var a=t[n],r=s[a],h=e[n];void 0!==r?r.setOptions(h)&&(o=!0):(o=!0,r=this.create(h),s[a]=r)}o||void 0===i||(o=e.some((function(t,e){var s=i[e];return s&&s.level!==t.level}))),!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.forEach(this.body.nodes,(function(i,s){var o=t.body.data.nodes.get(s);void 0!==o&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(o))}))}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Array.isArray(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var s=this.body.nodes[t[i]];e[t[i]]={x:Math.round(s.x),y:Math.round(s.y)}}}else if(void 0!==this.body.nodes[t]){var o=this.body.nodes[t];e[t]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var n=0;n<this.body.nodeIndices.length;n++){var a=this.body.nodes[this.body.nodeIndices[n]];e[this.body.nodeIndices[n]]={x:Math.round(a.x),y:Math.round(a.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var s=this.body.nodes[i];e._data[i].x==Math.round(s.x)&&e._data[i].y==Math.round(s.y)||t.push({id:s.id,x:Math.round(s.x),y:Math.round(s.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var s=this.body.nodes[t],o={},n=0;n<s.edges.length;n++){var a=s.edges[n];"to"!==e&&a.toId==s.id?void 0===o[a.fromId]&&(i.push(a.fromId),o[a.fromId]=!0):"from"!==e&&a.fromId==s.id&&void 0===o[a.toId]&&(i.push(a.toId),o[a.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],s=0;s<i.edges.length;s++)e.push(i.edges[s].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var s=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout((function(){s.body.emitter.emit("startSimulation")}),0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}();e.default=d},function(t,e,i){t.exports={default:i(189),__esModule:!0}},function(t,e,i){i(49),i(60),t.exports=i(190)},function(t,e,i){var s=i(86),o=i(13)("iterator"),n=i(31);t.exports=i(7).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||n.hasOwnProperty(s(e))}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(192).default,r=i(48).default,h=function(){function t(e,i,o,n){var r=this;(0,s.default)(this,t),this.ctx=e,this.parent=i,this.lines=new a((function(t,i){if(void 0===t)return 0;var s=r.parent.getFormattingValues(e,o,n,i),a=0;return""!==t&&(a=r.ctx.measureText(t).width),{width:a,values:s}}))}return(0,o.default)(t,[{key:"process",value:function(t){if(!r.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(t).split("\n"),s=i.length;if(e.multi)for(var o=0;o<s;o++){var n=this.splitBlocks(i[o],e.multi);if(void 0!==n)if(0!==n.length){if(e.maxWdt>0)for(var a=0;a<n.length;a++){var h=n[a].mod,l=n[a].text;this.splitStringIntoLines(l,h,!0)}else for(var d=0;d<n.length;d++){var c=n[d].mod,u=n[d].text;this.lines.append(u,c)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var p=0;p<s;p++)this.splitStringIntoLines(i[p]);else for(var m=0;m<s;m++)this.lines.newLine(i[m]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var s=t.charAt(i.position);/[ \t]/.test(s)?i.mono?i.add(s):i.spacing=!0:/</.test(s)?i.mono||i.bold||!/<b>/.test(t.substr(i.position,3))?i.mono||i.ital||!/<i>/.test(t.substr(i.position,3))?!i.mono&&/<code>/.test(t.substr(i.position,6))?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono"),i.position+=5):!i.mono&&"bold"===i.mod()&&/<\/b>/.test(t.substr(i.position,4))?(i.emitBlock(),i.bold=!1,i.modStack.shift(),i.position+=3):!i.mono&&"ital"===i.mod()&&/<\/i>/.test(t.substr(i.position,4))?(i.emitBlock(),i.ital=!1,i.modStack.shift(),i.position+=3):"mono"===i.mod()&&/<\/code>/.test(t.substr(i.position,7))?(i.emitBlock(),i.mono=!1,i.modStack.shift(),i.position+=6):i.add(s):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital"),i.position+=2):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold"),i.position+=2):/&/.test(s)?/&lt;/.test(t.substr(i.position,4))?(i.add("<"),i.position+=3):/&amp;/.test(t.substr(i.position,5))?(i.add("&"),i.position+=4):i.add("&"):i.add(s),i.position++}return i.emitBlock(),e}},{key:"splitMarkdownBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var s=t.charAt(i.position);/[ \t]/.test(s)?(i.mono?i.add(s):i.spacing=!0,i.beginable=!0):/\\/.test(s)?i.position<t.length+1&&(i.position++,s=t.charAt(i.position),/ \t/.test(s)?i.spacing=!0:(i.add(s),i.beginable=!1)):i.mono||i.bold||!i.beginable&&!i.spacing||!/\*/.test(s)?i.mono||i.ital||!i.beginable&&!i.spacing||!/\_/.test(s)?!i.mono&&(i.beginable||i.spacing)&&/`/.test(s)?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono")):!i.mono&&"bold"===i.mod()&&/\*/.test(s)?i.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.bold=!1,i.modStack.shift()):i.add(s):!i.mono&&"ital"===i.mod()&&/\_/.test(s)?i.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.ital=!1,i.modStack.shift()):i.add(s):i.mono&&"mono"===i.mod()&&/`/.test(s)?i.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.mono=!1,i.modStack.shift()):i.add(s):(i.add(s),i.beginable=!1):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital")):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold")),i.position++}return i.emitBlock(),e}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var s=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(s))break;e=s,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(t.slice(0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");s.length>0;){var o=this.getLongestFit(s);if(0===o){var n=s[0],a=this.getLongestFitWord(n);this.lines.newLine(n.slice(0,a),e),s[0]=n.slice(a)}else{var r=o;" "===s[o-1]?o--:" "===s[r]&&r++;var h=s.slice(0,o).join("");o==s.length&&i?this.lines.append(h,e):this.lines.newLine(h,e),s=s.slice(r)}}}}]),t}();e.default=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=a(i(90)),o=a(i(0)),n=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var r=function(){function t(e){(0,o.default)(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,n.default)(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var o=e;void 0!==e&&""!==e||(o=" ");var n=this.measureText(o,i),a=(0,s.default)({},n.values);a.text=e,a.width=n.width,a.mod=i,void 0!==e&&""!==e||(a.width=0),this.lines[t].blocks.push(a),this.lines[t].width+=a.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var s=0;s<e.blocks.length;s++){var o=e.blocks[s];i<o.height&&(i=o.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var s=this.lines[i];s.width>t&&(t=s.width),e+=s.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var o={};(0,s.default)(o,i),o.blocks=[];for(var n=void 0,a=[],r=0;r<i.blocks.length;r++){var h=i.blocks[r];0!==h.width?a.push(h):void 0===n&&(n=h)}0===a.length&&void 0!==n&&a.push(n),o.blocks=a,t.push(o)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}();e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){(0,o.default)(this,e);var r=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return r._setMargins(n),r}return(0,r.default)(e,t),(0,n.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var s=this.getDimensionsFromLabel(t,e,i);this.width=s.width+this.margin.right+this.margin.left,this.height=s.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,s,o,n){this.resize(t,s,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,n),t.roundRect(this.left,this.top,this.width,this.height,n.borderRadius),this.performFill(t,n),this.updateBoundingBox(e,i,t,s,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,o)}},{key:"updateBoundingBox",value:function(t,e,i,s,o){this._updateBoundingBox(t,e,i,s,o);var n=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(n)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),e}(h(i(23)).default);e.default=l},function(t,e,i){i(195),t.exports=i(7).Object.getPrototypeOf},function(t,e,i){var s=i(41),o=i(85);i(87)("getPrototypeOf",(function(){return function(t){return o(s(t))}}))},function(t,e,i){t.exports={default:i(197),__esModule:!0}},function(t,e,i){i(198),t.exports=i(7).Object.setPrototypeOf},function(t,e,i){var s=i(17);s(s.S,"Object",{setPrototypeOf:i(199).set})},function(t,e,i){var s=i(32),o=i(27),n=function(t,e){if(o(t),!s(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,s){try{(s=i(80)(Function.call,i(89).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return n(t,i),e?t.__proto__=i:s(t,i),t}}({},!1):void 0),check:n}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){(0,o.default)(this,e);var r=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return r._setMargins(n),r}return(0,r.default)(e,t),(0,n.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var s=this.getDimensionsFromLabel(t,e,i),o=Math.max(s.width+this.margin.right+this.margin.left,s.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,s,o,n){this.resize(t,s,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,n),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,s,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(h(i(73)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n,r,h){(0,o.default)(this,e);var l=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return l.setImages(r,h),l}return(0,r.default)(e,t),(0,n.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,s=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(s){var o=2*this.options.size;return this.width=o,this.height=o,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,s,o,n){this.switchImages(s),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,n),t.save(),t.clip(),this._drawImageAtPosition(t,n),t.restore(),this._drawImageLabel(t,e,i,s,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(h(i(73)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){(0,o.default)(this,e);var r=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return r._setMargins(n),r}return(0,r.default)(e,t),(0,n.default)(e,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var s=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,s,o,n){this.resize(t,s,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,n),t.database(e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,n),this.updateBoundingBox(e,i,t,s,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h(i(23)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"draw",value:function(t,e,i,s,o,n){this._drawShape(t,"diamond",4,e,i,s,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h(i(24)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"draw",value:function(t,e,i,s,o,n){this._drawShape(t,"circle",2,e,i,s,o,n)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}(h(i(24)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var s=this.getDimensionsFromLabel(t,e,i);this.height=2*s.height,this.width=s.width+s.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,s,o,n){this.resize(t,s,o),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,n),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,n),this.updateBoundingBox(e,i,t,s,o),this.labelModule.draw(t,e,i,s,o)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,s=.5*this.height,o=Math.sin(e)*i,n=Math.cos(e)*s;return i*s/Math.sqrt(o*o+n*n)}}]),e}(h(i(23)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){(0,o.default)(this,e);var r=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return r._setMargins(n),r}return(0,r.default)(e,t),(0,n.default)(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,s,o,n){this.resize(t,s,o),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,s,o,n),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,s),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,s,o,n){var a=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(s?"bold ":"")+a+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,n),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,n)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h(i(23)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n,r,h){(0,o.default)(this,e);var l=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return l.setImages(r,h),l}return(0,r.default)(e,t),(0,n.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,s=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(s){var o=2*this.options.size;return this.width=o,void(this.height=o)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,s,o,n){if(this.switchImages(s),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var a=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,h=(s?r:a)/this.body.view.scale;t.lineWidth=Math.min(this.width,h),t.beginPath(),t.strokeStyle=s?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.fillStyle=s?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,n),t.closePath()}this._drawImageAtPosition(t,n),this._drawImageLabel(t,e,i,s,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h(i(73)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"draw",value:function(t,e,i,s,o,n){this._drawShape(t,"square",2,e,i,s,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h(i(24)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"draw",value:function(t,e,i,s,o,n){this._drawShape(t,"hexagon",4,e,i,s,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h(i(24)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"draw",value:function(t,e,i,s,o,n){this._drawShape(t,"star",4,e,i,s,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h(i(24)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){(0,o.default)(this,e);var r=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return r._setMargins(n),r}return(0,r.default)(e,t),(0,n.default)(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,s,o,n){this.resize(t,s,o),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,o),this.disableShadow(t,n),this.updateBoundingBox(e,i,t,s,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h(i(23)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"draw",value:function(t,e,i,s,o,n){this._drawShape(t,"triangle",3,e,i,s,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h(i(24)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"draw",value:function(t,e,i,s,o,n){this._drawShape(t,"triangleDown",3,e,i,s,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(h(i(24)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(2),r=i(11),h=i(12),l=i(74).default,d=function(){function t(e,i,o){var n=this;(0,s.default)(this,t),this.body=e,this.images=i,this.groups=o,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){n.add(e.items)},update:function(t,e){n.update(e.items)},remove:function(t,e){n.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,s){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(s-t)*o)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},a.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var s=!1;for(var o in t.body.edges)if(t.body.edges.hasOwnProperty(o)){var n=t.body.edges[o],a=t.body.data.edges._data[o];if(void 0!==a){var r=a.smooth;void 0!==r&&!0===r.enabled&&"dynamic"===r.type&&(void 0===e?n.setOptions({smooth:!1}):n.setOptions({smooth:{type:e}}),s=!0)}}!0===i&&!0===s&&t.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){t.reconnectEdges()})),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",(function(){a.forEach(t.edgesListeners,(function(e,i){t.body.data.edges&&t.body.data.edges.off(i,e)})),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){l.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var s in this.body.edges)this.body.edges.hasOwnProperty(s)&&this.body.edges[s].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.body.data.edges;if(t instanceof r||t instanceof h)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new r,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new r}if(s&&a.forEach(this.edgesListeners,(function(t,e){s.off(e,t)})),this.body.edges={},this.body.data.edges){a.forEach(this.edgesListeners,(function(t,i){e.body.data.edges.on(i,t)}));var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,s=this.body.data.edges,o=0;o<t.length;o++){var n=t[o],a=i[n];a&&a.disconnect();var r=s.get(n,{showInternalIds:!0});i[n]=this.create(r)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,s=!1,o=0;o<t.length;o++){var n=t[o],a=i.get(n),r=e[n];void 0!==r?(r.disconnect(),s=r.setOptions(a)||s,r.connect()):(this.body.edges[n]=this.create(a),s=!0)}!0===s?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;a.forEach(t,(function(t){var e=i[t];void 0!==e&&e.remove()})),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;a.forEach(this.body.edges,(function(e,i){var s=t.body.data.edges._data[i];void 0!==s&&e.setOptions(s)}))}},{key:"create",value:function(t){return new l(t,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var s=i[t];s.from=null,s.to=null,s.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];a.forEach(this.body.edges,(function(i,s){var o=t.body.nodes[i.toId],n=t.body.nodes[i.fromId];void 0!==o&&!0===o.isCluster||void 0!==n&&!0===n.isCluster||void 0!==o&&void 0!==n||e.push(s)})),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.edges,e=this.body.data.edges,i=[];e.forEach((function(e,s){void 0===t[s]&&i.push(s)})),this.add(i,!0)}}]),t}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=l(i(30)),o=l(i(3)),n=l(i(0)),a=l(i(1)),r=l(i(4)),h=l(i(5));function l(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,s){return(0,n.default)(this,e),(0,r.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,i,s))}return(0,h.default)(e,t),(0,a.default)(e,[{key:"_line",value:function(t,e,i){var s=i[0],o=i[1];this._bezierCurve(t,e,s,o)}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,s=void 0,o=void 0,n=void 0,a=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(s=this.from.y,n=this.to.y,i=this.from.x-a*t,o=this.to.x+a*t):(s=this.from.y-a*e,n=this.to.y+a*e,i=this.from.x,o=this.to.x),[{x:i,y:s},{x:o,y:n}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,a){var r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),h=(0,s.default)(r,2),l=h[0],d=h[1];return this._getDistanceToBezierEdge(t,e,i,o,n,a,l,d)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=(0,s.default)(e,2),o=i[0],n=i[1],a=t,r=[];r[0]=Math.pow(1-a,3),r[1]=3*a*Math.pow(1-a,2),r[2]=3*Math.pow(a,2)*(1-a),r[3]=Math.pow(a,3);var h=r[0]*this.fromPoint.x+r[1]*o.x+r[2]*n.x+r[3]*this.toPoint.x,l=r[0]*this.fromPoint.y+r[1]*o.y+r[2]*n.y+r[3]*this.toPoint.y;return{x:h,y:l}}}]),e}(l(i(216)).default);e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"_getDistanceToBezierEdge",value:function(t,e,i,s,o,n,a,r){var h=1e9,l=void 0,d=void 0,c=void 0,u=void 0,p=void 0,m=t,f=e,g=[0,0,0,0];for(d=1;d<10;d++)c=.1*d,g[0]=Math.pow(1-c,3),g[1]=3*c*Math.pow(1-c,2),g[2]=3*Math.pow(c,2)*(1-c),g[3]=Math.pow(c,3),u=g[0]*t+g[1]*a.x+g[2]*r.x+g[3]*i,p=g[0]*e+g[1]*a.y+g[2]*r.y+g[3]*s,d>0&&(h=(l=this._getDistanceToLine(m,f,u,p,o,n))<h?l:h),m=u,f=p;return h}}]),e}(h(i(75)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=l(i(30)),o=l(i(3)),n=l(i(0)),a=l(i(1)),r=l(i(4)),h=l(i(5));function l(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,s){(0,n.default)(this,e);var a=(0,r.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,i,s));return a._boundFunction=function(){a.positionBezierNode()},a.body.emitter.on("_repositionBezierNodes",a._boundFunction),a}return(0,h.default)(e,t),(0,a.default)(e,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,i=t,o=void 0,n=void 0;if(this.from===this.to){var a=this._getCircleData(this.from),r=(0,s.default)(a,3),h=r[0],l=r[1],d=r[2],c=2*Math.PI*(1-i);o=h+d*Math.sin(c),n=l+d-d*(1-Math.cos(c))}else o=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,n=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:o,y:n}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,s,o,n){return this._getDistanceToBezierEdge(t,e,i,s,o,n,this.via)}}]),e}(l(i(75)).default);e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,i=this.options.smooth.roundness,s=this.options.smooth.type,o=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if("discrete"===s||"diagonalCross"===s){var a=void 0,r=void 0;a=r=o<=n?i*n:i*o,this.from.x>this.to.x&&(a=-a),this.from.y>=this.to.y&&(r=-r),t=this.from.x+a,e=this.from.y+r,"discrete"===s&&(o<=n?t=o<i*n?this.from.x:t:e=n<i*o?this.from.y:e)}else if("straightCross"===s){var h=(1-i)*o,l=(1-i)*n;o<=n?(h=0,this.from.y<this.to.y&&(l=-l)):(this.from.x<this.to.x&&(h=-h),l=0),t=this.to.x+h,e=this.to.y+l}else if("horizontal"===s){var d=(1-i)*o;this.from.x<this.to.x&&(d=-d),t=this.to.x+d,e=this.from.y}else if("vertical"===s){var c=(1-i)*n;this.from.y<this.to.y&&(c=-c),t=this.from.x,e=this.to.y+c}else if("curvedCW"===s){o=this.to.x-this.from.x,n=this.from.y-this.to.y;var u=Math.sqrt(o*o+n*n),p=Math.PI,m=(Math.atan2(n,o)+(.5*i+.5)*p)%(2*p);t=this.from.x+(.5*i+.5)*u*Math.sin(m),e=this.from.y+(.5*i+.5)*u*Math.cos(m)}else if("curvedCCW"===s){o=this.to.x-this.from.x,n=this.from.y-this.to.y;var f=Math.sqrt(o*o+n*n),g=Math.PI,v=(Math.atan2(n,o)+(.5*-i+.5)*g)%(2*g);t=this.from.x+(.5*i+.5)*f*Math.sin(v),e=this.from.y+(.5*i+.5)*f*Math.cos(v)}else{var y=void 0,b=void 0;y=b=o<=n?i*n:i*o,this.from.x>this.to.x&&(y=-y),this.from.y>=this.to.y&&(b=-b),t=this.from.x+y,e=this.from.y+b,o<=n?t=this.from.x<=this.to.x?this.to.x<t?this.to.x:t:this.to.x>t?this.to.x:t:e=this.from.y>=this.to.y?this.to.y>e?this.to.y:e:this.to.y<e?this.to.y:e}return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,s,o,n){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,s,o,n,a)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t,s=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,o=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:s,y:o}}}]),e}(h(i(75)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,s=this.from;t.id===this.from.id&&(i=this.from,s=this.to);var o=Math.atan2(i.y-s.y,i.x-s.x),n=i.x-s.x,a=i.y-s.y,r=Math.sqrt(n*n+a*a),h=(r-t.distanceToBorder(e,o))/r,l={};return l.x=(1-h)*s.x+h*i.x,l.y=(1-h)*s.y+h*i.y,l}},{key:"_getDistanceToEdge",value:function(t,e,i,s,o,n){return this._getDistanceToLine(t,e,i,s,o,n)}}]),e}(h(i(118)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=a(i(8)),o=a(i(0)),n=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var r=i(120).default,h=i(221).default,l=i(222).default,d=i(223).default,c=i(224).default,u=i(121).default,p=i(225).default,m=i(226).default,f=i(2),g=i(119).default,v=function(){function t(e){(0,o.default)(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},f.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,n.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",(function(){t.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){t.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){t.stopSimulation(),t.ready=!1})),this.body.emitter.on("disablePhysics",(function(){t.physicsEnabled=!1,t.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===t.ready&&t.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){t.stopSimulation()})),this.body.emitter.on("destroy",(function(){t.stopSimulation(!1),t.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){t.updatePhysicsData()}))}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,f.selectiveNotDeepExtend(["stabilization"],this.options,t),f.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new p(this.body,this.physicsBody,t),this.edgesSolver=new d(this.body,this.physicsBody,t),this.gravitySolver=new m(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new h(this.body,this.physicsBody,t),this.edgesSolver=new d(this.body,this.physicsBody,t),this.gravitySolver=new u(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new l(this.body,this.physicsBody,t),this.edgesSolver=new c(this.body,this.physicsBody,t),this.gravitySolver=new u(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new r(this.body,this.physicsBody,t),this.edgesSolver=new d(this.body,this.physicsBody,t),this.gravitySolver=new u(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout((function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var s in e)e.hasOwnProperty(s)&&!0===e[s].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[s].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var n=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[n]={x:0,y:0},void 0===this.physicsBody.velocities[n]&&(this.physicsBody.velocities[n]={x:0,y:0})}for(var a in this.physicsBody.velocities)void 0===t[a]&&delete this.physicsBody.velocities[a]}},{key:"revert",value:function(){var t=(0,s.default)(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var n=t[o];void 0!==e[n]?!0===e[n].options.physics&&(this.referenceState[n]={positions:{x:e[n].x,y:e[n].y}},i[n].x=this.previousStates[n].vx,i[n].y=this.previousStates[n].vy,e[n].x=this.previousStates[n].x,e[n].y=this.previousStates[n].y):delete this.previousStates[n]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=void 0,i=this.body.nodes,s=this.referenceState;for(var o in this.referenceState)if(this.referenceState.hasOwnProperty(o)&&void 0!==i[o]&&(t=i[o].x-s[o].positions.x,e=i[o].y-s[o].positions.y,Math.sqrt(Math.pow(t,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,s=0;s<t.length;s++){var o=t[s],n=this._performStep(o);e=Math.max(e,n),i+=n}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;var s=this.options.maxVelocity||1e9;return Math.abs(t)>s&&(t=t>0?s:-s),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t],s=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:s.x,vy:s.y},!1===e.options.fixed.x?(s.x=this.calculateComponentVelocity(s.x,i.x,e.options.mass),e.x+=s.x*this.timestep):(i.x=0,s.x=0),!1===e.options.fixed.y?(s.y=this.calculateComponentVelocity(s.y,i.y,e.options.mass),e.y+=s.y*this.timestep):(i.y=0,s.y=0),Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout((function(){return t._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var s=0;e()&&s<this.options.stabilization.updateInterval;)this.physicsTick(),s++;i(),e()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],s=this.body.nodes[i],o=this.physicsBody.forces[i],n=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),a=Math.min(Math.max(5,n),15),r=3*a,h=f.HSVToHex((180-180*Math.min(1,Math.max(0,.03*n)))/360,1,1),l={x:s.x+20*o.x,y:s.y+20*o.y};t.lineWidth=a,t.strokeStyle=h,t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(l.x,l.y),t.stroke();var d=Math.atan2(o.y,o.x);t.fillStyle=h,g.draw(t,{type:"arrow",point:l,angle:d,length:r}),t.fill()}}}]),t}();e.default=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,i,o){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,s,o,n,a,r,h=this.body.nodes,l=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,c=this.options.nodeDistance,u=-2/3/c,p=0;p<l.length-1;p++){a=h[l[p]];for(var m=p+1;m<l.length;m++)t=(r=h[l[m]]).x-a.x,e=r.y-a.y,0===(i=Math.sqrt(t*t+e*e))&&(t=i=.1*Math.random()),i<2*c&&(n=i<.5*c?1:u*i+4/3,s=t*(n/=i),o=e*n,d[a.id].x-=s,d[a.id].y-=o,d[r.id].x+=s,d[r.id].y+=o)}}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,i,o){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,s,o,n,a,r,h,l,d=this.body.nodes,c=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,p=this.options.nodeDistance;for(h=0;h<c.length-1;h++)for(a=d[c[h]],l=h+1;l<c.length;l++)r=d[c[l]],a.level===r.level&&(t=r.x-a.x,e=r.y-a.y,n=(i=Math.sqrt(t*t+e*e))<p?-Math.pow(.05*i,2)+Math.pow(.05*p,2):0,0===i?i=.01:n/=i,s=t*n,o=e*n,u[a.id].x-=s,u[a.id].y-=o,u[r.id].x+=s,u[r.id].y+=o)}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,i,o){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=this.physicsBody.physicsEdgeIndices,s=this.body.edges,o=void 0,n=void 0,a=void 0,r=0;r<i.length;r++)!0===(e=s[i[r]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,o=e.to,n=e.edgeType.via,a=e.from,this._calculateSpringForce(o,n,.5*t),this._calculateSpringForce(n,a,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var s=t.x-e.x,o=t.y-e.y,n=Math.max(Math.sqrt(s*s+o*o),.01),a=this.options.springConstant*(i-n)/n,r=s*a,h=o*a;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=r,this.physicsBody.forces[t.id].y+=h),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=r,this.physicsBody.forces[e.id].y-=h)}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,i,o){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,s,o,n,a,r,h,l,d=this.body.edges,c=this.physicsBody.physicsEdgeIndices,u=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,m=0;m<u.length;m++){var f=u[m];p[f].springFx=0,p[f].springFy=0}for(var g=0;g<c.length;g++)!0===(e=d[c[g]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,s=e.from.y-e.to.y,r=0===(r=Math.sqrt(i*i+s*s))?.01:r,o=i*(a=this.options.springConstant*(t-r)/r),n=s*a,e.to.level!=e.from.level?(void 0!==p[e.toId]&&(p[e.toId].springFx-=o,p[e.toId].springFy-=n),void 0!==p[e.fromId]&&(p[e.fromId].springFx+=o,p[e.fromId].springFy+=n)):(void 0!==p[e.toId]&&(p[e.toId].x-=.5*o,p[e.toId].y-=.5*n),void 0!==p[e.fromId]&&(p[e.fromId].x+=.5*o,p[e.fromId].y+=.5*n)));a=1;for(var v=0;v<u.length;v++){var y=u[v];h=Math.min(a,Math.max(-a,p[y].springFx)),l=Math.min(a,Math.max(-a,p[y].springFy)),p[y].x+=h,p[y].y+=l}for(var b=0,x=0,w=0;w<u.length;w++){var _=u[w];b+=p[_].x,x+=p[_].y}for(var k=b/u.length,M=x/u.length,T=0;T<u.length;T++){var C=u[T];p[C].x-=k,p[C].y-=M}}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"_calculateForces",value:function(t,e,i,s,o){0===t&&(e=t=.1*Math.random()),this.overlapAvoidanceFactor<1&&s.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*s.shape.radius,t-s.shape.radius));var n=s.edges.length+1,a=this.options.gravitationalConstant*o.mass*s.options.mass*n/Math.pow(t,2),r=e*a,h=i*a;this.physicsBody.forces[s.id].x+=r,this.physicsBody.forces[s.id].y+=h}}]),e}(h(i(120)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,r.default)(e,t),(0,n.default)(e,[{key:"_calculateForces",value:function(t,e,i,s,o){if(t>0){var n=o.edges.length+1,a=this.options.centralGravity*n*o.options.mass;s[o.id].x=e*a,s[o.id].y=i*a}}}]),e}(h(i(121)).default);e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=r(i(8)),o=r(i(6)),n=r(i(0)),a=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var h=i(2),l=i(76).default,d=i(228).default,c=i(74).default,u=i(47).default,p=function(){function t(e){var i=this;(0,n.default)(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},h.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){i.clusteredNodes={},i.clusteredEdges={}}))}return(0,a.default)(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===(void 0===t?"undefined":(0,o.default)(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],s=0;s<this.body.nodeIndices.length;s++){var n=this.body.nodes[this.body.nodeIndices[s]];n.edges.length>=t&&i.push(n.id)}for(var a=0;a<i.length;a++)this.clusterByConnection(i[a],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var s={},o={};h.forEach(this.body.nodes,(function(i,n){var a=l.cloneOptions(i);!0===e.joinCondition(a)&&(s[n]=i,h.forEach(i.edges,(function(e){void 0===t.clusteredEdges[e.id]&&(o[e.id]=e)})))})),this._cluster(s,o,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var n=[],a={},r=void 0,h=void 0,d=void 0,c=function(o){var c={},u={},f=i.body.nodeIndices[o],g=i.body.nodes[f];if(void 0===a[f]){d=0,h=[];for(var v=0;v<g.edges.length;v++)r=g.edges[v],void 0===i.clusteredEdges[r.id]&&(r.toId!==r.fromId&&d++,h.push(r));if(d===t){p=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var i=l.cloneOptions(t);return e.joinCondition(i)};for(var y=!0,b=0;b<h.length;b++){r=h[b];var x=i._getConnectedId(r,f);if(!p(g)){y=!1;break}u[r.id]=r,c[f]=g,c[x]=i.body.nodes[x],a[f]=!0}if((0,s.default)(c).length>0&&(0,s.default)(u).length>0&&!0===y)if(void 0!==(m=function(){for(var t=0;t<n.length;++t)for(var e in c)if(void 0!==n[t].nodes[e])return n[t]}())){for(var w in c)void 0===m.nodes[w]&&(m.nodes[w]=c[w]);for(var _ in u)void 0===m.edges[_]&&(m.edges[_]=u[_])}else n.push({nodes:c,edges:u})}}},u=0;u<this.body.nodeIndices.length;u++){var p,m;c(u)}for(u=0;u<n.length;u++)this._cluster(n[u].nodes,n[u].edges,e,!1);!0===o&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[t];void 0===(e=this._checkOptions(e,o)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y);var n={},a={},r=o.id,h=l.cloneOptions(o);n[r]=o;for(var d=0;d<o.edges.length;d++){var c=o.edges[d];if(void 0===this.clusteredEdges[c.id]){var u=this._getConnectedId(c,r);if(void 0===this.clusteredNodes[u])if(u!==r)if(void 0===e.joinCondition)a[c.id]=c,n[u]=this.body.nodes[u];else{var p=l.cloneOptions(this.body.nodes[u]);!0===e.joinCondition(h,p)&&(a[c.id]=c,n[u]=this.body.nodes[u])}else a[c.id]=c}}var m=(0,s.default)(n).map((function(t){return n[t].id}));for(f in n)if(n.hasOwnProperty(f))for(var f=n[f],g=0;g<f.edges.length;g++){var v=f.edges[g];m.indexOf(this._getConnectedId(v,f.id))>-1&&(a[v.id]=v)}this._cluster(n,a,e,i)}},{key:"_createClusterEdges",value:function(t,e,i,o){for(var n=void 0,a=void 0,r=void 0,h=void 0,l=void 0,d=void 0,c=(0,s.default)(t),u=[],p=0;p<c.length;p++){r=t[a=c[p]];for(var m=0;m<r.edges.length;m++)n=r.edges[m],void 0===this.clusteredEdges[n.id]&&(n.toId==n.fromId?e[n.id]=n:n.toId==a?(h=i.id,d=l=n.fromId):(h=n.toId,l=i.id,d=h),void 0===t[d]&&u.push({edge:n,fromId:l,toId:h}))}for(var f=[],g=function(t){for(var e=0;e<f.length;e++){var i=f[e],s=t.fromId===i.fromId&&t.toId===i.toId,o=t.fromId===i.toId&&t.toId===i.fromId;if(s||o)return i}return null},v=0;v<u.length;v++){var y=u[v],b=y.edge,x=g(y);null===x?(x=this._createClusteredEdge(y.fromId,y.toId,b,o),f.push(x)):x.clusteringEdgeReplacingIds.push(b.id),this.body.edges[b.id].edgeReplacedById=x.id,this._backupEdgeOptions(b),b.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=[];for(var a in t)t.hasOwnProperty(a)&&void 0!==this.clusteredNodes[a]&&n.push(a);for(var r=0;r<n.length;++r)delete t[n[r]];if(0!=(0,s.default)(t).length&&(1!=(0,s.default)(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var c=h.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var u=[];for(var p in t)if(t.hasOwnProperty(p)){var m=l.cloneOptions(t[p]);u.push(m)}var f=[];for(var g in e)if(e.hasOwnProperty(g)&&"clusterEdge:"!==g.substr(0,12)){var v=l.cloneOptions(e[g],"edge");f.push(v)}if(!(c=i.processProperties(c,u,f)))throw new Error("The processProperties function does not return properties!")}void 0===c.id&&(c.id="cluster:"+h.randomUUID());var y=c.id;void 0===c.label&&(c.label="cluster");var b=void 0;void 0===c.x&&(b=this._getClusterPosition(t),c.x=b.x),void 0===c.y&&(void 0===b&&(b=this._getClusterPosition(t)),c.y=b.y),c.id=y;var x=this.body.functions.createNode(c,d);x.containedNodes=t,x.containedEdges=e,x.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[c.id]=x,this._clusterEdges(t,e,c,i.clusterEdgeProperties),c.id=void 0,!0===o&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=(0,s.default)(t),i=t[e[0]].x,o=t[e[0]].x,n=t[e[0]].y,a=t[e[0]].y,r=void 0,h=1;h<e.length;h++)i=(r=t[e[h]]).x<i?r.x:i,o=r.x>o?r.x:o,n=r.y<n?r.y:n,a=r.y>a?r.y:a;return{x:.5*(i+o),y:.5*(n+a)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var s=this.body.nodes[t];if(void 0===s)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==s.isCluster||void 0===s.containedNodes||void 0===s.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var o=this.findNode(t),n=o.indexOf(t)-1;if(n>=0){var a=o[n],r=this.body.nodes[a];return r._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var l=s.containedNodes,d=s.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var c={},u={x:s.x,y:s.y};for(var p in l)if(l.hasOwnProperty(p)){var m=this.body.nodes[p];c[p]={x:m.x,y:m.y}}var f=e.releaseFunction(u,c);for(var g in l)if(l.hasOwnProperty(g)){var v=this.body.nodes[g];void 0!==f[g]&&(v.x=void 0===f[g].x?s.x:f[g].x,v.y=void 0===f[g].y?s.y:f[g].y)}}else h.forEach(l,(function(t){!1===t.options.fixed.x&&(t.x=s.x),!1===t.options.fixed.y&&(t.y=s.y)}));for(var y in l)if(l.hasOwnProperty(y)){var b=this.body.nodes[y];b.vx=s.vx,b.vy=s.vy,b.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var x=[],w=0;w<s.edges.length;w++)x.push(s.edges[w]);for(var _=0;_<x.length;_++){for(var k=x[_],M=this._getConnectedId(k,t),T=this.clusteredNodes[M],C=0;C<k.clusteringEdgeReplacingIds.length;C++){var S=k.clusteringEdgeReplacingIds[C],P=this.body.edges[S];if(void 0!==P)if(void 0!==T){var D=this.body.nodes[T.clusterId];D.containedEdges[P.id]=P,delete d[P.id];var A=P.fromId,I=P.toId;P.toId==M?I=T.clusterId:A=T.clusterId,this._createClusteredEdge(A,I,P,D.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(P)}k.remove()}for(var O in d)d.hasOwnProperty(O)&&this._restoreEdge(d[O]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var s in i)i.hasOwnProperty(s)&&e.push(this.body.nodes[s].id)}return e}},{key:"findNode",value:function(t){for(var e=[],i=0,s=void 0;void 0!==this.clusteredNodes[t]&&i<100;){if(void 0===(s=this.body.nodes[t]))return[];e.push(s.id),t=this.clusteredNodes[t].clusterId,i++}return void 0===(s=this.body.nodes[t])?[]:(e.push(s.id),e.reverse(),e)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),s=0;s<i.length;s++)this.body.edges[i[s]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],i=[],s=[],o=0;e.length>0&&o<100;){var n=e.pop();if(void 0!==n){var a=this.body.edges[n];if(void 0!==a){o++;var r=a.clusteringEdgeReplacingIds;if(void 0===r)s.push(n);else for(var h=0;h<r.length;++h){var l=r[h];-1===e.indexOf(r)&&-1===i.indexOf(r)&&e.push(l)}i.push(n)}}}return s}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,s=0,o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodes[this.body.nodeIndices[o]];n.edges.length>s&&(s=n.edges.length),t+=n.edges.length,e+=Math.pow(n.edges.length,2),i+=1}t/=i;var a=(e/=i)-Math.pow(t,2),r=Math.sqrt(a),h=Math.floor(t+2*r);return h>s&&(h=s),h}},{key:"_createClusteredEdge",value:function(t,e,i,s,o){var n=l.cloneOptions(i,"edge");h.deepExtend(n,s),n.from=t,n.to=e,n.id="clusterEdge:"+h.randomUUID(),void 0!==o&&h.deepExtend(n,o);var a=this.body.functions.createEdge(n);return a.clusteringEdgeReplacingIds=[i.id],a.connect(),this.body.edges[a.id]=a,a}},{key:"_clusterEdges",value:function(t,e,i,s){if(e instanceof c){var o=e,n={};n[o.id]=o,e=n}if(t instanceof u){var a=t,r={};r[a.id]=a,t=r}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var h in void 0===s&&(s=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,s),e)if(e.hasOwnProperty(h)&&void 0!==this.body.edges[h]){var l=this.body.edges[h];this._backupEdgeOptions(l),l.setOptions({physics:!1})}for(var d in t)t.hasOwnProperty(d)&&(this.clusteredNodes[d]={clusterId:i.id,node:this.body.nodes[d]},this.body.nodes[d].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return h.forEach(t,(function(t){e(t)&&i.push(t)})),i}},{key:"_updateState",value:function(){var t=this,e=void 0,i=[],o=[],n=function(e){h.forEach(t.body.nodes,(function(t){!0===t.isCluster&&e(t)}))};for(e in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(e)&&void 0===this.body.nodes[e]&&i.push(e);n((function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]}));for(var a=0;a<i.length;a++)delete this.clusteredNodes[i[a]];h.forEach(this.clusteredEdges,(function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()||o.push(e)})),n((function(t){h.forEach(t.containedEdges,(function(t,e){t.endPointsValid()||-1!==o.indexOf(e)||o.push(e)}))})),h.forEach(this.body.edges,(function(e,i){var s=!0,n=e.clusteringEdgeReplacingIds;if(void 0!==n){var a=0;h.forEach(n,(function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()&&(a+=1)})),s=a>0}e.endPointsValid()&&s||o.push(i)})),n((function(e){h.forEach(o,(function(i){delete e.containedEdges[i],h.forEach(e.edges,(function(s,n){s.id!==i?s.clusteringEdgeReplacingIds=t._filter(s.clusteringEdgeReplacingIds,(function(t){return-1===o.indexOf(t)})):e.edges[n]=null})),e.edges=t._filter(e.edges,(function(t){return null!==t}))}))})),h.forEach(o,(function(e){delete t.clusteredEdges[e]})),h.forEach(o,(function(e){delete t.body.edges[e]}));var r=(0,s.default)(this.body.edges);h.forEach(r,(function(e){var i=t.body.edges[e],s=t._isClusteredNode(i.fromId)||t._isClusteredNode(i.toId);if(s!==t._isClusteredEdge(i.id)){if(!s)throw new Error("remove edge from clustering not implemented!");var o=t._getClusterNodeForNode(i.fromId);void 0!==o&&t._clusterEdges(t.body.nodes[i.fromId],i,o);var n=t._getClusterNodeForNode(i.toId);void 0!==n&&t._clusterEdges(t.body.nodes[i.toId],i,n)}}));for(var l=!1,d=!0,c=function(){var e=[];n((function(t){var i=(0,s.default)(t.containedNodes).length,o=!0===t.options.allowSingleNodeCluster;(o&&i<1||!o&&i<2)&&e.push(t.id)}));for(var i=0;i<e.length;++i)t.openCluster(e[i],{},!1);d=e.length>0,l=l||d};d;)c();l&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}();e.default=p},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(3)),o=h(i(0)),n=h(i(1)),a=h(i(4)),r=h(i(5));function h(t){return t&&t.__esModule?t:{default:t}}var l=i(2),d=function(t){function e(t,i,n,r,h,l){(0,o.default)(this,e);var d=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n,r,h,l));return d.isCluster=!0,d.containedNodes={},d.containedEdges={},d}return(0,r.default)(e,t),(0,n.default)(e,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],l.forEach(i.edges,(function(t){delete e.containedEdges[t.id]})),l.forEach(i.containedNodes,(function(t,i){e.containedNodes[i]=t})),i.containedNodes={},l.forEach(i.containedEdges,(function(t,i){e.containedEdges[i]=t})),i.containedEdges={},l.forEach(i.edges,(function(t){l.forEach(e.edges,(function(i){var s=i.clusteringEdgeReplacingIds.indexOf(t.id);-1!==s&&(l.forEach(t.clusteringEdgeReplacingIds,(function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id})),i.clusteringEdgeReplacingIds.splice(s,1))}))})),i.edges=[]}}]),e}(i(47).default);e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(2),r=function(){function t(e,i){var o;(0,s.default)(this,t),void 0!==window&&(o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===o?function(t){t()}:o,this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},a.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",(function(){t.dragging=!0})),this.body.emitter.on("dragEnd",(function(){t.dragging=!1})),this.body.emitter.on("_resizeNodes",(function(){t._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===t.renderingActive&&t._redraw()})),this.body.emitter.on("_blockRedraw",(function(){t.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){t.allowRedraw=!0,t.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",(function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()})),this.body.emitter.on("_stopRendering",(function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()}))}},{key:"setOptions",value:function(t){void 0!==t&&a.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i=void 0,s=window;return!0===this.requiresTimeout?i=s.setTimeout(t,e):s.requestAnimationFrame&&(i=s.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){t._redraw(!1)}),0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,s),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,i,s)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,i=void 0;for(var s in e)e.hasOwnProperty(s)&&((i=e[s]).resize(t),i.updateBoundingBox(t,i.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.nodes,s=this.body.nodeIndices,o=void 0,n=[],a=20,r=this.canvas.DOMtoCanvas({x:-a,y:-a}),h=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+a,y:this.canvas.frame.canvas.clientHeight+a}),l={top:r.y,left:r.x,bottom:h.y,right:h.x},d=0;d<s.length;d++)(o=i[s[d]]).isSelected()?n.push(s[d]):!0===e||!0===o.isBoundingBoxOverlappingWith(l)?o.draw(t):o.updateBoundingBox(t,o.selected);for(var c=0;c<n.length;c++)(o=i[n[c]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,s=void 0,o=0;o<i.length;o++)!0===(s=e[i[o]]).connected&&s.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=t.indexOf("msie 9.0")||-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(10),r=i(37),h=i(2),l=function(){function t(e){(0,s.default)(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",(function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)})),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",(function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()}))}},{key:"setOptions",value:function(t){var e=this;void 0!==t&&h.selectiveDeepExtend(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval((function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")}),1e3),this.resizeFunction=this._onResize.bind(this),h.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),h.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var s=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:s.x-this.cameraState.position.x,y:s.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new a(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_ALL}),r.onTouch(this.hammer,(function(e){t.body.eventListeners.onTouch(e)})),this.hammer.on("tap",(function(e){t.body.eventListeners.onTap(e)})),this.hammer.on("doubletap",(function(e){t.body.eventListeners.onDoubleTap(e)})),this.hammer.on("press",(function(e){t.body.eventListeners.onHold(e)})),this.hammer.on("panstart",(function(e){t.body.eventListeners.onDragStart(e)})),this.hammer.on("panmove",(function(e){t.body.eventListeners.onDrag(e)})),this.hammer.on("panend",(function(e){t.body.eventListeners.onDragEnd(e)})),this.hammer.on("pinch",(function(e){t.body.eventListeners.onPinch(e)})),this.frame.canvas.addEventListener("mousewheel",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("DOMMouseScroll",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t.body.eventListeners.onMouseMove(e)})),this.frame.canvas.addEventListener("contextmenu",(function(e){t.body.eventListeners.onContext(e)})),this.hammerFrame=new a(this.frame),r.onRelease(this.hammerFrame,(function(e){t.body.eventListeners.onRelease(e)}))}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,s=this.frame.canvas.width,o=this.frame.canvas.height,n=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(n),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),r=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===a&&this.frame.canvas.height===r||this._getCameraState(n),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,i=!0),this.frame.canvas.height!==r&&(this.frame.canvas.height=r,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(s/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(2),r=i(76).default,h=function(){function t(e,i){var o=this;(0,s.default)(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",(function(){o.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,o.default)(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,s=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var o=0;for(var n in this.body.nodes)if(this.body.nodes.hasOwnProperty(n)){var a=this.body.nodes[n];!0===a.predefinedPosition&&(o+=1)}if(o>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=r.getRange(this.body.nodes,t.nodes);var h=this.body.nodeIndices.length;s=12.662/(h+7.4147)+.0964822;var l=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);s*=l}else{this.body.emitter.emit("_resizeNodes"),i=r.getRange(this.body.nodes,t.nodes);var d=1.1*Math.abs(i.maxX-i.minX),c=1.1*Math.abs(i.maxY-i.minY),u=this.canvas.frame.canvas.clientWidth/d,p=this.canvas.frame.canvas.clientHeight/c;s=u<=p?u:p}(s>1||0===s)&&(s=1);var m=r.findCenter(i),f={position:m,scale:s,animation:t.animation};this.moveTo(f)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){void 0!==t?(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)):t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=e.x-t.position.x,s=e.y-t.position.y;this.targetTranslation={x:this.sourceTranslation.x+i*this.targetScale+t.offset.x,y:this.sourceTranslation.y+s*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),s=i.x-t,o=i.y-e,n=this.body.view.translation,a={x:n.x+s*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+o*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=a}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=a.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e.default=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(2),r=i(233).default,h=i(104).default,l=function(){function t(e,i,o){(0,s.default)(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.navigationHandler=new r(e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",(function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer}))}},{key:"setOptions",value:function(t){void 0!==t&&(a.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),a.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(a.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=a.parseColor(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-a.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-a.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=this.selectionHandler.getSelection(),o=!1;o=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var n=this.selectionHandler.getSelection(),a=this._determineDifference(s,n),r=this._determineDifference(n,s);a.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,s),o=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,s),o=!0),r.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",e,t),o=!0),r.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),o=!0),!0===o&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],s=0;s<t.length;s++){var o=t[s];-1===e.indexOf(o)&&i.push(o)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=a.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s],n={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(n)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),s=this.drag.selection;if(s&&s.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,i);var o=i.x-this.drag.pointer.x,n=i.y-this.drag.pointer.y;s.forEach((function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+o)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+n))})),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var a=i.x-this.drag.pointer.x,r=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+a,y:this.drag.translation.y+r},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach((function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed})),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var s=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(s=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,n=t/i,a=(1-n)*e.x+o.x*n,r=(1-n)*e.y+o.y*n;if(this.body.view.scale=t,this.body.view.translation={x:a,y:r},null!=s){var h=this.canvas.canvasToDOM(s);this.drag.pointer.x=h.x,this.drag.pointer.y=h.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var i=this.body.view.scale,s=e/10;e<0&&(s/=1-s),i*=1+s;var o=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,o)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),s=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(s=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===s&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout((function(){return e._checkShowPopup(i)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),s={left:e,top:i,right:e,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id,n=!1,a="node";if(void 0===this.popupObj){for(var r=this.body.nodeIndices,l=this.body.nodes,d=void 0,c=[],u=0;u<r.length;u++)!0===(d=l[r[u]]).isOverlappingWith(s)&&void 0!==d.getTitle()&&c.push(r[u]);c.length>0&&(this.popupObj=l[c[c.length-1]],n=!0)}if(void 0===this.popupObj&&!1===n){for(var p=this.body.edgeIndices,m=this.body.edges,f=void 0,g=[],v=0;v<p.length;v++)!0===(f=m[p[v]]).isOverlappingWith(s)&&!0===f.connected&&void 0!==f.getTitle()&&g.push(p[v]);g.length>0&&(this.popupObj=m[g[g.length-1]],a="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new h(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var s=this.selectionHandler.getNodeAt(t);i=void 0!==s&&s.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(10),r=i(37),h=i(35),l=function(){function t(e,i){var o=this;(0,s.default)(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){o.activated=!0,o.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){o.activated=!1,o.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==o.keycharm&&o.keycharm.destroy()})),this.options={}}return(0,o.default)(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var s=0;s<e.length;s++){this.navigationDOM[e[s]]=document.createElement("div"),this.navigationDOM[e[s]].className="vis-button vis-"+e[s],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[s]]);var o=new a(this.navigationDOM[e[s]]);"_fit"===i[s]?r.onTouch(o,this._fit.bind(this)):r.onTouch(o,this.bindToRedraw.bind(this,i[s])),this.navigationHammers.push(o)}var n=new a(this.canvas.frame);r.onRelease(n,(function(){t._stopMovement()})),this.navigationHammers.push(n),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,s=e/t,o=(1-s)*this.canvas.canvasViewCenter.x+i.x*s,n=(1-s)*this.canvas.canvasViewCenter.y+i.y*s;this.body.view.scale=e,this.body.view.translation={x:o,y:n},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,s=e/t,o=(1-s)*this.canvas.canvasViewCenter.x+i.x*s,n=(1-s)*this.canvas.canvasViewCenter.y+i.y*s;this.body.view.scale=e,this.body.view.translation={x:o,y:n},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=h({container:window,preventDefault:!0}):this.keycharm=h({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",(function(){t.bindToRedraw("_moveUp")}),"keydown"),this.keycharm.bind("down",(function(){t.bindToRedraw("_moveDown")}),"keydown"),this.keycharm.bind("left",(function(){t.bindToRedraw("_moveLeft")}),"keydown"),this.keycharm.bind("right",(function(){t.bindToRedraw("_moveRight")}),"keydown"),this.keycharm.bind("=",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("num+",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("num-",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("-",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("[",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("]",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("pageup",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("pagedown",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("up",(function(){t.unbindFromRedraw("_moveUp")}),"keyup"),this.keycharm.bind("down",(function(){t.unbindFromRedraw("_moveDown")}),"keyup"),this.keycharm.bind("left",(function(){t.unbindFromRedraw("_moveLeft")}),"keyup"),this.keycharm.bind("right",(function(){t.unbindFromRedraw("_moveRight")}),"keyup"),this.keycharm.bind("=",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("num+",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("num-",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("-",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("[",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("]",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("pageup",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("pagedown",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=i(47).default,r=i(74).default,h=i(2),l=function(){function t(e,i){var o=this;(0,s.default)(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},h.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){o.updateSelection()}))}return(0,o.default)(t,[{key:"setOptions",value:function(t){void 0!==t&&h.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}},{key:"_generateClickEvent",value:function(t,e,i,s){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=this._initBaseEvent(e,i);if(!0===o)n.nodes=[],n.edges=[];else{var a=this.getSelection();n.nodes=a.nodes,n.edges=a.edges}void 0!==s&&(n.previousSelection=s),"click"==t&&(n.items=this.getClickedItems(i)),this.body.emitter.emit(t,n)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof a&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,s=0;s<this.body.nodeIndices.length;s++){var o=this.body.nodeIndices[s];i[o].isOverlappingWith(t)&&e.push(o)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),s=this._getAllNodesOverlappingWith(i);return s.length>0?!0===e?this.body.nodes[s[s.length-1]]:s[s.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var o=this.body.edgeIndices[s];i[o].isOverlappingWith(t)&&e.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),s=10,o=null,n=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var r=this.body.edgeIndices[a],h=n[r];if(h.connected){var l=h.from.x,d=h.from.y,c=h.to.x,u=h.to.y,p=h.edgeType.getDistanceToEdge(l,d,c,u,i.x,i.y);p<s&&(o=r,s=p)}}return null!==o?!0===e?this.body.edges[o]:o:void 0}},{key:"_addToSelection",value:function(t){t instanceof a?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof a?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof a?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var s=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof a?(s.node=i.id,this.body.emitter.emit("blurNode",s)):(s.edge=i.id,this.body.emitter.emit("blurEdge",s)))}},{key:"emitHoverEvent",value:function(t,e,i){var s=this._initBaseEvent(t,e),o=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof a?(s.node=i.id,this.body.emitter.emit("hoverNode",s)):(s.edge=i.id,this.body.emitter.emit("hoverEdge",s))),o}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var s=!1;for(var o in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(o)&&(void 0===i||i instanceof a&&i.id!=o||i instanceof r)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],s=!0);for(var n in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(n)&&(!0===s?(this.hoverObj.edges[n].hover=!1,delete this.hoverObj.edges[n]):(void 0===i||i instanceof r&&i.id!=n||i instanceof a&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[n]),delete this.hoverObj.edges[n],s=!0));void 0!==i&&(s=s||this.emitHoverEvent(t,e,i),i instanceof a&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)),!0===s&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0,s=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(i=0;i<t.nodes.length;i++){s=t.nodes[i];var o=this.body.nodes[s];if(!o)throw new RangeError('Node with id "'+s+'" not found');this.selectObject(o,e.highlightEdges)}if(t.edges)for(i=0;i<t.edges.length;i++){s=t.edges[i];var n=this.body.edges[s];if(!n)throw new RangeError('Edge with id "'+s+'" not found');this.selectObject(n)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],s=this.body.nodeIndices,o=this.body.nodes,n=s.length-1;n>=0;n--){var a=o[s[n]].getItemsOnPoint(e);i.push.apply(i,a)}for(var r=this.body.edgeIndices,h=this.body.edges,l=r.length-1;l>=0;l--){var d=h[r[l]].getItemsOnPoint(e);i.push.apply(i,d)}return i}}]),t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(30)),o=h(i(6)),n=h(i(8)),a=h(i(0)),r=h(i(1));function h(t){return t&&t.__esModule?t:{default:t}}var l=i(2),d=i(76).default,c=i(236),u=c.HorizontalStrategy,p=c.VerticalStrategy,m=function(){function t(){(0,a.default)(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,r.default)(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(s){if(void 0!==i[s])return i[s];var o=e.levels[s];if(e.childrenReference[s]){var n=e.childrenReference[s];if(n.length>0)for(var a=0;a<n.length;a++)o=Math.max(o,t(n[a]))}return i[s]=o,o}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var s in t)t.hasOwnProperty(s)&&void 0!==this.levels[s]&&(this.levels[s]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,s=-1e9,o=1e9,n=-1e9;for(var a in this.trees)if(this.trees.hasOwnProperty(a)&&this.trees[a]===e){var r=t[a];i=Math.min(r.x,i),s=Math.max(r.x,s),o=Math.min(r.y,o),n=Math.max(r.y,n)}return{min_x:i,max_x:s,min_y:o,max_y:n}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],s=this.parentReference[e.id];if(void 0===i||void 0===s)return!1;for(var o=0;o<i.length;o++)for(var n=0;n<s.length;n++)if(i[o]==s[n])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return(0,n.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,s=this.distributionOrdering[e];for(var o in s)if(s[o]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),f=function(){function t(e){(0,a.default)(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,r.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){t.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}}))}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,s=i.enabled;if(l.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),l.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===i.enabled)return!0===s&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===s)return this.body.emitter.emit("refresh"),l.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===(0,o.default)(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var s=t.edges.smooth;void 0!==s.type&&"dynamic"!==s.type&&(i=s.type),this.optionsBackup.edges={smooth:void 0===s.enabled||s.enabled,type:void 0===s.type?"dynamic":s.type,roundness:void 0===s.roundness?.5:s.roundness,forceDirection:void 0!==s.forceDirection&&s.forceDirection},t.edges.smooth={enabled:void 0===s.enabled||s.enabled,type:i,roundness:void 0===s.roundness?.5:s.roundness,forceDirection:void 0!==s.forceDirection&&s.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,i=0;i<t.length;i++){var s=t[i],o=2*Math.PI*this.seededRandom();void 0===s.x&&(s.x=e*Math.cos(o)),void 0===s.y&&(s.y=e*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){var s=0,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>150){for(var n=t.length;t.length>150&&s<=10;){s+=1;var a=t.length;if(s%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),a==t.length&&s%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*n)})}s>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var r=0;r<t.length;r++){var h=this.body.nodes[t[r]];!1===h.predefinedPosition&&(h.x+=70*(.5-this.seededRandom()),h.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=d.getRangeCore(this.body.nodes,this.body.nodeIndices),e=d.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var s=this.body.nodes[this.body.nodeIndices[i]];s.x-=e.x,s.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,i=!1,s=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new m,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(void 0!==(t=this.body.nodes[e]).options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):s=!0);if(!0===s&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===s){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.hierarchical.ensureLevel(n);var a=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(a),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},o=function(e,i){var s=t.hierarchical.trees;for(var o in s)s.hasOwnProperty(o)&&s[o]===e&&t.direction.shift(o,i)},n=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e},a=function e(i,s){if(!s[i.id]&&(s[i.id]=!0,t.hierarchical.childrenReference[i.id])){var o=t.hierarchical.childrenReference[i.id];if(o.length>0)for(var n=0;n<o.length;n++)e(t.body.nodes[o[n]],s)}},r=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,o=1e9,n=1e9,a=1e9,r=-1e9;for(var h in e)if(e.hasOwnProperty(h)){var l=t.body.nodes[h],d=t.hierarchical.levels[l.id],c=t.direction.getPosition(l),u=t._getSpaceAroundNode(l,e),p=(0,s.default)(u,2),m=p[0],f=p[1];o=Math.min(m,o),n=Math.min(f,n),d<=i&&(a=Math.min(c,a),r=Math.max(c,r))}return[a,r,o,n]},h=function(e,i){var s=t.hierarchical.getMaxLevel(e.id),o=t.hierarchical.getMaxLevel(i.id);return Math.min(s,o)},l=function(e,i,s){for(var o=t.hierarchical,n=0;n<i.length;n++){var a=i[n],r=o.distributionOrdering[a];if(r.length>1)for(var h=0;h<r.length-1;h++){var l=r[h],d=r[h+1];o.hasSameParent(l,d)&&o.inSameSubNetwork(l,d)&&e(l,d,s)}}},d=function(i,s){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.direction.getPosition(i),l=t.direction.getPosition(s),d=Math.abs(l-n),c=t.options.hierarchical.nodeSpacing;if(d>c){var u={},p={};a(i,u),a(s,p);var m=h(i,s),f=r(u,m),g=r(p,m),v=f[1],y=g[0],b=g[2],x=Math.abs(v-y);if(x>c){var w=v-y+c;w<-b+c&&(w=-b+c),w<0&&(t._shiftBlock(s.id,w),e=!0,!0===o&&t._centerParent(s))}}},c=function(o,n){for(var h=n.id,l=n.edges,d=t.hierarchical.levels[n.id],c=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,u={},p=[],m=0;m<l.length;m++){var f=l[m];if(f.toId!=f.fromId){var g=f.toId==h?f.from:f.to;u[l[m].id]=g,t.hierarchical.levels[g.id]<d&&p.push(f)}}var v=function(e,i){for(var s=0,o=0;o<i.length;o++)if(void 0!==u[i[o].id]){var n=t.direction.getPosition(u[i[o].id])-e;s+=n/Math.sqrt(n*n+c)}return s},y=function(e,i){for(var s=0,o=0;o<i.length;o++)if(void 0!==u[i[o].id]){var n=t.direction.getPosition(u[i[o].id])-e;s-=c*Math.pow(n*n+c,-1.5)}return s},b=function(e,i){for(var s=t.direction.getPosition(n),o={},a=0;a<e;a++){var r=v(s,i),h=y(s,i);if(void 0!==o[s-=Math.max(-40,Math.min(40,Math.round(r/h)))])break;o[s]=a}return s},x=b(o,p);!function(s){var o=t.direction.getPosition(n);if(void 0===i[n.id]){var h={};a(n,h),i[n.id]=h}var l=r(i[n.id]),d=l[2],c=l[3],u=s-o,p=0;u>0?p=Math.min(u,c-t.options.hierarchical.nodeSpacing):u<0&&(p=-Math.min(-u,d-t.options.hierarchical.nodeSpacing)),0!=p&&(t._shiftBlock(n.id,p),e=!0)}(x),function(i){var o=t.direction.getPosition(n),a=t._getSpaceAroundNode(n),r=(0,s.default)(a,2),h=r[0],l=r[1],d=i-o,c=o;d>0?c=Math.min(o+(l-t.options.hierarchical.nodeSpacing),i):d<0&&(c=Math.max(o-(h-t.options.hierarchical.nodeSpacing),i)),c!==o&&(t.direction.setPosition(n,c),e=!0)}(x=b(o,l))};!0===this.options.hierarchical.blockShifting&&(function(i){var s=t.hierarchical.getLevels();s=s.reverse();for(var o=0;o<i&&(e=!1,l(d,s,!0),!0===e);o++);}(5),function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var s=t.hierarchical.getLevels();s=s.reverse();for(var o=0;o<i;o++){e=!1;for(var n=0;n<s.length;n++)for(var a=s[n],r=t.hierarchical.distributionOrdering[a],h=0;h<r.length;h++)c(1e3,r[h]);if(!0!==e)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=e.reverse();for(var i=0;i<e.length;i++)for(var s=e[i],o=t.hierarchical.distributionOrdering[s],n=0;n<o.length;n++)t._centerParent(o[n])}(),function(){for(var e=n(),i=0,s=0;s<e.length-1;s++)i+=e[s].max-e[s+1].min+t.options.hierarchical.treeSpacing,o(s+1,i)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var s=this.hierarchical.levels[t.id];if(void 0!==s){var o=this.hierarchical.distributionIndex[t.id],n=this.direction.getPosition(t),a=this.hierarchical.distributionOrdering[s],r=1e9,h=1e9;if(0!==o){var l=a[o-1];(!0===i&&void 0===e[l.id]||!1===i)&&(r=n-this.direction.getPosition(l))}if(o!=a.length-1){var d=a[o+1];if(!0===i&&void 0===e[d.id]||!1===i){var c=this.direction.getPosition(d);h=Math.min(h,c-n)}}return[r,h]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var o=e[i],n=this.body.nodes[o],a=this.hierarchical.childrenReference[o];if(void 0!==a){var r=this._getCenterPosition(a),h=this.direction.getPosition(n),l=this._getSpaceAroundNode(n),d=(0,s.default)(l,2),c=d[0],u=d[1],p=h-r;(p<0&&Math.abs(p)<u-this.options.hierarchical.nodeSpacing||p>0&&Math.abs(p)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(n,r)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var i=(0,n.default)(t[e]);i=this._indexArrayToNodes(i),this.direction.sort(i);for(var s=0,o=0;o<i.length;o++){var a=i[o];if(void 0===this.positionedNodes[a.id]){var r=this.options.hierarchical.nodeSpacing,h=r*s;s>0&&(h=this.direction.getPosition(i[o-1])+r),this.direction.setPosition(a,h,e),this._validatePositionAndContinue(a,e,h),s++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i=this.hierarchical.childrenReference[t];if(void 0!==i){for(var s=[],o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);this.direction.sort(s);for(var n=0;n<s.length;n++){var a=s[n],r=this.hierarchical.levels[a.id];if(!(r>e&&void 0===this.positionedNodes[a.id]))return;var h=this.options.hierarchical.nodeSpacing,l=void 0;l=0===n?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(s[n-1])+h,this.direction.setPosition(a,l,r),this._validatePositionAndContinue(a,r,l)}var d=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[t],d,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var s=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-s<this.options.hierarchical.nodeSpacing){var o=s+this.options.hierarchical.nodeSpacing-i,n=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(n.withChild,o)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,i=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){i=this.body.nodes[e];var s=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(i,s),void 0===t[s]&&(t[s]={}),t[s][e]=i}return t}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return l.forEach(t.edges,(function(t){-1!==e.body.edgeIndices.indexOf(t.id)&&i.push(t)})),i}},{key:"_getHubSizes",value:function(){var t=this,e={},i=this.body.nodeIndices;l.forEach(i,(function(i){var s=t.body.nodes[i],o=t._getActiveEdges(s).length;e[o]=!0}));var s=[];return l.forEach(e,(function(t){s.push(Number(t))})),s.sort((function(t,e){return e-t})),s}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),s=function(s){var o=i[s];if(0===o)return"break";l.forEach(t.body.nodeIndices,(function(i){var s=t.body.nodes[i];o===t._getActiveEdges(s).length&&t._crawlNetwork(e,i)}))},o=0;o<i.length&&"break"!==s(o);++o);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork((function(e,i,s){var o=t.hierarchical.levels[e.id];void 0===o&&(o=t.hierarchical.levels[e.id]=1e5);var n=(d.cloneOptions(e,"node"),d.cloneOptions(i,"node"),void d.cloneOptions(s,"edge"));t.hierarchical.levels[i.id]=o+n})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t=this;this._crawlNetwork((function(e,i,s){var o=t.hierarchical.levels[e.id],n=t.hierarchical.levels[i.id];(function(e){return l.forEach(t.body.edges,(function(t){if(t.toId===e.fromId&&t.fromId===e.toId)return!0})),!1})(s)&&void 0!==o&&void 0!==n||(void 0===o&&(o=t.hierarchical.levels[e.id]=1e4),s.toId==i.id?t.hierarchical.levels[i.id]=o+1:t.hierarchical.levels[i.id]=o-1)})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork((function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments[1],s={},o=function i(o,n){if(void 0===s[o.id]){t.hierarchical.setTreeIndex(o,n),s[o.id]=!0;for(var a=void 0,r=t._getActiveEdges(o),h=0;h<r.length;h++){var l=r[h];!0===l.connected&&(a=l.toId==o.id?l.from:l.to,o.id!=a.id&&(e(o,a,l),i(a,n)))}}};if(void 0===i)for(var n=0,a=0;a<this.body.nodeIndices.length;a++){var r=this.body.nodeIndices[a];if(void 0===s[r]){var h=this.body.nodes[r];o(h,n),n+=1}}else{var l=this.body.nodes[i];if(void 0===l)return void console.error("Node not found:",i);o(l)}}},{key:"_shiftBlock",value:function(t,e){var i=this,s={};!function t(o){if(!s[o]){s[o]=!0,i.direction.shift(o,e);var n=i.hierarchical.childrenReference[o];if(void 0!==n)for(var a=0;a<n.length;a++)t(n[a])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,s={};return function t(e,s){var o=i.hierarchical.parentReference[s];if(void 0!==o)for(var n=0;n<o.length;n++){var a=o[n];e[a]=!0,t(e,a)}}(s,t),function t(e,s){var o=i.hierarchical.parentReference[s];if(void 0!==o)for(var n=0;n<o.length;n++){var a=o[n];if(void 0!==e[a])return{foundParent:a,withChild:s};var r=t(e,a);if(null!==r.foundParent)return r}return{foundParent:null,withChild:s}}(s,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new p(this):new u(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,s=0;s<t.length;s++){var o=void 0;if(void 0!==t[s].id)o=t[s];else{var n=t[s];o=this.body.nodes[n]}var a=this.direction.getPosition(o);e=Math.min(e,a),i=Math.max(i,a)}return.5*(e+i)}}]),t}();e.default=f},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalStrategy=e.HorizontalStrategy=void 0;var s=h(i(3)),o=h(i(4)),n=h(i(5)),a=h(i(0)),r=h(i(1));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(){(0,a.default)(this,t)}return(0,r.default)(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),d=function(t){function e(t){(0,a.default)(this,e);var i=(0,o.default)(this,(e.__proto__||(0,s.default)(e)).call(this));return i.layout=t,i}return(0,n.default)(e,t),(0,r.default)(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){t.sort((function(t,e){return void 0===t.x||void 0===e.x?0:t.x-e.x}))}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(l),c=function(t){function e(t){(0,a.default)(this,e);var i=(0,o.default)(this,(e.__proto__||(0,s.default)(e)).call(this));return i.layout=t,i}return(0,n.default)(e,t),(0,r.default)(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){t.sort((function(t,e){return void 0===t.y||void 0===e.y?0:t.y-e.y}))}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}(l);e.HorizontalStrategy=c,e.VerticalStrategy=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(8)),o=h(i(19)),n=h(i(6)),a=h(i(0)),r=h(i(1));function h(t){return t&&t.__esModule?t:{default:t}}var l=i(2),d=i(10),c=i(37),u=function(){function t(e,i,s){var o=this;(0,a.default)(this,t),this.body=e,this.canvas=i,this.selectionHandler=s,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},l.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){o._clean()})),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,r.default)(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,l.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=t+e,s=this.options.locales[this.options.locale],o=!1;!1!==this.options.addNode&&(this._createAddNodeButton(s),o=!0),!1!==this.options.addEdge&&(!0===o?this._createSeperator(1):o=!0,this._createAddEdgeButton(s)),1===t&&"function"==typeof this.options.editNode?(!0===o?this._createSeperator(2):o=!0,this._createEditNodeButton(s)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===o?this._createSeperator(3):o=!0,this._createEditEdgeButton(s)),0!==i&&(t>0&&!1!==this.options.deleteNode||0===t&&!1!==this.options.deleteEdge)&&(!0===o&&this._createSeperator(4),this._createDeleteButton(s)),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=l.deepExtend({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,(function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,n.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var e=this.body.edges[this.edgeBeingEditedId],i=this._getNewTargetNode(e.from.x,e.from.y),s=this._getNewTargetNode(e.to.x,e.to.y);this.temporaryIds.nodes.push(i.id),this.temporaryIds.nodes.push(s.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this.body.nodes[s.id]=s,this.body.nodeIndices.push(s.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(t){var o=e.edgeType.findBorderPositions(t);!1===i.selected&&(i.x=o.from.x,i.y=o.from.y),!1===s.selected&&(s.x=o.to.x,s.y=o.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from,o.to)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),s=void 0;if(e.length>0){for(var o=0;o<e.length;o++)if(!0===this.body.nodes[e[o]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(s=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(s=this.options.deleteEdge);if("function"==typeof s){var n={nodes:e,edges:i};if(2!==s.length)throw new Error("The function for delete does not support two arguments (data, callback)");s(n,(function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=l.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+l.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var s=this.body.functions.createNode(i);return s.shape.boundingBox={left:t,right:t,top:e,bottom:e},s}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},l.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(l.recursiveDOMDelete(this.editModeDiv),l.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),l.recursiveDOMDelete(this.manipulationDiv),l.recursiveDOMDelete(this.editModeDiv),l.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e;e=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete";var i=this._createButton("delete",e,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=s,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,o.default)((0,s.default)(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new d(t,{});c.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var s=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==s&&this.body.nodeIndices.splice(s,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=l.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),s=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],n=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var a=s.isOverlappingWith(i),r=o.isOverlappingWith(i);!0===a?(this.selectedControlNode=s,n.edgeType.from=s):!0===r&&(this.selectedControlNode=o,n.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y;else{var s=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+s,y:this.lastTouch.translation.y+o}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),s=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),n=void 0,a=o.length-1;a>=0;a--)if(o[a]!==this.selectedControlNode.id){n=this.body.nodes[o[a]];break}if(void 0!==n&&void 0!==this.selectedControlNode)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var r=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===r.id?this._performEditEdge(n.id,s.to.id):this._performEditEdge(s.from.id,n.id)}else s.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=l.extend({},this.body.view.translation);var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var s=this._getNewTargetNode(i.x,i.y);this.body.nodes[s.id]=s,this.body.nodeIndices.push(s.id);var o=this.body.functions.createEdge({id:"connectionEdge"+l.randomUUID(),from:i.id,to:s.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(s.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(e.x),i.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else{var s=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+s,y:this.lastTouch.translation.y+o}}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),s=void 0;void 0!==this.temporaryIds.edges[0]&&(s=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),n=void 0,a=o.length-1;a>=0;a--)if(-1===this.temporaryIds.nodes.indexOf(o[a])){n=this.body.nodes[o[a]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==n&&(!0===n.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[s]&&void 0!==this.body.nodes[n.id]&&this._performAddEdge(s,n.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:l.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,(function(t){null!=t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())}))}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,s={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(s,(function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,s={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},o=this.options.editEdge;if("object"===(void 0===o?"undefined":(0,n.default)(o))&&(o=o.editWithoutDrag),"function"==typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(s,(function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[s.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e.default=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=r(i(30)),o=r(i(0)),n=r(i(1)),a=r(i(239));function r(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i,s){(0,o.default)(this,t),this.body=e,this.springLength=i,this.springConstant=s,this.distanceSolver=new a.default}return(0,n.default)(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var n=.01,a=1,r=0,h=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5,d=1e9,c=0,u=0,p=0,m=0,f=0;d>n&&r<h;){r+=1;var g=this._getHighestEnergyNode(i),v=(0,s.default)(g,4);for(c=v[0],d=v[1],u=v[2],p=v[3],m=d,f=0;m>a&&f<l;){f+=1,this._moveNode(c,u,p);var y=this._getEnergy(c),b=(0,s.default)(y,3);m=b[0],u=b[1],p=b[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=0,n=e[0],a=0,r=0,h=0;h<e.length;h++){var l=e[h];if(!1===i[l].predefinedPosition||!0===i[l].isCluster&&!0===t||!0===i[l].options.fixed.x||!0===i[l].options.fixed.y){var d=this._getEnergy(l),c=(0,s.default)(d,3),u=c[0],p=c[1],m=c[2];o<u&&(o=u,n=l,a=p,r=m)}}return[n,o,a,r]}},{key:"_getEnergy",value:function(t){var e=(0,s.default)(this.E_sums[t],2),i=e[0],o=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),i,o]}},{key:"_moveNode",value:function(t,e,i){for(var s=this.body.nodeIndices,o=this.body.nodes,n=0,a=0,r=0,h=o[t].x,l=o[t].y,d=this.K_matrix[t],c=this.L_matrix[t],u=0;u<s.length;u++){var p=s[u];if(p!==t){var m=o[p].x,f=o[p].y,g=d[p],v=c[p],y=1/Math.pow(Math.pow(h-m,2)+Math.pow(l-f,2),1.5);n+=g*(1-v*Math.pow(l-f,2)*y),a+=g*(v*(h-m)*(l-f)*y),r+=g*(1-v*Math.pow(h-m,2)*y)}}var b=(e/n+i/a)/(a/n-r/a),x=-(a*b+e)/n;o[t].x+=x,o[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var s=0;s<e.length;s++){this.L_matrix[e[s]]={};for(var o=0;o<e.length;o++)this.L_matrix[e[s]][e[o]]=i*t[e[s]][e[o]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var s=0;s<e.length;s++){this.K_matrix[e[s]]={};for(var o=0;o<e.length;o++)this.K_matrix[e[s]][e[o]]=i*Math.pow(t[e[s]][e[o]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var s=0;s<t.length;s++){for(var o=t[s],n=e[o].x,a=e[o].y,r=0,h=0,l=s;l<t.length;l++){var d=t[l];if(d!==o){var c=e[d].x,u=e[d].y,p=1/Math.sqrt(Math.pow(n-c,2)+Math.pow(a-u,2));this.E_matrix[o][l]=[this.K_matrix[o][d]*(n-c-this.L_matrix[o][d]*(n-c)*p),this.K_matrix[o][d]*(a-u-this.L_matrix[o][d]*(a-u)*p)],this.E_matrix[d][s]=this.E_matrix[o][l],r+=this.E_matrix[o][l][0],h+=this.E_matrix[o][l][1]}}this.E_sums[o]=[r,h]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,s=this.E_matrix[t],o=this.K_matrix[t],n=this.L_matrix[t],a=i[t].x,r=i[t].y,h=0,l=0,d=0;d<e.length;d++){var c=e[d];if(c!==t){var u=s[d],p=u[0],m=u[1],f=i[c].x,g=i[c].y,v=1/Math.sqrt(Math.pow(a-f,2)+Math.pow(r-g,2)),y=o[c]*(a-f-n[c]*(a-f)*v),b=o[c]*(r-g-n[c]*(r-g)*v);s[d]=[y,b],h+=y,l+=b;var x=this.E_sums[c];x[0]+=y-p,x[1]+=b-m}}this.E_sums[t]=[h,l]}}]),t}();e.default=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),o=n(i(1));function n(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(){(0,s.default)(this,t)}return(0,o.default)(t,[{key:"getDistances",value:function(t,e,i){for(var s={},o=t.edges,n=0;n<e.length;n++){var a={};s[e[n]]=a;for(var r=0;r<e.length;r++)a[e[r]]=n==r?0:1e9}for(var h=0;h<i.length;h++){var l=o[i[h]];!0===l.connected&&void 0!==s[l.fromId]&&void 0!==s[l.toId]&&(s[l.fromId][l.toId]=1,s[l.toId][l.fromId]=1)}for(var d=e.length,c=0;c<d;c++)for(var u=e[c],p=s[u],m=0;m<d-1;m++)for(var f=e[m],g=s[f],v=m+1;v<d;v++){var y=e[v],b=s[y],x=Math.min(g[y],g[u]+p[y]);g[y]=x,b[f]=x}return s}}]),t}();e.default=a}])},t.exports=s()},function(t,e,i){var s;!function(){function i(t,e){t.prototype=function(t){function e(){}return e.prototype=t,new e}(e.prototype),t.prototype.constructor=t,t.base=e.prototype}function o(t,e,i){return"millisecond"===i?t.setMilliseconds(t.getMilliseconds()+1*e):"second"===i?t.setSeconds(t.getSeconds()+1*e):"minute"===i?t.setMinutes(t.getMinutes()+1*e):"hour"===i?t.setHours(t.getHours()+1*e):"day"===i?t.setDate(t.getDate()+1*e):"week"===i?t.setDate(t.getDate()+7*e):"month"===i?t.setMonth(t.getMonth()+1*e):"year"===i&&t.setFullYear(t.getFullYear()+1*e),t}function n(t,e){var i=!1;for(0>t&&(i=!0,t*=-1),t=""+t,e=e||1;t.length<e;)t="0"+t;return i?"-"+t:t}function a(t){if(!t)return t;for(var e=/\s/,i=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(--i)););return t.slice(0,i+1)}function r(t){t.roundRect=function(t,e,i,s,o,n,a,r){a&&(this.fillStyle=a),r&&(this.strokeStyle=r),void 0===o&&(o=5),this.lineWidth=n,this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+i-o,e),this.quadraticCurveTo(t+i,e,t+i,e+o),this.lineTo(t+i,e+s-o),this.quadraticCurveTo(t+i,e+s,t+i-o,e+s),this.lineTo(t+o,e+s),this.quadraticCurveTo(t,e+s,t,e+s-o),this.lineTo(t,e+o),this.quadraticCurveTo(t,e,t+o,e),this.closePath(),a&&this.fill(),r&&0<n&&this.stroke()}}function h(t,e){return t-e}function l(t,e,i){if(t&&e&&i){i=i+"."+e;var s="image/"+e;t=t.toDataURL(s);var o=!1,n=document.createElement("a");if(n.download=i,n.href=t,"undefined"!=typeof Blob&&new Blob){for(var a=t.replace(/^data:[a-z\/]*;base64,/,""),r=(a=atob(a),new ArrayBuffer(a.length)),h=(r=new Uint8Array(r),0);h<a.length;h++)r[h]=a.charCodeAt(h);e=new Blob([r.buffer],{type:"image/"+e});try{window.navigator.msSaveBlob(e,i),o=!0}catch(t){n.dataset.downloadurl=[s,n.download,n.href].join(":"),n.href=window.URL.createObjectURL(e)}}if(!o)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent?n.dispatchEvent(event):n.fireEvent&&n.fireEvent("onclick")}catch(i){(e=window.open()).document.write("<img src='"+t+"'></img><div>Please right click on the image and save it to your device</div>"),e.document.close()}}}function d(t){var e=((16711680&t)>>16).toString(16),i=((65280&t)>>8).toString(16);return t=((255&t)>>0).toString(16),"#"+(e=2>e.length?"0"+e:e)+(i=2>i.length?"0"+i:i)+(t=2>t.length?"0"+t:t)}function c(t,e){var i,s=this.length>>>0;for(0>(i=0>(i=Number(e)||0)?Math.ceil(i):Math.floor(i))&&(i+=s);i<s;i++)if(i in this&&this[i]===t)return i;return-1}function u(t){return null==t}function p(t){return t.indexOf||(t.indexOf=c),t}function m(t){R.fSDec&&t[ut("`eeDwdouMhrudods")](ut("e`u`@ohl`uhnoHuds`uhnoDoe"),(function(){R._fTWm&&R._fTWm(t)}))}function f(t,e,i){var s=t+"_"+e+"_"+(i=i||"normal"),o=tt[s];if(isNaN(o)){try{if(t="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+t+"; font-size:"+e+"px; font-weight:"+i+";",!et){var n=document.body;(et=document.createElement("span")).innerHTML="";var a=document.createTextNode("Mpgyi");et.appendChild(a),n.appendChild(et)}et.style.display="",et.setAttribute("style",t),o=Math.round(et.offsetHeight),et.style.display="none"}catch(t){o=Math.ceil(1.1*e)}o=Math.max(o,e),tt[s]=o}return o}function g(t,e){var i=[];if(i={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[t||"solid"])for(var s=0;s<i.length;s++)i[s]*=e;else i=[];return i}function v(t,e,i,s,o){return o=o||!1,(s=s||[]).push([t,e,i,o]),t.addEventListener?(t.addEventListener(e,i,o),i):!!t.attachEvent&&(s=function(e){(e=e||window.event).preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},i.call(t,e)},t.attachEvent("on"+e,s),s)}function y(t,e,i){for(t*=dt,e*=dt,t=i.getImageData(t,e,2,2).data,e=!0,i=0;4>i;i++)if(t[i]!==t[i+4]|t[i]!==t[i+8]|t[i]!==t[i+12]){e=!1;break}return e?t[0]<<16|t[1]<<8|t[2]:0}function b(t,e,i){return t in e?e[t]:i[t]}function x(t,e,i){if(Y&&rt){var s=t.getContext("2d");lt=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1,dt=ht/lt,t.width=e*dt,t.height=i*dt,ht!==lt&&(t.style.width=e+"px",t.style.height=i+"px",s.scale(dt,dt))}else t.width=e,t.height=i}function w(t){if(!mt){var e=!1,i=!1;void 0===H.Chart.creditHref?(t.creditHref=ut("iuuqr;..b`ow`rkr/bnl."),t.creditText=ut("B`ow`rKR/bnl")):(e=t.updateOption("creditText"),i=t.updateOption("creditHref")),t.creditHref&&t.creditText&&(t._creditLink||(t._creditLink=document.createElement("a"),t._creditLink.setAttribute("class","canvasjs-chart-credit"),t._creditLink.setAttribute("title","JavaScript Charts"),t._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(t.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),t._creditLink.setAttribute("tabIndex",-1),t._creditLink.setAttribute("target","_blank")),(0===t.renderCount||e||i)&&(t._creditLink.setAttribute("href",t.creditHref),t._creditLink.innerHTML=t.creditText),t._creditLink&&t.creditHref&&t.creditText?(t._creditLink.parentElement||t._canvasJSContainer.appendChild(t._creditLink),t._creditLink.style.top=t.height-14+"px"):t._creditLink.parentElement&&t._canvasJSContainer.removeChild(t._creditLink))}}function _(t,e){V&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var i=document.createElement("canvas");return i.setAttribute("class","canvasjs-chart-canvas"),x(i,t,e),Y||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(i),i}function k(t,e,i){for(var s in i)e.style[s]=i[s]}function M(t,e,i){e.getAttribute("state")||(e.style.backgroundColor=t.toolbar.backgroundColor,e.style.color=t.toolbar.fontColor,e.style.border="none",k(0,e,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),e.getAttribute("state")!==i&&(e.setAttribute("state",i),e.setAttribute("type","button"),k(0,e,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),e.setAttribute("title",t._cultureInfo[i+"Text"]),e.innerHTML="<img style='height:95%; pointer-events: none;' src='"+ft[i].image+"' alt='"+t._cultureInfo[i+"Text"]+"' />")}function T(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e]).style&&(t.style.display="inline")}function C(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e])&&t.style&&(t.style.display="none")}function S(t,e,i,s,o){this._defaultsKey=t,this._themeOptionsKey=e,this._index=s,this.parent=o,this._eventListeners=[],t={},this.theme&&u(e)&&u(s)?t=u(Q[this.theme])?Q.light1:Q[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[e]&&(null===s?t=this.parent.themeOptions[e]:0<this.parent.themeOptions[e].length&&(s=Math.min(this.parent.themeOptions[e].length-1,s),t=this.parent.themeOptions[e][s])),this.themeOptions=t,this.options=i||{_isPlaceholder:!0},this.setOptions(this.options,t)}function P(t,e,i,s,o){void 0===o&&(o=0),this._padding=o,this._x1=t,this._y1=e,this._x2=i,this._y2=s,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function D(t,e){D.base.constructor.call(this,"TextBlock",null,e,null,null),this.ctx=t,this._isDirty=!0,this._wrappedText=null,this._initialize()}function A(t,e){A.base.constructor.call(this,"Toolbar","toolbar",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function I(t,e){if(I.base.constructor.call(this,"Title","title",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="title",u(this.options.margin)&&t.options.subtitles)for(var i=t.options.subtitles,s=0;s<i.length;s++)if((u(i[s].horizontalAlign)&&"center"===this.horizontalAlign||i[s].horizontalAlign===this.horizontalAlign)&&(u(i[s].verticalAlign)&&"top"===this.verticalAlign||i[s].verticalAlign===this.verticalAlign)&&!i[s].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function O(t,e,i){O.base.constructor.call(this,"Subtitle","subtitles",e,i,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function B(){this.pool=[]}function F(t){var e;t&&j[t]&&(e=j[t]),F.base.constructor.call(this,"CultureInfo",null,e,null,null)}var E,L,z,W,N,V=!1,R={},Y=!!document.createElement("canvas").getContext,H={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:Y?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{backgroundColor:"white",backgroundColorOnHover:"#2196f3",borderColor:"#2196f3",borderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:Y?"transparent":null,borderColor:Y?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:Y?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:Y?"transparent":null,titleBorderColor:Y?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:Y?"transparent":null,labelBorderColor:Y?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:Y?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:Y?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:Y?"grey":null,labelBorderColor:Y?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:Y?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:Y?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:Y?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},j={en:{}},X=Y?"Trebuchet MS, Helvetica, sans-serif":"Arial",G=Y?"Impact, Charcoal, sans-serif":"Arial",U={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},q={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:G,fontSize:32,fontColor:L="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:G,fontSize:J=14,fontColor:L,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:X,indexLabelFontSize:J,indexLabelFontColor:L,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:X,titleFontSize:Z=20,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:E="#666666",tickThickness:1,tickColor:E,gridThickness:0,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:N=W="#000000",color:W,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z,labelFontWeight:"normal",lineThickness:1,lineColor:E,tickThickness:1,tickColor:E,gridThickness:0,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:N,color:W,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z,labelFontWeight:"normal",lineThickness:1,lineColor:E,tickThickness:1,tickColor:E,gridThickness:1,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:N,color:W,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z,labelFontWeight:"normal",lineThickness:1,lineColor:E,tickThickness:1,tickColor:E,gridThickness:1,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:N,color:W,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:X,fontSize:14,fontColor:L,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:X,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};z=L="#F5F5F5",E="#FFFFFF",W="#40BAF1",N="#F5F5F5";var K={colorSet:"colorSet2",title:{fontFamily:X,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:X,fontSize:J=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:X,indexLabelFontSize:J,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:X,titleFontSize:Z=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:X,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:X,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};z=L="#F5F5F5",G={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:G,fontSize:32,fontColor:L,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:G,fontSize:J=14,fontColor:L,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:X,indexLabelFontSize:J,indexLabelFontColor:z,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:X,titleFontSize:Z=20,titleFontColor:z,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z,labelFontWeight:"normal",lineThickness:1,lineColor:E="#FFFFFF",tickThickness:1,tickColor:E,gridThickness:0,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:N="#F5F5F5",color:W="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:z,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z,labelFontWeight:"normal",lineThickness:1,lineColor:E,tickThickness:1,tickColor:E,gridThickness:0,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:N,color:W,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:z,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z,labelFontWeight:"normal",lineThickness:1,lineColor:E,tickThickness:1,tickColor:E,gridThickness:1,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:N,color:W,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:z,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z,labelFontWeight:"normal",lineThickness:1,lineColor:E,tickThickness:1,tickColor:E,gridThickness:1,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:N,color:W,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:X,fontSize:14,fontColor:L,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:X,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:z,backgroundColor:"rgba(0, 0, 0, .7)"}},z=L="#FAFAFA";var Z,J,Q={light1:q,light2:K,dark1:G,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:X,fontSize:32,fontColor:L,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:X,fontSize:J=14,fontColor:L,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:X,indexLabelFontSize:J,indexLabelFontColor:z,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:X,titleFontSize:Z=20,titleFontColor:z,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z,labelFontWeight:"normal",lineThickness:1,lineColor:E="#FFFFFF",tickThickness:1,tickColor:E,gridThickness:0,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:N="#F5F5F5",color:W="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:z,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z,labelFontWeight:"normal",lineThickness:1,lineColor:E,tickThickness:1,tickColor:E,gridThickness:0,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:N,color:W,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:z,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z,labelFontWeight:"normal",lineThickness:0,lineColor:E,tickThickness:1,tickColor:E,gridThickness:1,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:N,color:W,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:X,titleFontSize:Z,titleFontColor:z,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:J,labelFontColor:z,labelFontWeight:"normal",lineThickness:0,lineColor:E,tickThickness:1,tickColor:E,gridThickness:1,gridColor:E,stripLines:[{labelFontFamily:X,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:N,color:W,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:X,fontSize:14,fontColor:L,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:X,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:z,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:q,theme2:K,theme3:q},$={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};R.fSDec=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(i));return e},R.obj={trVs:"Ush`m!Wdsrhno",fntStr:"qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg",txtBl:"udyuC`rdmhod",fnt:"gnou",fSy:"ghmmRuxmd",fTx:"ghmmUdyu",grClr:"fsdx",cntx:"buy",tp:"unq"},delete H[R.fSDec("Bi`su")][R.fSDec("bsdehuIsdg")],R.pro={sCH:H[R.fSDec("Bi`su")][R.fSDec("bsdehuIsdg")]},R._fTWm=function(t){if(void 0===R.pro.sCH&&!pt)try{var e=t[R.fSDec(R.obj.cntx)];e[R.fSDec(R.obj.txtBl)]=R.fSDec(R.obj.tp),e[R.fSDec(R.obj.fnt)]=11+R.fSDec(R.obj.fntStr),e[R.fSDec(R.obj.fSy)]=R.fSDec(R.obj.grClr),e[R.fSDec(R.obj.fTx)](R.fSDec(R.obj.trVs),2,t.height-11-2)}catch(t){}};var tt={},et=null,it=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},st=function(t,e,i){return e=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=e?12:10,Math.round(e*(t/400)))},ot=function(){var t=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),i="Sun Mon Tue Wed Thu Fri Sat".split(" "),s="January February March April May June July August September October November December".split(" "),o="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g;return function(h,l,d){var c=d?d.days:e,u=d?d.months:s,p=d?d.shortDays:i,m=d?d.shortMonths:o;d="";var f=!1;if(h=h&&h.getTime?h:h?new Date(h):new Date,isNaN(h))throw SyntaxError("invalid date");"UTC:"===l.slice(0,4)&&(l=l.slice(4),f=!0);var g=h[(d=f?"getUTC":"get")+"Date"](),v=h[d+"Day"](),y=h[d+"Month"](),b=h[d+"FullYear"](),x=h[d+"Hours"](),w=h[d+"Minutes"](),_=h[d+"Seconds"](),k=h[d+"Milliseconds"](),M=f?0:h.getTimezoneOffset();return l.replace(t,(function(t){switch(t){case"D":return g;case"DD":return n(g,2);case"DDD":return p[v];case"DDDD":return c[v];case"M":return y+1;case"MM":return n(y+1,2);case"MMM":return m[y];case"MMMM":return u[y];case"Y":return parseInt(String(b).slice(-2));case"YY":return n(String(b).slice(-2),2);case"YYY":return n(String(b).slice(-3),3);case"YYYY":return n(b,4);case"h":return x%12||12;case"hh":return n(x%12||12,2);case"H":return x;case"HH":return n(x,2);case"m":return w;case"mm":return n(w,2);case"s":return _;case"ss":return n(_,2);case"f":return String(k).slice(0,1);case"ff":return n(String(k).slice(0,2),2);case"fff":return n(String(k).slice(0,3),3);case"t":return 12>x?"a":"p";case"tt":return 12>x?"am":"pm";case"T":return 12>x?"A":"P";case"TT":return 12>x?"AM":"PM";case"K":return f?"UTC":(String(h).match(a)||[""]).pop().replace(r,"");case"z":return(0<M?"-":"+")+Math.floor(Math.abs(M)/60);case"zz":return(0<M?"-":"+")+n(Math.floor(Math.abs(M)/60),2);case"zzz":return(0<M?"-":"+")+n(Math.floor(Math.abs(M)/60),2)+n(Math.abs(M)%60,2);default:return t.slice(1,t.length-1)}}))}}(),nt=function(t,e,i){if(null===t)return"";if(!isFinite(t))return t;var s=0>(t=Number(t));s&&(t*=-1);var o=i?i.decimalSeparator:".",a=i?i.digitGroupSeparator:",",r="";e=String(e);r=1;var h=i="",l=-1,d=[],c=[],u=0,p=0,m=0,f=!1,g=0;h=e.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);e=null;for(var v=0;h&&v<h.length;v++)if("."===(e=h[v])&&0>l)l=v;else{if("%"===e)r*=100;else{if(""===e){r*=1e3;continue}if(","===e[0]&&"."===e[e.length-1]){r/=Math.pow(1e3,e.length-1),l=v+e.length-1;continue}"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||(f=!0)}0>l?(d.push(e),"#"===e||"0"===e?u++:","===e&&m++):(c.push(e),"#"!==e&&"0"!==e||p++)}for(f&&(e=Math.floor(t),h=-Math.floor(Math.log(t)/Math.LN10+1),g=0===t?0:0===e?-(u+h):String(e).length-u,r/=Math.pow(10,g)),0>l&&(l=v),e=(r=(t*r).toFixed(p)).split("."),r=(e[0]+"").split(""),t=(e[1]+"").split(""),r&&"0"===r[0]&&r.shift(),f=h=v=p=l=0;0<d.length;)if("#"===(e=d.pop())||"0"===e)if(++l===u){var y=r;r=[];if("0"===e)for(e=u-p-(y?y.length:0);0<e;)y.unshift("0"),e--;for(;0<y.length;)i=y.pop()+i,0==++f%h&&v===m&&0<y.length&&(i=a+i)}else 0<r.length?(i=r.pop()+i,p++,f++):"0"===e&&(i="0"+i,p++,f++),0==f%h&&v===m&&0<r.length&&(i=a+i);else"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?","===e?(v++,h=f,f=0,0<r.length&&(i=a+i)):i=1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?e.slice(1,e.length-1)+i:e+i:i+=(e=0>g?e.replace("+","").replace("-",""):e.replace("-","")).replace(/[0]+/,(function(t){return n(g,t.length)}));for(a="",d=!1;0<c.length;)"#"===(e=c.shift())||"0"===e?0<t.length&&0!==Number(t.join(""))?(a+=t.shift(),d=!0):"0"===e&&(a+="0",d=!0):1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?a+=e.slice(1,e.length-1):"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?a+=e:a+=(e=0>g?e.replace("+","").replace("-",""):e.replace("-","")).replace(/[0]+/,(function(t){return n(g,t.length)}));return i+=(d?o:"")+a,s?"-"+i:i},at=function(t){var e=0,i=0;return(t=t||window.event).offsetX||0===t.offsetX?(e=t.offsetX,i=t.offsetY):t.layerX||0==t.layerX?(e=t.layerX,i=t.layerY):(e=t.pageX-t.target.offsetLeft,i=t.pageY-t.target.offsetTop),{x:e,y:i}},rt=!0,ht=window.devicePixelRatio||1,lt=1,dt=rt?ht/lt:1,ct=function(t,e,i,s,o,n,a,r,h,l,d,c,u){void 0===u&&(u=1),a=a||0,r=r||"black";var p=15<s-e&&15<o-i?8:.35*Math.min(s-e,o-i);t.beginPath(),t.moveTo(e,i),t.save(),t.fillStyle=n,t.globalAlpha=u,t.fillRect(e,i,s-e,o-i),t.globalAlpha=1,0<a&&(u=0==a%2?0:.5,t.beginPath(),t.lineWidth=a,t.strokeStyle=r,t.moveTo(e,i),t.rect(e-u,i-u,s-e+2*u,o-i+2*u),t.stroke()),t.restore(),!0===h&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+p,i+p),t.lineTo(s-p,i+p),t.lineTo(s,i),t.closePath(),(a=t.createLinearGradient((s+e)/2,i+p,(s+e)/2,i)).addColorStop(0,n),a.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=a,t.fill(),t.restore()),!0===l&&(t.save(),t.beginPath(),t.moveTo(e,o),t.lineTo(e+p,o-p),t.lineTo(s-p,o-p),t.lineTo(s,o),t.closePath(),(a=t.createLinearGradient((s+e)/2,o-p,(s+e)/2,o)).addColorStop(0,n),a.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=a,t.fill(),t.restore()),!0===d&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+p,i+p),t.lineTo(e+p,o-p),t.lineTo(e,o),t.closePath(),(a=t.createLinearGradient(e+p,(o+i)/2,e,(o+i)/2)).addColorStop(0,n),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,t.fill(),t.restore()),!0===c&&(t.save(),t.beginPath(),t.moveTo(s,i),t.lineTo(s-p,i+p),t.lineTo(s-p,o-p),t.lineTo(s,o),(a=t.createLinearGradient(s-p,(o+i)/2,s,(o+i)/2)).addColorStop(0,n),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,a.addColorStop(0,n),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,t.fill(),t.closePath(),t.restore())},ut=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(i));return e},pt=window&&window[ut("mnb`uhno")]&&window[ut("mnb`uhno")].href&&window[ut("mnb`uhno")].href.indexOf&&(-1!==window[ut("mnb`uhno")].href.indexOf(ut("b`ow`rkr/bnl"))||-1!==window[ut("mnb`uhno")].href.indexOf(ut("gdonqhy/bnl"))||-1!==window[ut("mnb`uhno")].href.indexOf(ut("gheemd"))),mt=pt&&-1===window[ut("mnb`uhno")].href.indexOf(ut("gheemd")),ft={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"},handle:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="}};S.prototype.setOptions=function(t,e){if(H[this._defaultsKey]){var i,s=H[this._defaultsKey];for(i in s)"publicProperties"!==i&&s.hasOwnProperty(i)&&(this[i]=t&&i in t?t[i]:e&&i in e?e[i]:s[i])}else V&&window.console&&console.log("defaults not set")},S.prototype.get=function(t){var e=H[this._defaultsKey];return"options"===t?this.options&&this.options._isPlaceholder?null:this.options:e.hasOwnProperty(t)||e.publicProperties&&e.publicProperties.hasOwnProperty(t)?this[t]:void(window.console&&window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},S.prototype.set=function(t,e,i){i=void 0===i||i;var s=H[this._defaultsKey];if("options"===t)this.createUserOptions(e);else{if(!(s.hasOwnProperty(t)||s.publicProperties&&s.publicProperties.hasOwnProperty(t)&&"readWrite"===s.publicProperties[t]))return void(window.console&&(s.publicProperties&&s.publicProperties.hasOwnProperty(t)&&"readOnly"===s.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[t]=e}i&&(this.stockChart||this.chart||this).render()},S.prototype.addTo=function(t,e,i,s){s=void 0===s||s;var o=H[this._defaultsKey];o.hasOwnProperty(t)||o.publicProperties&&o.publicProperties.hasOwnProperty(t)&&"readWrite"===o.publicProperties[t]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[t]&&(this.options[t]=[]),t=this.options[t],i=null==i?t.length:i,t.splice(i,0,e),s&&(this.chart||this).render()):window.console&&(o.publicProperties&&o.publicProperties.hasOwnProperty(t)&&"readOnly"===o.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},S.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var e=this.parent.options[this.optionsName],i=e.length;this.options._isPlaceholder||(p(e),i=e.indexOf(this.options)),this.options=void 0===t?{}:t,e[i]=this.options}else this.options=void 0===t?{}:t,t=this.parent.options,this.optionsName?e=this.optionsName:(e=this._defaultsKey)&&0!==e.length?(i=e.charAt(0).toLowerCase(),1<e.length&&(i=i.concat(e.slice(1))),e=i):e=void 0,t[e]=this.options},S.prototype.remove=function(t){if(t=void 0===t||t,this.isOptionsInArray){var e=this.parent.options[this.optionsName];p(e);var i=e.indexOf(this.options);0<=i&&e.splice(i,1)}else delete this.parent.options[this.optionsName];t&&(this.chart||this).render()},S.prototype.updateOption=function(t){!H[this._defaultsKey]&&V&&window.console&&console.log("defaults not set");var e=H[this._defaultsKey],i={},s=this[t],o=this._themeOptionsKey,n=this._index;return this.theme&&u(o)&&u(n)?i=u(Q[this.theme])?Q.light1:Q[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[o]&&(null===n?i=this.parent.themeOptions[o]:0<this.parent.themeOptions[o].length&&(i=Math.min(this.parent.themeOptions[o].length-1,n),i=this.parent.themeOptions[o][i])),this.themeOptions=i,t in e&&(s=t in this.options?this.options[t]:i&&t in i?i[t]:e[t]),s!==this[t]&&(this[t]=s,!0)},S.prototype.trackChanges=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[t]=this.options[t]},S.prototype.isBeingTracked=function(t){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[t]},S.prototype.hasOptionChanged=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[t]!==this.options[t]},S.prototype.addEventListener=function(t,e,i){t&&e&&(this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push({context:i||this,eventHandler:e}))},S.prototype.removeEventListener=function(t,e){if(t&&e&&this._eventListeners[t])for(var i=this._eventListeners[t],s=0;s<i.length;s++)if(i[s].eventHandler===e){i[s].splice(s,1);break}},S.prototype.removeAllEventListeners=function(){this._eventListeners=[]},S.prototype.dispatchEvent=function(t,e,i){if(t&&this._eventListeners[t]){e=e||{};for(var s=this._eventListeners[t],o=0;o<s.length;o++)s[o].eventHandler.call(s[o].context,e)}"function"==typeof this[t]&&this[t].call(i||this.chart,e)},P.prototype.registerSpace=function(t,e){"top"===t?this._topOccupied+=e.height:"bottom"===t?this._bottomOccupied+=e.height:"left"===t?this._leftOccupied+=e.width:"right"===t&&(this._rightOccupied+=e.width)},P.prototype.unRegisterSpace=function(t,e){"top"===t?this._topOccupied-=e.height:"bottom"===t?this._bottomOccupied-=e.height:"left"===t?this._leftOccupied-=e.width:"right"===t&&(this._rightOccupied-=e.width)},P.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},P.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},i(D,S),D.prototype._initialize=function(){u(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=u(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=u(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=u(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=u(this.padding.left)?0:0|Number(this.padding.left))},D.prototype.render=function(t){if(0!==this.fontSize){t&&this.ctx.save();var e=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var i=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+i),"middle"===this.textBaseline&&(i=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var s=0,o=this.topPadding,n=null;for(this.ctx.roundRect||r(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,i,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,i=0;i<this._wrappedText.lines.length;i++)n=this._wrappedText.lines[i],"right"===this.horizontalAlign?s=(this.width-(this.leftPadding+this.rightPadding))/2-n.width/2+this.leftPadding:"left"===this.horizontalAlign?s=this.leftPadding:"center"===this.horizontalAlign&&(s=(this.width-(this.leftPadding+this.rightPadding))/2-n.width/2+this.leftPadding),this.ctx.fillText(n.text,s,o),o+=n.height;this.ctx.font=e,t&&this.ctx.restore()}},D.prototype.setText=function(t){this.text=t,this._isDirty=!0,this._wrappedText=null},D.prototype.measureText=function(){if(this._lineHeight=f(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},D.prototype._getLineWithWidth=function(t,e,i){if(!(t=String(t)))return{text:"",width:0};var s=i=0,o=t.length-1,n=1/0;for(this.ctx.font=this._getFontString();s<=o;){n=Math.floor((s+o)/2);var a=t.substr(0,n+1);if((i=this.ctx.measureText(a).width)<e)s=n+1;else{if(!(i>e))break;o=n-1}}return i>e&&1<a.length&&(a=a.substr(0,a.length-1),i=this.ctx.measureText(a).width),e=!0,a.length!==t.length&&" "!==t[a.length]||(e=!1),e&&(1<(t=a.split(" ")).length&&t.pop(),a=t.join(" "),i=this.ctx.measureText(a).width),{text:a,width:i}},D.prototype._wrapText=function(){var t=new String(a(String(this.text))),e=[],i=this.ctx.font,s=0,o=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)o=s=0;else for(;0<t.length;){var n=this.maxHeight-(this.topPadding+this.bottomPadding),r=this._getLineWithWidth(t,this.maxWidth-(this.leftPadding+this.rightPadding),!1);r.height=this._lineHeight,e.push(r);var h=o;o=Math.max(o,r.width),s=s+r.height,t=a(t.slice(r.text.length,t.length));n&&s>n&&(s-=(r=e.pop()).height,o=h)}this._wrappedText={lines:e,width:o,height:s},this.width=o+(this.leftPadding+this.rightPadding),this.height=s+(this.topPadding+this.bottomPadding),this.ctx.font=i},D.prototype._getFontString=function(){var t;t=this.fontStyle?this.fontStyle+" ":"",t+=this.fontWeight?this.fontWeight+" ":"",t+=this.fontSize?this.fontSize+"px ":"";var e=this.fontFamily?this.fontFamily+"":"";return!Y&&e&&("'"!==(e=e.split(",")[0])[0]&&'"'!==e[0]&&(e="'"+e+"'")),t+e},i(A,S),i(I,S),I.prototype.setLayout=function(){if(this.text){var t,e,i,s=this.dockInsidePlotArea?this.chart.plotArea:this.chart,o=s.layoutManager.getFreeSpace(),n=o.x1,a=o.y1,r=0,h=0,l=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=o.width-4-l*("center"===this.horizontalAlign?2:1)),h=.5*o.height-this.margin-2,r=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=o.height-4),h=.5*o.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=o.width-4),h=.5*o.height-4)),u(this.padding)||"number"!=typeof this.padding?u(this.padding)||"object"!=typeof this.padding||(i=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,i+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0,i*=1.25):i=2.5*this.padding,this.wrap||(h=Math.min(h,Math.max(1.5*this.fontSize,this.fontSize+i))),i=(h=new D(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:h,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(a=o.y1+2,e="top"):"bottom"===this.verticalAlign&&(a=o.y2-2-i.height,e="bottom"),"left"===this.horizontalAlign?n=o.x1+2:"center"===this.horizontalAlign?n=o.x1+o.width/2-i.width/2:"right"===this.horizontalAlign&&(n=o.x2-2-i.width-l),t=this.horizontalAlign,this.width=i.width,this.height=i.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(n=o.x1+2,a=o.y2-2-(this.maxWidth/2-i.width/2),r=-90,e="left",this.width=i.height,this.height=i.width):"right"===this.horizontalAlign?(n=o.x2-2,a=o.y1+2+(this.maxWidth/2-i.width/2),r=90,e="right",this.width=i.height,this.height=i.width):"center"===this.horizontalAlign&&(a=s.y1+(s.height/2-i.height/2),n=s.x1+(s.width/2-i.width/2),e="center",this.width=i.width,this.height=i.height),t="center"),h.x=n,h.y=a,h.angle=r,h.horizontalAlign=t,this._textBlock=h,s.layoutManager.registerSpace(e,{width:this.width+("left"===e||"right"===e?this.margin+2:0),height:this.height+("top"===e||"bottom"===e?this.margin+2:0)}),this.bounds={x1:n,y1:a,x2:n+this.width,y2:a+this.height},this.ctx.textBaseline="top"}},I.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},i(O,S),O.prototype.setLayout=I.prototype.setLayout,O.prototype.render=I.prototype.render,B.prototype.get=function(t,e){var i=null;return 0<this.pool.length?x(i=this.pool.pop(),t,e):i=_(t,e),i},B.prototype.release=function(t){this.pool.push(t)},i(F,S);var gt={addTheme:function(t,e){Q[t]=e},addColorSet:function(t,e){U[t]=e},addCultureInfo:function(t,e){j[t]=e},formatNumber:function(t,e,i){if(j[i=i||"en"])return nt(t,e||"#,##0.##",new F(i));throw"Unknown Culture Name"},formatDate:function(t,e,i){if(j[i=i||"en"])return ot(t,e||"DD MMM YYYY",new F(i));throw"Unknown Culture Name"}};void 0!==t.exports?t.exports=gt:void 0===(s=function(){return gt}.apply(e,[]))||(t.exports=s),gt.Chart=function(){function t(t,e){return t.x-e.x}function e(t,i){i=i||{},this.theme=u(i.theme)||u(Q[i.theme])?"light1":i.theme,e.base.constructor.call(this,"Chart",null,i,null,null);var s=this;if(this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new B,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId){this.container.innerHTML="";var o=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,n=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height;this.width=o,this.height=n,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet=void 0!==U[this.colorSet]?U[this.colorSet]:U.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",Y||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=_(o,n),this._preRenderCanvas=_(o,n),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",r(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",r(this._preRenderCtx),Y?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=_(o,n),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=_(o,n),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",r(this.overlaidCanvasCtx)),this._eventManager=new G(this),this.windowResizeHandler=v(window,"resize",(function(){s._updateSize()&&s.render()}),this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},v(this.overlaidCanvas,"click",(function(t){s._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mousemove",(function(t){s._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mouseup",(function(t){s._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mousedown",(function(t){s._mouseEventHandler(t),C(s._dropdownMenu)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mouseout",(function(t){s._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",(function(t){s._touchEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",(function(t){s._touchEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",(function(t){s._touchEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",(function(t){s._touchEventHandler(t)}),this.allDOMEventHandlers),this.toolTip=new X(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})}else window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function s(t,e){for(var i,s=[],o=0;o<t.length;o++)if(0==o)s.push(t[0]);else{var n,a,r;n=0===(r=o-1)?0:r-1,a=r===t.length-1?r:r+1,i=Math.abs((t[a].x-t[n].x)/(0==t[a].x-t[r].x?.01:t[a].x-t[r].x))*(e-1)/2+1;var h=(t[a].x-t[n].x)/i;i=(t[a].y-t[n].y)/i,s[s.length]=t[r].x>t[n].x&&0<h||t[r].x<t[n].x&&0>h?{x:t[r].x+h/3,y:t[r].y+i/3}:{x:t[r].x,y:t[r].y+i/9},n=0===(r=o)?0:r-1,a=r===t.length-1?r:r+1,i=Math.abs((t[a].x-t[n].x)/(0==t[r].x-t[n].x?.01:t[r].x-t[n].x))*(e-1)/2+1,h=(t[a].x-t[n].x)/i,i=(t[a].y-t[n].y)/i,s[s.length]=t[r].x>t[n].x&&0<h||t[r].x<t[n].x&&0>h?{x:t[r].x-h/3,y:t[r].y-i/3}:{x:t[r].x,y:t[r].y-i/9},s[s.length]=t[o]}return s}function n(t,e,i,s,o,n,a,r,h,l){var d=0;l?(a.color=n,r.color=n):l=1,d=h?Math.abs(o-i):Math.abs(s-e),d=0<a.trimLength?Math.abs(d*a.trimLength/100):Math.abs(d-a.length),h?(i+=d/2,o-=d/2):(e+=d/2,s-=d/2);d=1==Math.round(a.thickness)%2?.5:0;var c=1==Math.round(r.thickness)%2?.5:0;t.save(),t.globalAlpha=l,t.strokeStyle=r.color||n,t.lineWidth=r.thickness||2,t.setLineDash&&t.setLineDash(g(r.dashType,r.thickness)),t.beginPath(),h&&0<r.thickness?(t.moveTo(s-a.thickness/2,Math.round((i+o)/2)-c),t.lineTo(e+a.thickness/2,Math.round((i+o)/2)-c)):0<r.thickness&&(t.moveTo(Math.round((e+s)/2)-c,i+a.thickness/2),t.lineTo(Math.round((e+s)/2)-c,o-a.thickness/2)),t.stroke(),t.strokeStyle=a.color||n,t.lineWidth=a.thickness||2,t.setLineDash&&t.setLineDash(g(a.dashType,a.thickness)),t.beginPath(),h&&0<a.thickness?(t.moveTo(s-d,i),t.lineTo(s-d,o),t.moveTo(e+d,i),t.lineTo(e+d,o)):0<a.thickness&&(t.moveTo(e,i+d),t.lineTo(s,i+d),t.moveTo(e,o-d),t.lineTo(s,o-d)),t.stroke(),t.restore()}function c(t,e,i,s,o){return null==t?void 0===i?e:i:(t=parseFloat(t.toString())*(0<=t.toString().indexOf("%")?e/100:1),void 0!==s&&(t=Math.min(s,t),void 0!==o&&(t=Math.max(o,t))),!isNaN(t)&&t<=e&&0<=t?t:void 0===i?e:i)}function E(t,e){E.base.constructor.call(this,"Legend","legend",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=f(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function L(t,e,i,s){for(L.base.constructor.call(this,"DataSeries","data",e,i,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=i,this.noDataPointsInPlotArea=0,this.id=s,this.chart._eventManager.objectMap[s]={id:s,objectType:"dataSeries",dataSeriesIndex:i},t=e.dataPoints?e.dataPoints.length:0,this.dataPointEOs=[],e=0;e<t;e++)this.dataPointEOs[e]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function z(t,e,i,s,o,n){if(z.base.constructor.call(this,"Axis",e,i,s,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===o?("left"===n||"bottom"===n?(this.optionsName="axisX",u(this.chart.sessionVariables.axisX[s])&&(this.chart.sessionVariables.axisX[s]={}),this.sessionVariables=this.chart.sessionVariables.axisX[s]):(this.optionsName="axisX2",u(this.chart.sessionVariables.axisX2[s])&&(this.chart.sessionVariables.axisX2[s]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[s]),this.options.interval||(this.intervalType=null)):"left"===n||"bottom"===n?(this.optionsName="axisY",u(this.chart.sessionVariables.axisY[s])&&(this.chart.sessionVariables.axisY[s]={}),this.sessionVariables=this.chart.sessionVariables.axisY[s]):(this.optionsName="axisY2",u(this.chart.sessionVariables.axisY2[s])&&(this.chart.sessionVariables.axisY2[s]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[s]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=o,"axisX"!==o||i&&void 0!==i.gridThickness||(this.gridThickness=0),this._position=n,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new W(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(t=0;t<this.options.stripLines.length;t++)this.stripLines.push(new H(this.chart,this.options.stripLines[t],t,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new j(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function W(t,e,i,s){if(W.base.constructor.call(this,"ScaleBreaks","scaleBreaks",e,null,s),this.id=i,this.chart=t,this.ctx=this.chart.ctx,this.axis=s,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(t=0;t<this.options.customBreaks.length;t++)this.customBreaks.push(new N(this.chart,"customBreaks",this.options.customBreaks[t],t,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[t].startValue&&"number"==typeof this.customBreaks[t].endValue&&this.customBreaks[t].endValue!==this.customBreaks[t].startValue&&this._appliedBreaks.push(this.customBreaks[t]);for(this._appliedBreaks.sort((function(t,e){return t.startValue-e.startValue})),t=0;t<this._appliedBreaks.length-1;t++)this._appliedBreaks[t].endValue>=this._appliedBreaks[t+1].startValue&&(this._appliedBreaks[t].endValue=Math.max(this._appliedBreaks[t].endValue,this._appliedBreaks[t+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+t+" and "+(t+1)+" are overlapping."),this._appliedBreaks.splice(t,2),t--)}}function N(t,e,i,s,o,n){N.base.constructor.call(this,"Break",e,i,s,n),this.id=o,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=n,this.optionsName=e,this.isOptionsInArray=!0,this.type=i.type?this.type:n.type,this.fillOpacity=u(i.fillOpacity)?n.fillOpacity:this.fillOpacity,this.lineThickness=u(i.lineThickness)?n.lineThickness:this.lineThickness,this.color=i.color?this.color:n.color,this.lineColor=i.lineColor?this.lineColor:n.lineColor,this.lineDashType=i.lineDashType?this.lineDashType:n.lineDashType,!u(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!u(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(t=this.startValue,this.startValue=this.endValue,this.endValue=t),this.spacing=void 0===i.spacing?n.spacing:i.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=n.spacing),this.size=n.parent.logarithmic?1:0}function H(t,e,i,s,o){H.base.constructor.call(this,"StripLine","stripLines",e,i,o),this.id=s,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=o,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=o.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function j(t,e,i){j.base.constructor.call(this,"Crosshair","crosshair",e,null,i),this.chart=t,this.ctx=this.chart.ctx,this.axis=i,this.optionsName="crosshair",this._thicknessType="pixel"}function X(t,e){X.base.constructor.call(this,"ToolTip","toolTip",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function G(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=_(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function q(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}i(e,S),e.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var e=0;e<t.length;e++){var i=t[e][0],s=t[e][1],o=t[e][2],n=(n=t[e][3])||!1;i.removeEventListener?i.removeEventListener(s,o,n):i.detachEvent&&i.detachEvent("on"+s,o)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.overlaidCanvas=this.canvas=this.container=this._canvasJSContainer=null,this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=this._breaksCanvas=this._preRenderCanvas=this.toolTip.container=null},e.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet=void 0!==U[this.colorSet]?U[this.colorSet]:U.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new F(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&Y,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled){if(!this._zoomButton){var e=!1;C(this._zoomButton=document.createElement("button")),M(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,v(this._zoomButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(this._zoomButton,"click",(function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,M(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,M(t,t._zoomButton,"pan")),t.render()}),this.allDOMEventHandlers),v(this._zoomButton,"mouseover",(function(){e?e=!1:(k(0,t._zoomButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&k(0,t._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),v(this._zoomButton,"mouseout",(function(){e||(k(0,t._zoomButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&k(0,t._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers)}this._resetButton||(e=!1,C(this._resetButton=document.createElement("button")),M(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),v(this._resetButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(this._resetButton,"click",(function(){if(t.toolTip.hide(),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,M(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(var e=0;e<t.sessionVariables.axisX.length;e++)t.sessionVariables.axisX[e].newViewportMinimum=null,t.sessionVariables.axisX[e].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(e=0;e<t.sessionVariables.axisX2.length;e++)t.sessionVariables.axisX2[e].newViewportMinimum=null,t.sessionVariables.axisX2[e].newViewportMaximum=null;if(t.sessionVariables.axisY)for(e=0;e<t.sessionVariables.axisY.length;e++)t.sessionVariables.axisY[e].newViewportMinimum=null,t.sessionVariables.axisY[e].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(e=0;e<t.sessionVariables.axisY2.length;e++)t.sessionVariables.axisY2[e].newViewportMinimum=null,t.sessionVariables.axisY2[e].newViewportMaximum=null;t.resetOverlayedCanvas(),C(t._zoomButton,t._resetButton),t._dispatchRangeEvent("rangeChanging","reset"),t.render(),t._dispatchRangeEvent("rangeChanged","reset"),t.syncCharts&&t.syncCharts(null,null)}),this.allDOMEventHandlers),v(this._resetButton,"mouseover",(function(){e||(k(0,t._resetButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.hoverFfontColorOnHoverontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&k(0,t._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),v(this._resetButton,"mouseout",(function(){e||(k(0,t._resetButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&k(0,t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),T(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;if(this._menuButton?this.exportEnabled?T(this._menuButton):C(this._menuButton):this.exportEnabled&&Y&&(e=!1,this._menuButton=document.createElement("button"),M(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),v(this._menuButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(this._menuButton,"click",(function(){"none"!==t._dropdownMenu.style.display||t._dropDownCloseTime&&500>=(new Date).getTime()-t._dropDownCloseTime.getTime()||(t._dropdownMenu.style.display="block",t._menuButton.blur(),t._dropdownMenu.focus())}),this.allDOMEventHandlers,!0),v(this._menuButton,"mouseover",(function(){e||(k(0,t._menuButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&k(0,t._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers,!0),v(this._menuButton,"mouseout",(function(){e||(k(0,t._menuButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&k(0,t._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers,!0)),!this._dropdownMenu&&this.exportEnabled&&Y){e=!1,this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1);var i=-1!==this.theme.indexOf("dark")?"black":"#888888";this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:"+this.toolbar.backgroundColor+";box-shadow: 2px 2px 10px "+i,t._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),v(this._dropdownMenu,"blur",(function(){C(t._dropdownMenu),t._dropDownCloseTime=new Date}),this.allDOMEventHandlers,!0),(i=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",i.innerHTML=this._cultureInfo.printText,i.style.backgroundColor=this.toolbar.backgroundColor,i.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(i),v(i,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(i,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),v(i,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),v(i,"click",(function(){t.print(),C(t._dropdownMenu)}),this.allDOMEventHandlers,!0),(i=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",i.innerHTML=this._cultureInfo.saveJPGText,i.style.backgroundColor=this.toolbar.backgroundColor,i.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(i),v(i,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(i,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),v(i,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),v(i,"click",(function(){l(t.canvas,"jpeg",t.exportFileName),C(t._dropdownMenu)}),this.allDOMEventHandlers,!0),(i=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",i.innerHTML=this._cultureInfo.savePNGText,i.style.backgroundColor=this.toolbar.backgroundColor,i.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(i),v(i,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(i,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),v(i,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),v(i,"click",(function(){l(t.canvas,"png",t.exportFileName),C(t._dropdownMenu)}),this.allDOMEventHandlers,!0)}for(var s in"none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?M(t,t._zoomButton,"zoom"):M(t,t._zoomButton,"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&M(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(s)&&this.toolTip.updateOption(s)},e.prototype._updateSize=function(){var t;t=[this.canvas,this._preRenderCanvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var e=0,i=0;if(this.options.width?e=this.width:this.width=e=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?i=this.height:this.height=i=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==e*dt||this.canvas.height!==i*dt){for(var s=0;s<t.length;s++)x(t[s],e,i);t=!0}else t=!1;return t},e.prototype._initialize=function(){this.isNavigator=!u(this.parent)&&!u(this.parent._defaultsKey)&&"Navigator"===this.parent._defaultsKey,this.toolbar=new A(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new q(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=Y&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new P(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var i=0,s=null;if(this.options.data){for(var o=0;o<this.options.data.length;o++)if(i++,!this.options.data[o].type||0<=e._supportedChartTypes.indexOf(this.options.data[o].type)){var n=new L(this,this.options.data[o],i-1,++this._eventManager.lastObjectId);"error"===n.type&&(n.linkedDataSeriesIndex=u(this.options.data[o].linkedDataSeriesIndex)?o-1:this.options.data[o].linkedDataSeriesIndex,0>n.linkedDataSeriesIndex||n.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof n.linkedDataSeriesIndex||"error"===this.options.data[n.linkedDataSeriesIndex].type)&&(n.linkedDataSeriesIndex=null),null===n.name&&(n.name="DataSeries "+i),null===n.color?1<this.options.data.length?(n._colorSet=[this._selectedColorSet[n.index%this._selectedColorSet.length]],n.color=this._selectedColorSet[n.index%this._selectedColorSet.length]):n._colorSet="line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"candlestick"===n.type||"ohlc"===n.type||"waterfall"===n.type||"boxAndWhisker"===n.type?[this._selectedColorSet[0]]:this._selectedColorSet:n._colorSet=[n.color],null===n.markerSize&&(("line"===n.type||"stepLine"===n.type||"spline"===n.type||0<=n.type.toLowerCase().indexOf("area"))&&n.dataPoints&&n.dataPoints.length<this.width/16||"scatter"===n.type)&&(n.markerSize=8),"bubble"!==n.type&&"scatter"!==n.type||!n.dataPoints||(n.dataPoints.some?n.dataPoints.some((function(t){return t.x}))&&n.dataPoints.sort(t):n.dataPoints.sort(t)),this.data.push(n);var a,r=n.axisPlacement;s=s||r;if("normal"===r?"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+n.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===r?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+n.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===r?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+n.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+n.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===r&&"none"===this.plotInfo.axisPlacement&&(a='You cannot combine "'+n.type+'" with pie chart'),a&&window.console)return void window.console.log(a)}for(o=0;o<this.data.length;o++){if("none"==s&&"error"===this.data[o].type&&window.console)return void window.console.log('You cannot combine "'+n.type+'" with error chart');"error"===this.data[o].type&&(this.data[o].axisPlacement=this.plotInfo.axisPlacement=s||"normal",this.data[o]._linkedSeries=null===this.data[o].linkedDataSeriesIndex?null:this.data[this.data[o].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},e._supportedChartTypes=p("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),e.prototype.setLayout=function(){for(var t=this._plotAreaElements,e=0;e<this.data.length;e++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[e].axisYType||"primary"===this.data[e].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var i=0;i<this.options.axisY.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[i]=new z(this,"axisY",this.options.axisY[i],i,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[i]=new z(this,"axisY",this.options.axisY[i],i,"axisY","bottom"));this.data[e].axisY=this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0],this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new z(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new z(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[e].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(i=0;i<this.options.axisY2.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[i]=new z(this,"axisY2",this.options.axisY2[i],i,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[i]=new z(this,"axisY2",this.options.axisY2[i],i,"axisY","top"));this.data[e].axisY=this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0],this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new z(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new z(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[e].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[e]);if(!this.data[e].axisXType||"primary"===this.data[e].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(i=0;i<this.options.axisX.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[i]=new z(this,"axisX",this.options.axisX[i],i,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[i]=new z(this,"axisX",this.options.axisX[i],i,"axisX","left"));this.data[e].axisX=this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0],this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new z(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new z(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[e].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(i=0;i<this.options.axisX2.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[i]=new z(this,"axisX2",this.options.axisX2[i],i,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[i]=new z(this,"axisX2",this.options.axisX2[i],i,"axisX","right"));this.data[e].axisX=this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0],this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new z(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new z(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[e].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[e])}if(this.axisY){for(i=1;i<this.axisY.length;i++)void 0===this.axisY[i].options.gridThickness&&(this.axisY[i].gridThickness=0);for(i=0;i<this.axisY.length-1;i++)void 0===this.axisY[i].options.margin&&(this.axisY[i].margin=10)}if(this.axisY2){for(i=1;i<this.axisY2.length;i++)void 0===this.axisY2[i].options.gridThickness&&(this.axisY2[i].gridThickness=0);for(i=0;i<this.axisY2.length-1;i++)void 0===this.axisY2[i].options.margin&&(this.axisY2[i].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(i=0;i<this.axisX.length;i++)void 0===this.axisX[i].options.gridThickness&&(this.axisX[i].gridThickness=0);if(this.axisX2)for(i=0;i<this.axisX2.length;i++)void 0===this.axisX2[i].options.gridThickness&&(this.axisX2[i].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),i=!1,0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(e=0;e<this._axes.length;e++)if(null!==this._axes[e].viewportMinimum||null!==this._axes[e].viewportMaximum){i=!0;break}if(i?(T(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor):(C(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),m(this),this._processData(),this.options.title&&(this.title=new I(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.subtitles=[],this.options.subtitles)for(e=0;e<this.options.subtitles.length;e++)i=new O(this,this.options.subtitles[e],e),this.subtitles.push(i),i.dockInsidePlotArea?t.push(i):i.setLayout();for(this.legend=new E(this,this.options.legend),e=0;e<this.data.length;e++)(this.data[e].showInLegend||"pie"===this.data[e].type||"doughnut"===this.data[e].type||"funnel"===this.data[e].type||"pyramid"===this.data[e].type)&&this.legend.dataSeries.push(this.data[e]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout(),e=0;e<this._axes.length;e++)if(this._axes[e].scaleBreaks&&this._axes[e].scaleBreaks._appliedBreaks.length){Y?(this._breaksCanvas=_(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=u(this._preRenderCanvas)?_(this.width,this.height):this._preRenderCanvas,this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||z.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},e.prototype.renderElements=function(){var t=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var e=0;e<this.subtitles.length;e++)this.subtitles[e].dockInsidePlotArea||this.subtitles[e].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)z.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(e=0;e<t.length;e++)t[e].setLayout(),t[e].render();var i=[];if(this.animatedRender){var s=_(this.width,this.height);s.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}w(this);var o;t=this.ctx.miterLimit;for(this.ctx.miterLimit=3,Y&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),e=0;e<this.plotInfo.plotTypes.length;e++)for(var n=this.plotInfo.plotTypes[e],a=0;a<n.plotUnits.length;a++){var r=n.plotUnits[a],h=null;r.targetCanvas=null,this.animatedRender&&(r.targetCanvas=_(this.width,this.height),r.targetCanvasCtx=r.targetCanvas.getContext("2d"),o=r.targetCanvasCtx.miterLimit,r.targetCanvasCtx.miterLimit=3),"line"===r.type?h=this.renderLine(r):"stepLine"===r.type?h=this.renderStepLine(r):"spline"===r.type?h=this.renderSpline(r):"column"===r.type?h=this.renderColumn(r):"bar"===r.type?h=this.renderBar(r):"area"===r.type?h=this.renderArea(r):"stepArea"===r.type?h=this.renderStepArea(r):"splineArea"===r.type?h=this.renderSplineArea(r):"stackedColumn"===r.type?h=this.renderStackedColumn(r):"stackedColumn100"===r.type?h=this.renderStackedColumn100(r):"stackedBar"===r.type?h=this.renderStackedBar(r):"stackedBar100"===r.type?h=this.renderStackedBar100(r):"stackedArea"===r.type?h=this.renderStackedArea(r):"stackedArea100"===r.type?h=this.renderStackedArea100(r):"bubble"===r.type?h=h=this.renderBubble(r):"scatter"===r.type?h=this.renderScatter(r):"pie"===r.type||"doughnut"===r.type?this.renderPie(r):"funnel"===r.type||"pyramid"===r.type?h=this.renderFunnel(r):"candlestick"===r.type||"ohlc"===r.type?h=this.renderCandlestick(r):"rangeColumn"===r.type?h=this.renderRangeColumn(r):"error"===r.type?h=this.renderError(r):"rangeBar"===r.type?h=this.renderRangeBar(r):"rangeArea"===r.type?h=this.renderRangeArea(r):"rangeSplineArea"===r.type?h=this.renderRangeSplineArea(r):"waterfall"===r.type?h=this.renderWaterfall(r):"boxAndWhisker"===r.type&&(h=this.renderBoxAndWhisker(r));for(var l=0;l<r.dataSeriesIndexes.length;l++)this._dataInRenderedOrder.push(this.data[r.dataSeriesIndexes[l]]);this.animatedRender&&(r.targetCanvasCtx.miterLimit=o,h&&i.push(h))}this.ctx.miterLimit=t,this.animatedRender&&this._breaksCanvasCtx&&i.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(o=_(this.width,this.height).getContext("2d"),i.push(this.renderIndexLabels(o)));var d=this;if(0<i.length)d.disableToolTip=!0,d._animator.animate(200,d.animationDuration,(function(t){d.ctx.clearRect(0,0,d.width,d.height),d.ctx.drawImage(s,0,0,Math.floor(d.width*dt),Math.floor(d.height*dt),0,0,d.width,d.height);for(var e=0;e<i.length;e++)h=i[e],1>t&&void 0!==h.startTimePercent?t>=h.startTimePercent&&h.animationCallback(h.easingFunction(t-h.startTimePercent,0,1,1-h.startTimePercent),h):h.animationCallback(h.easingFunction(t,0,1,1),h);d.dispatchEvent("dataAnimationIterationEnd",{chart:d})}),(function(){i=[];for(var t=0;t<d.plotInfo.plotTypes.length;t++)for(var e=d.plotInfo.plotTypes[t],o=0;o<e.plotUnits.length;o++)e.plotUnits[o].targetCanvas=null;s=null,d.disableToolTip=!1}));else{if(d._breaksCanvas)if(Y)d.plotArea.ctx.drawImage(d._breaksCanvas,0,0,this.width,this.height);else for(l=0;l<d._axes.length;l++)d._axes[l].createMask();0<d._indexLabels.length&&d.renderIndexLabels(),d.dispatchEvent("dataAnimationIterationEnd",{chart:d})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||C(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,V&&(d=this,setTimeout((function(){var t=document.getElementById("ghostCanvasCopy");t&&(x(t,d.width,d.height),t.getContext("2d").drawImage(d._eventManager.ghostCanvas,0,0))}),2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),l=0;l<this._axes.length;l++)this._axes[l].maskCanvas&&(delete this._axes[l].maskCanvas,delete this._axes[l].maskCtx)},e.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements()},e.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},e.prototype.categoriseDataSeries=function(){for(var t="",i=0;i<this.data.length;i++)if((t=this.data[i]).dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=e._supportedChartTypes.indexOf(t.type)){for(var s=null,o=!1,n=null,a=!1,r=0;r<this.plotInfo.plotTypes.length;r++)if(this.plotInfo.plotTypes[r].type===t.type){o=!0,s=this.plotInfo.plotTypes[r];break}for(o||(s={type:t.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(s)),r=0;r<s.plotUnits.length;r++)if(s.plotUnits[r].axisYType===t.axisYType&&s.plotUnits[r].axisXType===t.axisXType&&s.plotUnits[r].axisYIndex===t.axisYIndex&&s.plotUnits[r].axisXIndex===t.axisXIndex){a=!0,n=s.plotUnits[r];break}a||(n={type:t.type,previousDataSeriesCount:0,index:s.plotUnits.length,plotType:s,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:"primary"===t.axisYType?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:"primary"===t.axisXType?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]},s.plotUnits.push(n)),s.totalDataSeries++,n.dataSeriesIndexes.push(i),t.plotUnit=n}for(i=0;i<this.plotInfo.plotTypes.length;i++)for(s=this.plotInfo.plotTypes[i],r=t=0;r<s.plotUnits.length;r++)s.plotUnits[r].previousDataSeriesCount=t,t+=s.plotUnits[r].dataSeriesIndexes.length},e.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.dataPoints)for(var i=e.dataPoints.length,s=0;s<i;s++)e.dataPointIds[s]=++this._eventManager.lastObjectId}},e.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var e=this.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++){var s=e.plotUnits[i];"line"===s.type||"stepLine"===s.type||"spline"===s.type||"column"===s.type||"area"===s.type||"stepArea"===s.type||"splineArea"===s.type||"bar"===s.type||"bubble"===s.type||"scatter"===s.type?this._processMultiseriesPlotUnit(s):"stackedColumn"===s.type||"stackedBar"===s.type||"stackedArea"===s.type?this._processStackedPlotUnit(s):"stackedColumn100"===s.type||"stackedBar100"===s.type||"stackedArea100"===s.type?this._processStacked100PlotUnit(s):"candlestick"===s.type||"ohlc"===s.type||"rangeColumn"===s.type||"rangeBar"===s.type||"rangeArea"===s.type||"rangeSplineArea"===s.type||"error"===s.type||"boxAndWhisker"===s.type?this._processMultiYPlotUnit(s):"waterfall"===s.type&&this._processSpecificPlotUnit(s)}this.calculateAutoBreaks()},e.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,i,s=t.axisY.dataInfo,o=t.axisX.dataInfo,n=!1,a=0;a<t.dataSeriesIndexes.length;a++){var r,h=this.data[t.dataSeriesIndexes[a]],l=0,d=!1,c=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var u=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,p=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((h.dataPoints[l].x&&h.dataPoints[l].x.getTime||"dateTime"===h.xValueType)&&(n=!0),l=0;l<h.dataPoints.length;l++){if(void 0===h.dataPoints[l].x&&(h.dataPoints[l].x=l+(t.axisX.logarithmic?1:0)),h.dataPoints[l].x.getTime?(n=!0,e=h.dataPoints[l].x.getTime()):e=h.dataPoints[l].x,i=h.dataPoints[l].y,e<o.min&&(o.min=e),e>o.max&&(o.max=e),i<s.min&&"number"==typeof i&&(s.min=i),i>s.max&&"number"==typeof i&&(s.max=i),0<l){if(t.axisX.logarithmic){var m=e/h.dataPoints[l-1].x;1>m&&(m=1/m),o.minDiff>m&&1!==m&&(o.minDiff=m)}else 0>(m=e-h.dataPoints[l-1].x)&&(m*=-1),o.minDiff>m&&0!==m&&(o.minDiff=m);null!==i&&null!==h.dataPoints[l-1].y&&(t.axisY.logarithmic?(1>(m=i/h.dataPoints[l-1].y)&&(m=1/m),s.minDiff>m&&1!==m&&(s.minDiff=m)):(0>(m=i-h.dataPoints[l-1].y)&&(m*=-1),s.minDiff>m&&0!==m&&(s.minDiff=m)))}if(e<u&&!d)null!==i&&(r=e);else{if(!d&&(d=!0,0<l)){l-=2;continue}if(e>p&&!c)c=!0;else if(e>p&&c)continue;h.dataPoints[l].label&&(t.axisX.labels[e]=h.dataPoints[l].label),e<o.viewPortMin&&(o.viewPortMin=e),e>o.viewPortMax&&(o.viewPortMax=e),null===i?o.viewPortMin===e&&r<e&&(o.viewPortMin=r):(i<s.viewPortMin&&"number"==typeof i&&(s.viewPortMin=i),i>s.viewPortMax&&"number"==typeof i&&(s.viewPortMax=i))}}h.axisX.valueType=h.xValueType=n?"dateTime":"number"}},e.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,i,s=t.axisY.dataInfo,o=t.axisX.dataInfo,n=!1,a=[],r=[],h=1/0,l=-1/0,d=0;d<t.dataSeriesIndexes.length;d++){var c,p=this.data[t.dataSeriesIndexes[d]],m=0,f=!1,g=!1;if("normal"===p.axisPlacement||"xySwapped"===p.axisPlacement)var v=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,y=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((p.dataPoints[m].x&&p.dataPoints[m].x.getTime||"dateTime"===p.xValueType)&&(n=!0),m=0;m<p.dataPoints.length;m++){if(void 0===p.dataPoints[m].x&&(p.dataPoints[m].x=m+(t.axisX.logarithmic?1:0)),p.dataPoints[m].x.getTime?(n=!0,e=p.dataPoints[m].x.getTime()):e=p.dataPoints[m].x,i=u(p.dataPoints[m].y)?0:p.dataPoints[m].y,e<o.min&&(o.min=e),e>o.max&&(o.max=e),0<m){if(t.axisX.logarithmic){var b=e/p.dataPoints[m-1].x;1>b&&(b=1/b),o.minDiff>b&&1!==b&&(o.minDiff=b)}else 0>(b=e-p.dataPoints[m-1].x)&&(b*=-1),o.minDiff>b&&0!==b&&(o.minDiff=b);null!==i&&null!==p.dataPoints[m-1].y&&(t.axisY.logarithmic?0<i&&(1>(b=i/p.dataPoints[m-1].y)&&(b=1/b),s.minDiff>b&&1!==b&&(s.minDiff=b)):(0>(b=i-p.dataPoints[m-1].y)&&(b*=-1),s.minDiff>b&&0!==b&&(s.minDiff=b)))}if(e<v&&!f)null!==p.dataPoints[m].y&&(c=e);else{if(!f&&(f=!0,0<m)){m-=2;continue}if(e>y&&!g)g=!0;else if(e>y&&g)continue;p.dataPoints[m].label&&(t.axisX.labels[e]=p.dataPoints[m].label),e<o.viewPortMin&&(o.viewPortMin=e),e>o.viewPortMax&&(o.viewPortMax=e),null===p.dataPoints[m].y?o.viewPortMin===e&&c<e&&(o.viewPortMin=c):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+i,0<=i?a[e]?a[e]+=i:(a[e]=i,h=Math.min(i,h)):r[e]?r[e]+=i:(r[e]=i,l=Math.max(i,l)))}}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(s.dataPointYPositiveSums?(s.dataPointYPositiveSums.push.apply(s.dataPointYPositiveSums,a),s.dataPointYNegativeSums.push.apply(s.dataPointYPositiveSums,r)):(s.dataPointYPositiveSums=a,s.dataPointYNegativeSums=r)),p.axisX.valueType=p.xValueType=n?"dateTime":"number"}for(m in a)a.hasOwnProperty(m)&&!isNaN(m)&&((t=a[m])<s.min&&(s.min=Math.min(t,h)),t>s.max&&(s.max=t),m<o.viewPortMin||m>o.viewPortMax||(t<s.viewPortMin&&(s.viewPortMin=Math.min(t,h)),t>s.viewPortMax&&(s.viewPortMax=t)));for(m in r)r.hasOwnProperty(m)&&!isNaN(m)&&((t=r[m])<s.min&&(s.min=t),t>s.max&&(s.max=Math.max(t,l)),m<o.viewPortMin||m>o.viewPortMax||(t<s.viewPortMin&&(s.viewPortMin=t),t>s.viewPortMax&&(s.viewPortMax=Math.max(t,l))))}},e.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,i,s=t.axisY.dataInfo,o=t.axisX.dataInfo,n=!1,a=!1,r=!1,h=[],l=0;l<t.dataSeriesIndexes.length;l++){var d,c=this.data[t.dataSeriesIndexes[l]],p=0,m=!1,f=!1;if("normal"===c.axisPlacement||"xySwapped"===c.axisPlacement)var g=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,v=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((c.dataPoints[p].x&&c.dataPoints[p].x.getTime||"dateTime"===c.xValueType)&&(n=!0),p=0;p<c.dataPoints.length;p++){if(void 0===c.dataPoints[p].x&&(c.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),c.dataPoints[p].x.getTime?(n=!0,e=c.dataPoints[p].x.getTime()):e=c.dataPoints[p].x,i=u(c.dataPoints[p].y)?null:c.dataPoints[p].y,e<o.min&&(o.min=e),e>o.max&&(o.max=e),0<p){if(t.axisX.logarithmic){var y=e/c.dataPoints[p-1].x;1>y&&(y=1/y),o.minDiff>y&&1!==y&&(o.minDiff=y)}else 0>(y=e-c.dataPoints[p-1].x)&&(y*=-1),o.minDiff>y&&0!==y&&(o.minDiff=y);u(i)||null===c.dataPoints[p-1].y||(t.axisY.logarithmic?0<i&&(1>(y=i/c.dataPoints[p-1].y)&&(y=1/y),s.minDiff>y&&1!==y&&(s.minDiff=y)):(0>(y=i-c.dataPoints[p-1].y)&&(y*=-1),s.minDiff>y&&0!==y&&(s.minDiff=y)))}if(e<g&&!m)null!==i&&(d=e);else{if(!m&&(m=!0,0<p)){p-=2;continue}if(e>v&&!f)f=!0;else if(e>v&&f)continue;c.dataPoints[p].label&&(t.axisX.labels[e]=c.dataPoints[p].label),e<o.viewPortMin&&(o.viewPortMin=e),e>o.viewPortMax&&(o.viewPortMax=e),null===i?o.viewPortMin===e&&d<e&&(o.viewPortMin=d):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+i,0<=i?a=!0:0>i&&(r=!0),h[e]=h[e]?h[e]+Math.abs(i):Math.abs(i))}}c.axisX.valueType=c.xValueType=n?"dateTime":"number"}t.axisY.logarithmic?(s.max=u(s.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(s.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),s.min=u(s.viewPortMin)?1:Math.min(s.viewPortMin,1)):a&&!r?(s.max=u(s.viewPortMax)?99:Math.max(s.viewPortMax,99),s.min=u(s.viewPortMin)?1:Math.min(s.viewPortMin,1)):a&&r?(s.max=u(s.viewPortMax)?99:Math.max(s.viewPortMax,99),s.min=u(s.viewPortMin)?-99:Math.min(s.viewPortMin,-99)):!a&&r&&(s.max=u(s.viewPortMax)?-1:Math.max(s.viewPortMax,-1),s.min=u(s.viewPortMin)?-99:Math.min(s.viewPortMin,-99)),s.viewPortMin=s.min,s.viewPortMax=s.max,t.dataPointYSums=h}},e.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,i,s,o,n=t.axisY.dataInfo,a=t.axisX.dataInfo,r=!1,h=0;h<t.dataSeriesIndexes.length;h++){var l,d,c,u=this.data[t.dataSeriesIndexes[h]],p=0,m=!1,f=!1;if("normal"===u.axisPlacement||"xySwapped"===u.axisPlacement)var g=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,v=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((u.dataPoints[p].x&&u.dataPoints[p].x.getTime||"dateTime"===u.xValueType)&&(r=!0),p=0;p<u.dataPoints.length;p++){if(void 0===u.dataPoints[p].x&&(u.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),u.dataPoints[p].x.getTime?(r=!0,e=u.dataPoints[p].x.getTime()):e=u.dataPoints[p].x,(i=u.dataPoints[p].y)&&i.length){s=Math.min.apply(null,i),o=Math.max.apply(null,i),d=!0;for(var y=0;y<i.length;y++)null===i.k&&(d=!1);d&&(m||(c=l),l=e)}if(e<a.min&&(a.min=e),e>a.max&&(a.max=e),s<n.min&&(n.min=s),o>n.max&&(n.max=o),0<p&&(t.axisX.logarithmic?(1>(d=e/u.dataPoints[p-1].x)&&(d=1/d),a.minDiff>d&&1!==d&&(a.minDiff=d)):(0>(d=e-u.dataPoints[p-1].x)&&(d*=-1),a.minDiff>d&&0!==d&&(a.minDiff=d)),i&&null!==i[0]&&u.dataPoints[p-1].y&&null!==u.dataPoints[p-1].y[0]&&(t.axisY.logarithmic?(1>(d=i[0]/u.dataPoints[p-1].y[0])&&(d=1/d),n.minDiff>d&&1!==d&&(n.minDiff=d)):(0>(d=i[0]-u.dataPoints[p-1].y[0])&&(d*=-1),n.minDiff>d&&0!==d&&(n.minDiff=d)))),!(e<g)||m){if(!m&&(m=!0,0<p)){p-=2,l=c;continue}if(e>v&&!f)f=!0;else if(e>v&&f)continue;if(u.dataPoints[p].label&&(t.axisX.labels[e]=u.dataPoints[p].label),e<a.viewPortMin&&(a.viewPortMin=e),e>a.viewPortMax&&(a.viewPortMax=e),a.viewPortMin===e&&i)for(y=0;y<i.length;y++)if(null===i[y]&&l<e){a.viewPortMin=l;break}null===i?a.viewPortMin===e&&l<e&&(a.viewPortMin=l):(s<n.viewPortMin&&(n.viewPortMin=s),o>n.viewPortMax&&(n.viewPortMax=o))}}u.axisX.valueType=u.xValueType=r?"dateTime":"number"}},e.prototype._processSpecificPlotUnit=function(t){if("waterfall"===t.type&&t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,i,s=t.axisY.dataInfo,o=t.axisX.dataInfo,n=!1,a=0;a<t.dataSeriesIndexes.length;a++){var r=this.data[t.dataSeriesIndexes[a]],h=0,l=!1,d=!1,c=e=0;if("normal"===r.axisPlacement||"xySwapped"===r.axisPlacement)var u=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,p=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((r.dataPoints[h].x&&r.dataPoints[h].x.getTime||"dateTime"===r.xValueType)&&(n=!0),h=0;h<r.dataPoints.length;h++)void 0!==r.dataPoints[h].isCumulativeSum&&!0===r.dataPoints[h].isCumulativeSum?(r.dataPointEOs[h].cumulativeSumYStartValue=0,r.dataPointEOs[h].cumulativeSum=0===h?0:r.dataPointEOs[h-1].cumulativeSum,r.dataPoints[h].y=0===h?0:r.dataPointEOs[h-1].cumulativeSum):void 0!==r.dataPoints[h].isIntermediateSum&&!0===r.dataPoints[h].isIntermediateSum?(r.dataPointEOs[h].cumulativeSumYStartValue=c,r.dataPointEOs[h].cumulativeSum=0===h?0:r.dataPointEOs[h-1].cumulativeSum,r.dataPoints[h].y=0===h?0:e,c=0===h?0:r.dataPointEOs[h-1].cumulativeSum,e=0):(i="number"!=typeof r.dataPoints[h].y?0:r.dataPoints[h].y,r.dataPointEOs[h].cumulativeSumYStartValue=0===h?0:r.dataPointEOs[h-1].cumulativeSum,r.dataPointEOs[h].cumulativeSum=0===h?i:r.dataPointEOs[h-1].cumulativeSum+i,e+=i);for(h=0;h<r.dataPoints.length;h++)if(void 0===r.dataPoints[h].x&&(r.dataPoints[h].x=h+(t.axisX.logarithmic?1:0)),r.dataPoints[h].x.getTime?(n=!0,e=r.dataPoints[h].x.getTime()):e=r.dataPoints[h].x,i=r.dataPoints[h].y,e<o.min&&(o.min=e),e>o.max&&(o.max=e),r.dataPointEOs[h].cumulativeSum<s.min&&(s.min=r.dataPointEOs[h].cumulativeSum),r.dataPointEOs[h].cumulativeSum>s.max&&(s.max=r.dataPointEOs[h].cumulativeSum),0<h&&(t.axisX.logarithmic?(1>(c=e/r.dataPoints[h-1].x)&&(c=1/c),o.minDiff>c&&1!==c&&(o.minDiff=c)):(0>(c=e-r.dataPoints[h-1].x)&&(c*=-1),o.minDiff>c&&0!==c&&(o.minDiff=c)),null!==i&&null!==r.dataPoints[h-1].y&&(t.axisY.logarithmic?(1>(i=r.dataPointEOs[h].cumulativeSum/r.dataPointEOs[h-1].cumulativeSum)&&(i=1/i),s.minDiff>i&&1!==i&&(s.minDiff=i)):(0>(i=r.dataPointEOs[h].cumulativeSum-r.dataPointEOs[h-1].cumulativeSum)&&(i*=-1),s.minDiff>i&&0!==i&&(s.minDiff=i)))),!(e<u)||l){if(!l&&(l=!0,0<h)){h-=2;continue}if(e>p&&!d)d=!0;else if(e>p&&d)continue;r.dataPoints[h].label&&(t.axisX.labels[e]=r.dataPoints[h].label),e<o.viewPortMin&&(o.viewPortMin=e),e>o.viewPortMax&&(o.viewPortMax=e),0<h&&(r.dataPointEOs[h-1].cumulativeSum<s.viewPortMin&&(s.viewPortMin=r.dataPointEOs[h-1].cumulativeSum),r.dataPointEOs[h-1].cumulativeSum>s.viewPortMax&&(s.viewPortMax=r.dataPointEOs[h-1].cumulativeSum)),r.dataPointEOs[h].cumulativeSum<s.viewPortMin&&(s.viewPortMin=r.dataPointEOs[h].cumulativeSum),r.dataPointEOs[h].cumulativeSum>s.viewPortMax&&(s.viewPortMax=r.dataPointEOs[h].cumulativeSum)}r.axisX.valueType=r.xValueType=n?"dateTime":"number"}},e.prototype.calculateAutoBreaks=function(){function t(t,e,i,s){return s?(1>=(i=Math.pow(Math.min(i*t/e,e/t),.2))&&(i=Math.pow(1>t?1/t:Math.min(e/t,t),.25)),{startValue:t*i,endValue:e/i}):(0>=(i=.2*Math.min(i-e+t,e-t))&&(i=.25*Math.min(e-t,Math.abs(t))),{startValue:t+i,endValue:e-i})}function e(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){var e=t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks,i=t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(e||i)for(var s,n,a=t.axisY.dataInfo,r=(c=t.axisX.dataInfo).min,h=c.max,l=a.min,d=a.max,c=c._dataRanges,p=(a=a._dataRanges,0),m=0;m<t.dataSeriesIndexes.length;m++){var f=o.data[t.dataSeriesIndexes[m]];if(!(4>f.dataPoints.length))for(p=0;p<f.dataPoints.length;p++)if(e&&(n=(h+1-r)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(s=f.dataPoints[p].x.getTime?f.dataPoints[p].x.getTime():f.dataPoints[p].x)<c[n=Math.floor((s-r)/n)].min&&(c[n].min=s),s>c[n].max&&(c[n].max=s)),i){var g=(d+1-l)*Math.max(parseFloat(t.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((s="waterfall"===t.type?f.dataPointEOs[p].cumulativeSum:f.dataPoints[p].y)&&s.length)for(var v=0;v<s.length;v++)n=Math.floor((s[v]-l)/g),s[v]<a[n].min&&(a[n].min=s[v]),s[v]>a[n].max&&(a[n].max=s[v]);else u(s)||(s<a[n=Math.floor((s-l)/g)].min&&(a[n].min=s),s>a[n].max&&(a[n].max=s))}}}}function i(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)&&t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var e,i=t.axisX.dataInfo,s=i.min,n=i.max,a=i._dataRanges,r=0,h=0;h<t.dataSeriesIndexes.length;h++){var l=o.data[t.dataSeriesIndexes[h]];if(!(4>l.dataPoints.length))for(r=0;r<l.dataPoints.length;r++)e=(n+1-s)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(i=l.dataPoints[r].x.getTime?l.dataPoints[r].x.getTime():l.dataPoints[r].x)<a[e=Math.floor((i-s)/e)].min&&(a[e].min=i),i>a[e].max&&(a[e].max=i)}}for(var s,o=this,n=!1,a=0;a<this._axes.length;a++)if(this._axes[a].scaleBreaks&&this._axes[a].scaleBreaks.autoCalculate&&1<=this._axes[a].scaleBreaks.maxNumberOfAutoBreaks){n=!0,this._axes[a].dataInfo._dataRanges=[];for(var r=0;r<100/Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10);r++)this._axes[a].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(n){for(a=0;a<this.plotInfo.plotTypes.length;a++)for(n=this.plotInfo.plotTypes[a],r=0;r<n.plotUnits.length;r++)"line"===(s=n.plotUnits[r]).type||"stepLine"===s.type||"spline"===s.type||"column"===s.type||"area"===s.type||"stepArea"===s.type||"splineArea"===s.type||"bar"===s.type||"bubble"===s.type||"scatter"===s.type||"candlestick"===s.type||"ohlc"===s.type||"rangeColumn"===s.type||"rangeBar"===s.type||"rangeArea"===s.type||"rangeSplineArea"===s.type||"waterfall"===s.type||"error"===s.type||"boxAndWhisker"===s.type?e(s):0<=s.type.indexOf("stacked")&&i(s);for(a=0;a<this._axes.length;a++)if(this._axes[a].dataInfo._dataRanges){var h=this._axes[a].dataInfo.min;s=(this._axes[a].dataInfo.max+1-h)*Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10)/100;var l,d,c=this._axes[a].dataInfo._dataRanges;n=[];if(this._axes[a].dataInfo.dataPointYPositiveSums){var p=this._axes[a].dataInfo.dataPointYPositiveSums;for(r in l=c,p)if(p.hasOwnProperty(r)&&!isNaN(r)&&!u(d=p[r])){var m=Math.floor((d-h)/s);d<l[m].min&&(l[m].min=d),d>l[m].max&&(l[m].max=d)}delete this._axes[a].dataInfo.dataPointYPositiveSums}if(this._axes[a].dataInfo.dataPointYNegativeSums){for(r in l=c,p=this._axes[a].dataInfo.dataPointYNegativeSums)p.hasOwnProperty(r)&&!isNaN(r)&&(u(d=-1*p[r])||(d<l[m=Math.floor((d-h)/s)].min&&(l[m].min=d),d>l[m].max&&(l[m].max=d)));delete this._axes[a].dataInfo.dataPointYNegativeSums}for(r=0;r<c.length-1;r++)if(l=c[r].max,isFinite(l))for(;r<c.length-1;){if(h=c[r+1].min,isFinite(h)){(d=h-l)>s&&n.push({diff:d,start:l,end:h});break}r++}if(this._axes[a].scaleBreaks.customBreaks)for(r=0;r<this._axes[a].scaleBreaks.customBreaks.length;r++)for(s=0;s<n.length;s++)(this._axes[a].scaleBreaks.customBreaks[r].startValue<=n[s].start&&n[s].start<=this._axes[a].scaleBreaks.customBreaks[r].endValue||this._axes[a].scaleBreaks.customBreaks[r].startValue<=n[s].start&&n[s].start<=this._axes[a].scaleBreaks.customBreaks[r].endValue||n[s].start<=this._axes[a].scaleBreaks.customBreaks[r].startValue&&this._axes[a].scaleBreaks.customBreaks[r].startValue<=n[s].end||n[s].start<=this._axes[a].scaleBreaks.customBreaks[r].endValue&&this._axes[a].scaleBreaks.customBreaks[r].endValue<=n[s].end)&&(n.splice(s,1),s--);for(n.sort((function(t,e){return e.diff-t.diff})),r=0;r<Math.min(n.length,this._axes[a].scaleBreaks.maxNumberOfAutoBreaks);r++)s=t(n[r].start,n[r].end,this._axes[a].logarithmic?this._axes[a].dataInfo.max/this._axes[a].dataInfo.min:this._axes[a].dataInfo.max-this._axes[a].dataInfo.min,this._axes[a].logarithmic),this._axes[a].scaleBreaks.autoBreaks.push(new N(this,"autoBreaks",s,r,++this._eventManager.lastObjectId,this._axes[a].scaleBreaks)),this._axes[a].scaleBreaks._appliedBreaks.push(this._axes[a].scaleBreaks.autoBreaks[this._axes[a].scaleBreaks.autoBreaks.length-1]);this._axes[a].scaleBreaks._appliedBreaks.sort((function(t,e){return t.startValue-e.startValue}))}}},e.prototype.getDataPointAtXY=function(t,e,i){i=i||!1;for(var s=[],o=this._dataInRenderedOrder.length-1;0<=o;o--){var n;(n=this._dataInRenderedOrder[o].getDataPointAtXY(t,e,i))&&s.push(n)}for(t=null,e=!1,i=0;i<s.length;i++)if(("line"===s[i].dataSeries.type||"stepLine"===s[i].dataSeries.type||"area"===s[i].dataSeries.type||"stepArea"===s[i].dataSeries.type)&&(o=b("markerSize",s[i].dataPoint,s[i].dataSeries)||8,s[i].distance<=o/2)){e=!0;break}for(i=0;i<s.length;i++)e&&"line"!==s[i].dataSeries.type&&"stepLine"!==s[i].dataSeries.type&&"area"!==s[i].dataSeries.type&&"stepArea"!==s[i].dataSeries.type||(t?s[i].distance<=t.distance&&(t=s[i]):t=s[i]);return t},e.prototype.getObjectAtXY=function(t,e,i){var s=null;if(i=this.getDataPointAtXY(t,e,i||!1))s=i.dataSeries.dataPointIds[i.dataPointIndex];else if(Y)s=y(t,e,this._eventManager.ghostCtx);else for(i=0;i<this.legend.items.length;i++){var o=this.legend.items[i];t>=o.x1&&t<=o.x2&&e>=o.y1&&e<=o.y2&&(s=o.id)}return s},e.prototype.getAutoFontSize=st,e.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},e.prototype.clearCanvas=it,e.prototype.attachEvent=function(t){this._events.push(t)},e.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var e=[],i=t.changedTouches,s=i?i[0]:t,o=null;switch(t.type){case"touchstart":case"MSPointerDown":e=["mousemove","mousedown"],this._lastTouchData=at(s),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":e=["mousemove"];break;case"touchend":case"MSPointerUp":var n=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;e="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>n?["mouseup","click"]:["mouseup"];break;default:return}if(!(i&&1<i.length)){(o=at(s)).time=new Date;try{var a=o.y-this._lastTouchData.y;n=o.time-this._lastTouchData.time;(1<Math.abs(a)&&this._lastTouchData.scroll||5<Math.abs(a)&&250>n)&&(this._lastTouchData.scroll=!0)}catch(t){}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(i=0;i<e.length;i++)o=e[i],(a=document.createEvent("MouseEvent")).initMouseEvent(o,!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),s.target.dispatchEvent(a),(!u(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<n||"click"===o)&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault())}}},e.prototype._dispatchRangeEvent=function(t,e){var i={chart:this};i.type=t,i.trigger=e;var s=[];this.axisX&&0<this.axisX.length&&s.push("axisX"),this.axisX2&&0<this.axisX2.length&&s.push("axisX2"),this.axisY&&0<this.axisY.length&&s.push("axisY"),this.axisY2&&0<this.axisY2.length&&s.push("axisY2");for(var o=0;o<s.length;o++)if(u(i[s[o]])&&(i[s[o]]=[]),"axisY"===s[o])for(var n=0;n<this.axisY.length;n++)i[s[o]].push({viewportMinimum:this[s[o]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[s[o]][n].sessionVariables.newViewportMaximum});else if("axisY2"===s[o])for(n=0;n<this.axisY2.length;n++)i[s[o]].push({viewportMinimum:this[s[o]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[s[o]][n].sessionVariables.newViewportMaximum});else if("axisX"===s[o])for(n=0;n<this.axisX.length;n++)i[s[o]].push({viewportMinimum:this[s[o]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[s[o]][n].sessionVariables.newViewportMaximum});else if("axisX2"===s[o])for(n=0;n<this.axisX2.length;n++)i[s[o]].push({viewportMinimum:this[s[o]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[s[o]][n].sessionVariables.newViewportMaximum});this.dispatchEvent(t,i,this)},e.prototype._mouseEventHandler=function(t){void 0===t.target&&t.srcElement&&(t.target=t.srcElement);var i,s,o=at(t),n=t.type;if(t.which?s=3==t.which:t.button&&(s=2==t.button),e.capturedEventParam&&(i=e.capturedEventParam,"mouseup"===n&&(e.capturedEventParam=null,i.chart.overlaidCanvas.releaseCapture?i.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",i.chart._mouseEventHandler,!1)),i.hasOwnProperty(n)&&("mouseup"!==n||i.chart.overlaidCanvas.releaseCapture?t.target!==i.chart.overlaidCanvas&&Y||i[n].call(i.context,o.x,o.y):t.target!==i.chart.overlaidCanvas&&(i.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),V&&window.console&&(window.console.log(n+" --\x3e x: "+o.x+"; y:"+o.y),s&&window.console.log(t.which),"mouseup"===n&&window.console.log("mouseup")),!s){if(!e.capturedEventParam&&this._events){for(var a=0;a<this._events.length;a++)if(this._events[a].hasOwnProperty(n)){if(s=(i=this._events[a]).bounds,o.x>=s.x1&&o.x<=s.x2&&o.y>=s.y1&&o.y<=s.y2){i[n].call(i.context,o.x,o.y),"mousedown"===n&&!0===i.capture?(e.capturedEventParam=i,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===n&&(i.chart.overlaidCanvas.releaseCapture?i.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}i=null}t.target.style.cursor=i&&i.cursor?i.cursor:this._defaultCursor}n=this.plotArea,(o.x<n.x1||o.x>n.x2||o.y<n.y1||o.y>n.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}},e.prototype._plotAreaMouseDown=function(t,e){this.isDrag=!0,this.dragStartPoint={x:t,y:e}},e.prototype._plotAreaMouseUp=function(t,e){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var i=e-this.dragStartPoint.y,s=t-this.dragStartPoint.x,o=0<=this.zoomType.indexOf("x"),n=0<=this.zoomType.indexOf("y"),a=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var r=n;n=o,o=r}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(o=n=0;o<this._axes.length;o++)(i=this._axes[o]).logarithmic?i.viewportMinimum<i.minimum?(n=i.minimum/i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum*n,i.sessionVariables.newViewportMaximum=i.viewportMaximum*n,a=!0):i.viewportMaximum>i.maximum&&(n=i.viewportMaximum/i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum/n,i.sessionVariables.newViewportMaximum=i.viewportMaximum/n,a=!0):i.viewportMinimum<i.minimum?(n=i.minimum-i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum+n,i.sessionVariables.newViewportMaximum=i.viewportMaximum+n,a=!0):i.viewportMaximum>i.maximum&&(n=i.viewportMaximum-i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum-n,i.sessionVariables.newViewportMaximum=i.viewportMaximum-n,a=!0);else if((!o||2<Math.abs(s))&&(!n||2<Math.abs(i))&&this.zoomEnabled){if(!this.dragStartPoint)return;i=o?this.dragStartPoint.x:this.plotArea.x1,s=n?this.dragStartPoint.y:this.plotArea.y1,o=o?t:this.plotArea.x2,n=n?e:this.plotArea.y2,2<Math.abs(i-o)&&2<Math.abs(s-n)&&this._zoomPanToSelectedRegion(i,s,o,n)&&(a=!0)}a&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),a&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(T(this._zoomButton,this._resetButton),M(this,this._zoomButton,"pan"),M(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(t,e)}},e.prototype._plotAreaMouseMove=function(t,e){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var i=0,s=0,o=i=null,n=(o=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),a=this;if("xySwapped"===this.plotInfo.axisPlacement&&(i=n,n=o,o=i),i=this.dragStartPoint.x-t,s=this.dragStartPoint.y-e,2<Math.abs(i)&&8>Math.abs(i)&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,e),(!o||2<Math.abs(i)||!n||2<Math.abs(s))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)o={x1:o?this.plotArea.x1+i:this.plotArea.x1,y1:n?this.plotArea.y1+s:this.plotArea.y1,x2:o?this.plotArea.x2+i:this.plotArea.x2,y2:n?this.plotArea.y2+s:this.plotArea.y2},clearTimeout(a._panTimerId),a._panTimerId=setTimeout(function(i,s,o,n){return function(){a._zoomPanToSelectedRegion(i,s,o,n,!0)&&(a._dispatchRangeEvent("rangeChanging","pan"),a.render(),a._dispatchRangeEvent("rangeChanged","pan"),a.dragStartPoint.x=t,a.dragStartPoint.y=e)}}(o.x1,o.y1,o.x2,o.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),i=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";s=o?this.dragStartPoint.x:this.plotArea.x1;var r=n?this.dragStartPoint.y:this.plotArea.y1,h=o?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,l=n?e-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(s,r,o?t:this.plotArea.x2-this.plotArea.x1,n?e:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(s,r,h,l),this.overlaidCanvasCtx.globalAlpha=i}}else if(this.toolTip.mouseMoveHandler(t,e),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(o=0;o<this.axisX.length;o++)this.axisX[o].crosshair&&this.axisX[o].crosshair.enabled&&this.axisX[o].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(o=0;o<this.axisX2.length;o++)this.axisX2[o].crosshair&&this.axisX2[o].crosshair.enabled&&this.axisX2[o].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(o=0;o<this.axisY.length;o++)this.axisY[o].crosshair&&this.axisY[o].crosshair.enabled&&this.axisY[o].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(o=0;o<this.axisY2.length;o++)this.axisY2[o].crosshair&&this.axisY2[o].crosshair.enabled&&this.axisY2[o].renderCrosshair(t,e)}},e.prototype._zoomPanToSelectedRegion=function(t,e,i,s,o){if(e=(t=this.validateRegion(t,e,i,s,o)).axesWithValidRange,i=t.axesRanges,t.isValid)for(s=0;s<e.length;s++)o=i[s],e[s].setViewPortRange(o.val1,o.val2),this.syncCharts&&this.syncCharts(o.val1,o.val2);return t.isValid},e.prototype.validateRegion=function(t,e,i,s,o){o=o||!1;for(var n=0<=this.zoomType.indexOf("x"),a=0<=this.zoomType.indexOf("y"),r=!1,h=[],l=[],d=[],c=0;c<this._axes.length;c++)("axisX"===this._axes[c].type&&n||"axisY"===this._axes[c].type&&a)&&l.push(this._axes[c]);for(a=0;a<l.length;a++){n=!1;if((m=(c=l[a]).convertPixelToValue({x:t,y:e}))>(p=c.convertPixelToValue({x:i,y:s})))var u=p,p=m,m=u;if(c.scaleBreaks)for(u=0;!n&&u<c.scaleBreaks._appliedBreaks.length;u++)n=c.scaleBreaks._appliedBreaks[u].startValue<=m&&c.scaleBreaks._appliedBreaks[u].endValue>=p;if(isFinite(c.dataInfo.minDiff))if(u=c.getApparentDifference(m,p,null,!0),n||!(this.panEnabled&&c.scaleBreaks&&c.scaleBreaks._appliedBreaks.length)&&(c.logarithmic&&u<Math.pow(c.dataInfo.minDiff,3)||!c.logarithmic&&u<3*Math.abs(c.dataInfo.minDiff))||m<c.minimum||p>c.maximum){if(!o){r=!1;break}}else h.push(c),d.push({val1:m,val2:p}),r=!0}return{isValid:r,axesWithValidRange:h,axesRanges:d}},e.prototype.preparePlotArea=function(){var t=this.plotArea;if(!Y&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var e=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var i=this.axisY[0];t.x1=e.x1<e.x2?e.x1:i.lineCoordinates.x1,t.y1=e.y1<i.lineCoordinates.y1?e.y1:i.lineCoordinates.y1,t.x2=e.x2>i.lineCoordinates.x2?e.x2:i.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:i.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(i=this.axisY2[0],t.x1=e.x1<e.x2?e.x1:i.lineCoordinates.x1,t.y1=e.y1<i.lineCoordinates.y1?e.y1:i.lineCoordinates.y1,t.x2=e.x2>i.lineCoordinates.x2?e.x2:i.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:i.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1)}else e=this.layoutManager.getFreeSpace(),t.x1=e.x1,t.x2=e.x2,t.y1=e.y1,t.y2=e.y2,t.width=e.width,t.height=e.height;Y||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new P(t.x1,t.y1,t.x2,t.y2,2)},e.prototype.renderIndexLabels=function(t){var e=t||this.plotArea.ctx,i=this.plotArea,s=0,o=0,n=0,a=0,r=s=a=o=n=0,h=0;for(t=0;t<this._indexLabels.length;t++){var l,d,c=this._indexLabels[t],p=c.chartType.toLowerCase();r=b("indexLabelFontColor",c.dataPoint,c.dataSeries),h=b("indexLabelFontSize",c.dataPoint,c.dataSeries);l=b("indexLabelFontFamily",c.dataPoint,c.dataSeries),d=b("indexLabelFontStyle",c.dataPoint,c.dataSeries);a=b("indexLabelFontWeight",c.dataPoint,c.dataSeries);var m=b("indexLabelBackgroundColor",c.dataPoint,c.dataSeries),f=(o=b("indexLabelMaxWidth",c.dataPoint,c.dataSeries),n=b("indexLabelWrap",c.dataPoint,c.dataSeries),b("indexLabelLineDashType",c.dataPoint,c.dataSeries)),v=b("indexLabelLineColor",c.dataPoint,c.dataSeries),y=u(c.dataPoint.indexLabelLineThickness)?u(c.dataSeries.options.indexLabelLineThickness)?0:c.dataSeries.options.indexLabelLineThickness:c.dataPoint.indexLabelLineThickness,x=(s=0<y?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),w=null;(0<=c.dataSeries.type.indexOf("stacked")||"pie"===c.dataSeries.type||"doughnut"===c.dataSeries.type)&&(x=this.getPercentAndTotal(c.dataSeries,c.dataPoint)),(c.dataSeries.indexLabelFormatter||c.dataPoint.indexLabelFormatter)&&(w={chart:this,dataSeries:c.dataSeries,dataPoint:c.dataPoint,index:c.indexKeyword,total:x.total,percent:x.percent});var _=c.dataPoint.indexLabelFormatter?c.dataPoint.indexLabelFormatter(w):c.dataPoint.indexLabel?this.replaceKeywordsWithValue(c.dataPoint.indexLabel,c.dataPoint,c.dataSeries,null,c.indexKeyword):c.dataSeries.indexLabelFormatter?c.dataSeries.indexLabelFormatter(w):c.dataSeries.indexLabel?this.replaceKeywordsWithValue(c.dataSeries.indexLabel,c.dataPoint,c.dataSeries,null,c.indexKeyword):null;if(null!==_&&""!==_){x=b("indexLabelPlacement",c.dataPoint,c.dataSeries),w=b("indexLabelOrientation",c.dataPoint,c.dataSeries);var k=c.direction,M=c.dataSeries.axisX,T=c.dataSeries.axisY,C=!1;if((m=new D(e,{x:0,y:0,maxWidth:o||.5*this.width,maxHeight:n?5*h:1.5*h,angle:"horizontal"===w?0:-90,text:_,padding:0,backgroundColor:m,horizontalAlign:"left",fontSize:h,fontFamily:l,fontWeight:a,fontColor:r,fontStyle:d,textBaseline:"top"})).measureText(),c.dataSeries.indexLabelMaxWidth=m.maxWidth,"stackedarea100"===p){if(c.point.x<i.x1||c.point.x>i.x2||c.point.y<i.y1-1||c.point.y>i.y2+1)continue}else if("rangearea"===p||"rangesplinearea"===p){if(c.dataPoint.x<M.viewportMinimum||c.dataPoint.x>M.viewportMaximum||Math.max.apply(null,c.dataPoint.y)<T.viewportMinimum||Math.min.apply(null,c.dataPoint.y)>T.viewportMaximum)continue}else if(0<=p.indexOf("line")||0<=p.indexOf("area")||0<=p.indexOf("bubble")||0<=p.indexOf("scatter")){if(c.dataPoint.x<M.viewportMinimum||c.dataPoint.x>M.viewportMaximum||c.dataPoint.y<T.viewportMinimum||c.dataPoint.y>T.viewportMaximum)continue}else if(0<=p.indexOf("column")||"waterfall"===p||"error"===p&&!c.axisSwapped){if(c.dataPoint.x<M.viewportMinimum||c.dataPoint.x>M.viewportMaximum||c.bounds.y1>i.y2||c.bounds.y2<i.y1)continue}else if(0<=p.indexOf("bar")||"error"===p){if(c.dataPoint.x<M.viewportMinimum||c.dataPoint.x>M.viewportMaximum||c.bounds.x1>i.x2||c.bounds.x2<i.x1)continue}else if("candlestick"===p||"ohlc"===p){if(c.dataPoint.x<M.viewportMinimum||c.dataPoint.x>M.viewportMaximum||Math.max.apply(null,c.dataPoint.y)<T.viewportMinimum||Math.min.apply(null,c.dataPoint.y)>T.viewportMaximum)continue}else if(c.dataPoint.x<M.viewportMinimum||c.dataPoint.x>M.viewportMaximum)continue;o=a=2,"horizontal"===w?(r=m.width,h=m.height):(h=m.width,r=m.height),"normal"===this.plotInfo.axisPlacement?(0<=p.indexOf("line")||0<=p.indexOf("area")?(x="auto",a=4):0<=p.indexOf("stacked")?"auto"===x&&(x="inside"):"bubble"!==p&&"scatter"!==p||(x="inside"),l=c.point.x-r/2,"inside"!==x?(o=i.y1,n=i.y2,0<k?(d=c.point.y-h-a-s)<o&&(C=(d="auto"===x?Math.max(c.point.y,o)+a+s:o+a+s)+h>c.point.y):(d=c.point.y+a+s)>n-h-a-s&&(C=(d="auto"===x?Math.min(c.point.y,n)-h-a-s:n-h-a-s)<c.point.y)):(o=Math.max(c.bounds.y1,i.y1),n=Math.min(c.bounds.y2,i.y2),s=0<=p.indexOf("range")||"error"===p?0<k?Math.max(c.bounds.y1,i.y1)+h/2+a:Math.min(c.bounds.y2,i.y2)-h/2-a:(Math.max(c.bounds.y1,i.y1)+Math.min(c.bounds.y2,i.y2))/2,0<k?(d=Math.max(c.point.y,s)-h/2)<o&&("bubble"===p||"scatter"===p)&&(d=Math.max(c.point.y-h-a,i.y1+a)):(d=Math.min(c.point.y,s)-h/2)>n-h-a&&("bubble"===p||"scatter"===p)&&(d=Math.min(c.point.y+a,i.y2-h-a)),d=Math.min(d,n-h))):(0<=p.indexOf("line")||0<=p.indexOf("area")||0<=p.indexOf("scatter")?(x="auto",o=4):0<=p.indexOf("stacked")?"auto"===x&&(x="inside"):"bubble"===p&&(x="inside"),d=c.point.y-h/2,"inside"!==x?(a=i.x1,n=i.x2,0>k?(l=c.point.x-r-o-s)<a&&(C=(l="auto"===x?Math.max(c.point.x,a)+o+s:a+o+s)+r>c.point.x):(l=c.point.x+o+s)>n-r-o-s&&(C=(l="auto"===x?Math.min(c.point.x,n)-r-o-s:n-r-o-s)<c.point.x)):(a=Math.max(c.bounds.x1,i.x1),Math.min(c.bounds.x2,i.x2),s=0<=p.indexOf("range")||"error"===p?0>k?Math.max(c.bounds.x1,i.x1)+r/2+o:Math.min(c.bounds.x2,i.x2)-r/2-o:(Math.max(c.bounds.x1,i.x1)+Math.min(c.bounds.x2,i.x2))/2,l=0>k?Math.max(c.point.x,s)-r/2:Math.min(c.point.x,s)-r/2,l=Math.max(l,a))),"vertical"===w&&(d+=h),m.x=l,m.y=d,m.render(!0),y&&"inside"!==x&&(0>p.indexOf("bar")&&("error"!==p||!c.axisSwapped)&&c.point.x>i.x1&&c.point.x<i.x2||!C)&&(0>p.indexOf("column")&&("error"!==p||c.axisSwapped)&&c.point.y>i.y1&&c.point.y<i.y2||!C)&&(e.lineWidth=y,e.strokeStyle=v||"gray",e.setLineDash&&e.setLineDash(g(f,y)),e.beginPath(),e.moveTo(c.point.x,c.point.y),0<=p.indexOf("bar")||"error"===p&&c.axisSwapped?e.lineTo(l+(0<c.direction?0:r),d+("horizontal"===w?h:-h)/2):0<=p.indexOf("column")||"error"===p&&!c.axisSwapped?e.lineTo(l+r/2,d+((0<c.direction?h:-h)+("horizontal"===w?h:-h))/2):e.lineTo(l+r/2,d+((d<c.point.y?h:-h)+("horizontal"===w?h:-h))/2),e.stroke())}}for(e={source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)m=b("indexLabelBackgroundColor",(c=this._indexLabels[t]).dataPoint,c.dataSeries),c.dataSeries.indexLabelBackgroundColor=u(m)?Y?"transparent":null:m;return e},e.prototype.renderLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s=this._eventManager.ghostCtx;i.save();var o=this.plotArea;i.beginPath(),i.rect(o.x1,o.y1,o.width,o.height),i.clip();for(var n,a=[],r=0;r<t.dataSeriesIndexes.length;r++){var h=t.dataSeriesIndexes[r],l=this.data[h];i.lineWidth=l.lineThickness;var c=l.dataPoints,u="solid";if(i.setLineDash){var p=g(l.nullDataLineDashType,l.lineThickness),m=g(u=l.lineDashType,l.lineThickness);i.setLineDash(m)}var f=l.id;this._eventManager.objectMap[f]={objectType:"dataSeries",dataSeriesIndex:h},f=d(f),s.strokeStyle=f,s.lineWidth=0<l.lineThickness?Math.max(l.lineThickness,4):0;f=l._colorSet;var v=f=l.lineColor=l.options.lineColor?l.options.lineColor:f[0];i.strokeStyle=f;var y,b,x=!0,w=0;if(i.beginPath(),0<c.length){var _=!1;for(w=0;w<c.length;w++)if(!((y=c[w].x.getTime?c[w].x.getTime():c[w].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax&&(!l.connectNullData||!_)))if("number"!=typeof c[w].y)0<w&&!(l.connectNullData||_||x)&&(i.stroke(),Y&&s.stroke()),_=!0;else{y=t.axisX.convertValueToPixel(y),b=t.axisY.convertValueToPixel(c[w].y);var k=l.dataPointIds[w];if(this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:w,x1:y,y1:b},x||_?(!x&&l.connectNullData?(i.setLineDash&&(l.options.nullDataLineDashType||u===l.lineDashType&&l.lineDashType!==l.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(n.x,n.y),u=l.nullDataLineDashType,i.setLineDash(p)),i.lineTo(y,b),Y&&s.lineTo(y,b)):(i.beginPath(),i.moveTo(y,b),Y&&(s.beginPath(),s.moveTo(y,b))),_=x=!1):(i.lineTo(y,b),Y&&s.lineTo(y,b),0==w%500&&(i.stroke(),i.beginPath(),i.moveTo(y,b),Y&&(s.stroke(),s.beginPath(),s.moveTo(y,b)))),n={x:y,y:b},w<c.length-1&&(v!==(c[w].lineColor||f)||u!==(c[w].lineDashType||l.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(y,b),v=c[w].lineColor||f,i.strokeStyle=v,i.setLineDash&&(c[w].lineDashType?(u=c[w].lineDashType,i.setLineDash(g(u,l.lineThickness))):(u=l.lineDashType,i.setLineDash(m)))),0<c[w].markerSize||0<l.markerSize){var M=l.getMarkerProperties(w,y,b,i);a.push(M),k=d(k),Y&&a.push({x:y,y:b,ctx:s,type:M.type,size:M.size,color:k,borderColor:k,borderThickness:M.borderThickness})}(c[w].indexLabel||l.indexLabel||c[w].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:c[w],dataSeries:l,point:{x:y,y:b},direction:0>c[w].y===t.axisY.reversed?1:-1,color:f})}i.stroke(),Y&&s.stroke()}}return tt.drawMarkers(a),Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(o.x1,o.y1,o.width,o.height),s.beginPath()),i.restore(),i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStepLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s=this._eventManager.ghostCtx;i.save();var o=this.plotArea;i.beginPath(),i.rect(o.x1,o.y1,o.width,o.height),i.clip();for(var n,a=[],r=0;r<t.dataSeriesIndexes.length;r++){var h=t.dataSeriesIndexes[r],l=this.data[h];i.lineWidth=l.lineThickness;var c=l.dataPoints,u="solid";if(i.setLineDash){var p=g(l.nullDataLineDashType,l.lineThickness),m=g(u=l.lineDashType,l.lineThickness);i.setLineDash(m)}var f=l.id;this._eventManager.objectMap[f]={objectType:"dataSeries",dataSeriesIndex:h},f=d(f),s.strokeStyle=f,s.lineWidth=0<l.lineThickness?Math.max(l.lineThickness,4):0;f=l._colorSet;var v=f=l.lineColor=l.options.lineColor?l.options.lineColor:f[0];i.strokeStyle=f;var y,b,x=!0,w=0;if(i.beginPath(),0<c.length){var _=!1;for(w=0;w<c.length;w++)if(!((y=c[w].getTime?c[w].x.getTime():c[w].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax&&(!l.connectNullData||!_)))if("number"!=typeof c[w].y)0<w&&!(l.connectNullData||_||x)&&(i.stroke(),Y&&s.stroke()),_=!0;else{var k=b;y=t.axisX.convertValueToPixel(y),b=t.axisY.convertValueToPixel(c[w].y);var M=l.dataPointIds[w];this._eventManager.objectMap[M]={id:M,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:w,x1:y,y1:b},x||_?(!x&&l.connectNullData?(i.setLineDash&&(l.options.nullDataLineDashType||u===l.lineDashType&&l.lineDashType!==l.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(n.x,n.y),u=l.nullDataLineDashType,i.setLineDash(p)),i.lineTo(y,k),i.lineTo(y,b),Y&&(s.lineTo(y,k),s.lineTo(y,b))):(i.beginPath(),i.moveTo(y,b),Y&&(s.beginPath(),s.moveTo(y,b))),_=x=!1):(i.lineTo(y,k),Y&&s.lineTo(y,k),i.lineTo(y,b),Y&&s.lineTo(y,b),0==w%500&&(i.stroke(),i.beginPath(),i.moveTo(y,b),Y&&(s.stroke(),s.beginPath(),s.moveTo(y,b)))),n={x:y,y:b},w<c.length-1&&(v!==(c[w].lineColor||f)||u!==(c[w].lineDashType||l.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(y,b),v=c[w].lineColor||f,i.strokeStyle=v,i.setLineDash&&(c[w].lineDashType?(u=c[w].lineDashType,i.setLineDash(g(u,l.lineThickness))):(u=l.lineDashType,i.setLineDash(m)))),(0<c[w].markerSize||0<l.markerSize)&&(k=l.getMarkerProperties(w,y,b,i),a.push(k),M=d(M),Y&&a.push({x:y,y:b,ctx:s,type:k.type,size:k.size,color:M,borderColor:M,borderThickness:k.borderThickness})),(c[w].indexLabel||l.indexLabel||c[w].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:c[w],dataSeries:l,point:{x:y,y:b},direction:0>c[w].y===t.axisY.reversed?1:-1,color:f})}i.stroke(),Y&&s.stroke()}}return tt.drawMarkers(a),Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(o.x1,o.y1,o.width,o.height),s.beginPath()),i.restore(),i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderSpline=function(t){function e(t){if(0<(t=s(t,2)).length){o.beginPath(),Y&&n.beginPath(),o.moveTo(t[0].x,t[0].y),t[0].newStrokeStyle&&(o.strokeStyle=t[0].newStrokeStyle),t[0].newLineDashArray&&o.setLineDash(t[0].newLineDashArray),Y&&n.moveTo(t[0].x,t[0].y);for(var e=0;e<t.length-3;e+=3)o.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),Y&&n.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),(0<e&&0==e%3e3||t[e+3].newStrokeStyle||t[e+3].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(t[e+3].x,t[e+3].y),t[e+3].newStrokeStyle&&(o.strokeStyle=t[e+3].newStrokeStyle),t[e+3].newLineDashArray&&o.setLineDash(t[e+3].newLineDashArray),Y&&(n.stroke(),n.beginPath(),n.moveTo(t[e+3].x,t[e+3].y)));o.stroke(),Y&&n.stroke()}}var i=t.targetCanvasCtx||this.plotArea.ctx,o=Y?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;o.save();var a=this.plotArea;o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip();for(var r=[],h=0;h<t.dataSeriesIndexes.length;h++){var l=t.dataSeriesIndexes[h],c=this.data[l];o.lineWidth=c.lineThickness;var u=c.dataPoints,p="solid";if(o.setLineDash){var m=g(c.nullDataLineDashType,c.lineThickness),f=g(p=c.lineDashType,c.lineThickness);o.setLineDash(f)}var v=c.id;this._eventManager.objectMap[v]={objectType:"dataSeries",dataSeriesIndex:l},v=d(v),n.strokeStyle=v,n.lineWidth=0<c.lineThickness?Math.max(c.lineThickness,4):0;v=c._colorSet;var y=v=c.lineColor=c.options.lineColor?c.options.lineColor:v[0];o.strokeStyle=v;var b,x,w=0,_=[];if(o.beginPath(),0<u.length)for(x=!1,w=0;w<u.length;w++)if(!((b=u[w].getTime?u[w].x.getTime():u[w].x)<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!x)))if("number"!=typeof u[w].y)0<w&&!x&&(c.connectNullData?o.setLineDash&&0<_.length&&(c.options.nullDataLineDashType||!u[w-1].lineDashType)&&(_[_.length-1].newLineDashArray=m,p=c.nullDataLineDashType):(e(_),_=[])),x=!0;else{b=t.axisX.convertValueToPixel(b),x=t.axisY.convertValueToPixel(u[w].y);var k=c.dataPointIds[w];if(this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:w,x1:b,y1:x},_[_.length]={x:b,y:x},w<u.length-1&&(y!==(u[w].lineColor||v)||p!==(u[w].lineDashType||c.lineDashType))&&(y=u[w].lineColor||v,_[_.length-1].newStrokeStyle=y,o.setLineDash&&(u[w].lineDashType?(p=u[w].lineDashType,_[_.length-1].newLineDashArray=g(p,c.lineThickness)):(p=c.lineDashType,_[_.length-1].newLineDashArray=f))),0<u[w].markerSize||0<c.markerSize){var M=c.getMarkerProperties(w,b,x,o);r.push(M),k=d(k),Y&&r.push({x:b,y:x,ctx:n,type:M.type,size:M.size,color:k,borderColor:k,borderThickness:M.borderThickness})}(u[w].indexLabel||c.indexLabel||u[w].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:u[w],dataSeries:c,point:{x:b,y:x},direction:0>u[w].y===t.axisY.reversed?1:-1,color:v}),x=!1}e(_)}return tt.drawMarkers(r),Y&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),n.beginPath()),o.restore(),o.beginPath(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s,o,n,a=null,r=this.plotArea,h=0,l=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),c=(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0),u=t.axisX.dataInfo.minDiff;for(isFinite(u)||(u=.3*Math.abs(t.axisX.range)),u=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:r.width*(t.axisX.logarithmic?Math.log(u)/Math.log(t.axisX.range):Math.abs(u)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&h>c&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<h&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),u<h&&(u=h),u>c&&(u=c),i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip()),c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],m=this.data[p],f=m.dataPoints;if(0<f.length){var g=!!(5<u&&m.bevelEnabled);for(h=0;h<f.length;h++)if(!((n=f[h].getTime?f[h].x.getTime():f[h].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof f[h].y){s=t.axisX.convertValueToPixel(n),o=t.axisY.convertValueToPixel(f[h].y),s=t.axisX.reversed?s+t.plotType.totalDataSeries*u/2-(t.previousDataSeriesCount+c)*u<<0:s-t.plotType.totalDataSeries*u/2+(t.previousDataSeriesCount+c)*u<<0;var v,y=t.axisX.reversed?s-u<<0:s+u<<0;0<=f[h].y?v=l:(v=o,o=l),o>v&&(a=o,o=v,v=a),a=f[h].color?f[h].color:m._colorSet[h%m._colorSet.length],ct(i,s,o,y,v,a,0,null,g&&0<=f[h].y,0>f[h].y&&g,!1,!1,m.fillOpacity),a=m.dataPointIds[h],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:h,x1:s,y1:o,x2:y,y2:v},a=d(a),Y&&ct(this._eventManager.ghostCtx,s,o,y,v,a,0,null,!1,!1,!1,!1),(f[h].indexLabel||m.indexLabel||f[h].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:f[h],dataSeries:m,point:{x:s+(y-s)/2,y:0>f[h].y===t.axisY.reversed?o:v},direction:0>f[h].y===t.axisY.reversed?1:-1,bounds:{x1:s,y1:Math.min(o,v),x2:y,y2:Math.max(o,v)},color:a})}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:l<t.axisY.bounds.y1?t.axisY.bounds.y1:l>t.axisY.bounds.y2?t.axisY.bounds.y2:l}}},e.prototype.renderStackedColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s,o,n=null,a=this.plotArea,r=[],h=[],l=[],c=[],u=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&u>s&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<u&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),m<u&&(m=u),m>s&&(m=s),i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var f=0;f<t.dataSeriesIndexes.length;f++){var g=t.dataSeriesIndexes[f],v=this.data[g],y=v.dataPoints;if(0<y.length){var b=!!(5<m&&v.bevelEnabled);for(i.strokeStyle="#4572A7 ",u=0;u<y.length;u++)if(!((n=y[u].x.getTime?y[u].x.getTime():y[u].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof y[u].y){var x,w=(s=t.axisX.convertValueToPixel(n))-t.plotType.plotUnits.length*m/2+t.index*m<<0,_=w+m<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[u].y)l[n]=y[u].y+(l[n]?l[n]:0),0<l[n]&&(o=t.axisY.convertValueToPixel(l[n]),x=void 0!==r[n]?r[n]:p,r[n]=o);else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=y[u].y)c[n]=y[u].y+(c[n]?c[n]:0),x=t.axisY.convertValueToPixel(c[n]),o=void 0!==h[n]?h[n]:p,h[n]=x;else if(o=t.axisY.convertValueToPixel(y[u].y),0<=y[u].y){var k=void 0!==r[n]?r[n]:0;o-=k,x=p-k,r[n]=k+(x-o)}else x=o+(k=h[n]?h[n]:0),o=p+k,h[n]=k+(x-o);n=y[u].color?y[u].color:v._colorSet[u%v._colorSet.length],ct(i,w,o,_,x,n,0,null,b&&0<=y[u].y,0>y[u].y&&b,!1,!1,v.fillOpacity),n=v.dataPointIds[u],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:u,x1:w,y1:o,x2:_,y2:x},n=d(n),Y&&ct(this._eventManager.ghostCtx,w,o,_,x,n,0,null,!1,!1,!1,!1),(y[u].indexLabel||v.indexLabel||y[u].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:y[u],dataSeries:v,point:{x:s,y:0<=y[u].y?o:x},direction:0>y[u].y===t.axisY.reversed?1:-1,bounds:{x1:w,y1:Math.min(o,x),x2:_,y2:Math.max(o,x)},color:n})}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<t.axisY.bounds.y1?t.axisY.bounds.y1:p>t.axisY.bounds.y2?t.axisY.bounds.y2:p}}},e.prototype.renderStackedColumn100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s,o,n=null,a=this.plotArea,r=[],h=[],l=[],c=[],u=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&u>s&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<u&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),m<u&&(m=u),m>s&&(m=s),i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var f=0;f<t.dataSeriesIndexes.length;f++){var g=t.dataSeriesIndexes[f],v=this.data[g],y=v.dataPoints;if(0<y.length){var b=!!(5<m&&v.bevelEnabled);for(u=0;u<y.length;u++)if(!((n=y[u].x.getTime?y[u].x.getTime():y[u].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof y[u].y){s=t.axisX.convertValueToPixel(n),o=0!==t.dataPointYSums[n]?y[u].y/t.dataPointYSums[n]*100:0;var x,w=s-t.plotType.plotUnits.length*m/2+t.index*m<<0,_=w+m<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[u].y){if(l[n]=o+(void 0!==l[n]?l[n]:0),0>=l[n])continue;o=t.axisY.convertValueToPixel(l[n]),x=r[n]?r[n]:p,r[n]=o}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=y[u].y)c[n]=o+(void 0!==c[n]?c[n]:0),x=t.axisY.convertValueToPixel(c[n]),o=h[n]?h[n]:p,h[n]=x;else if(o=t.axisY.convertValueToPixel(o),0<=y[u].y){var k=void 0!==r[n]?r[n]:0;o-=k,x=p-k,t.dataSeriesIndexes.length-1===f&&1>=Math.abs(a.y1-o)&&(o=a.y1),r[n]=k+(x-o)}else x=o+(k=void 0!==h[n]?h[n]:0),o=p+k,t.dataSeriesIndexes.length-1===f&&1>=Math.abs(a.y2-x)&&(x=a.y2),h[n]=k+(x-o);n=y[u].color?y[u].color:v._colorSet[u%v._colorSet.length],ct(i,w,o,_,x,n,0,null,b&&0<=y[u].y,0>y[u].y&&b,!1,!1,v.fillOpacity),n=v.dataPointIds[u],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:u,x1:w,y1:o,x2:_,y2:x},n=d(n),Y&&ct(this._eventManager.ghostCtx,w,o,_,x,n,0,null,!1,!1,!1,!1),(y[u].indexLabel||v.indexLabel||y[u].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:y[u],dataSeries:v,point:{x:s,y:0<=y[u].y?o:x},direction:0>y[u].y===t.axisY.reversed?1:-1,bounds:{x1:w,y1:Math.min(o,x),x2:_,y2:Math.max(o,x)},color:n})}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<t.axisY.bounds.y1?t.axisY.bounds.y1:p>t.axisY.bounds.y2?t.axisY.bounds.y2:p}}},e.prototype.renderBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s,o,n,a=null,r=this.plotArea,h=0,l=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),c=(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0),u=t.axisX.dataInfo.minDiff;for(isFinite(u)||(u=.3*Math.abs(t.axisX.range)),u=this.options.dataPointWidth?this.dataPointWidth:r.height*(t.axisX.logarithmic?Math.log(u)/Math.log(t.axisX.range):Math.abs(u)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&h>c&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<h&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),u<h&&(u=h),u>c&&(u=c),i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip()),c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],m=this.data[p],f=m.dataPoints;if(0<f.length){var g=!!(5<u&&m.bevelEnabled);for(i.strokeStyle="#4572A7 ",h=0;h<f.length;h++)if(!((n=f[h].getTime?f[h].x.getTime():f[h].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof f[h].y){o=t.axisX.convertValueToPixel(n),s=t.axisY.convertValueToPixel(f[h].y),o=t.axisX.reversed?o+t.plotType.totalDataSeries*u/2-(t.previousDataSeriesCount+c)*u<<0:o-t.plotType.totalDataSeries*u/2+(t.previousDataSeriesCount+c)*u<<0;var v,y=t.axisX.reversed?o-u<<0:o+u<<0;0<=f[h].y?v=l:(v=s,s=l),a=f[h].color?f[h].color:m._colorSet[h%m._colorSet.length],ct(i,v,o,s,y,a,0,null,g,!1,!1,!1,m.fillOpacity),a=m.dataPointIds[h],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:h,x1:v,y1:o,x2:s,y2:y},a=d(a),Y&&ct(this._eventManager.ghostCtx,v,o,s,y,a,0,null,!1,!1,!1,!1),(f[h].indexLabel||m.indexLabel||f[h].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:f[h],dataSeries:m,point:{x:0<=f[h].y?s:v,y:o+(y-o)/2},direction:0>f[h].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(v,s),y1:o,x2:Math.max(v,s),y2:y},color:a})}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:l<t.axisY.bounds.x1?t.axisY.bounds.x1:l>t.axisY.bounds.x2?t.axisY.bounds.x2:l}}},e.prototype.renderStackedBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s,o,n=null,a=this.plotArea,r=[],h=[],l=[],c=[],u=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;o=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&u>o&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,o)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&o<u&&(o=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),m<u&&(m=u),m>o&&(m=o),i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var f=0;f<t.dataSeriesIndexes.length;f++){var g=t.dataSeriesIndexes[f],v=this.data[g],y=v.dataPoints;if(0<y.length){var b=!!(5<m&&v.bevelEnabled);for(i.strokeStyle="#4572A7 ",u=0;u<y.length;u++)if(!((n=y[u].x.getTime?y[u].x.getTime():y[u].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof y[u].y){var x,w=(o=t.axisX.convertValueToPixel(n))-t.plotType.plotUnits.length*m/2+t.index*m<<0,_=w+m<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[u].y)l[n]=y[u].y+(l[n]?l[n]:0),0<l[n]&&(x=r[n]?r[n]:p,r[n]=s=t.axisY.convertValueToPixel(l[n]));else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=y[u].y)c[n]=y[u].y+(c[n]?c[n]:0),s=h[n]?h[n]:p,h[n]=x=t.axisY.convertValueToPixel(c[n]);else if(s=t.axisY.convertValueToPixel(y[u].y),0<=y[u].y){var k=r[n]?r[n]:0;x=p+k,s+=k,r[n]=k+(s-x)}else x=s-(k=h[n]?h[n]:0),s=p-k,h[n]=k+(s-x);n=y[u].color?y[u].color:v._colorSet[u%v._colorSet.length],ct(i,x,w,s,_,n,0,null,b,!1,!1,!1,v.fillOpacity),n=v.dataPointIds[u],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:u,x1:x,y1:w,x2:s,y2:_},n=d(n),Y&&ct(this._eventManager.ghostCtx,x,w,s,_,n,0,null,!1,!1,!1,!1),(y[u].indexLabel||v.indexLabel||y[u].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:y[u],dataSeries:v,point:{x:0<=y[u].y?s:x,y:o},direction:0>y[u].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(x,s),y1:w,x2:Math.max(x,s),y2:_},color:n})}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<t.axisY.bounds.x1?t.axisY.bounds.x1:p>t.axisY.bounds.x2?t.axisY.bounds.x2:p}}},e.prototype.renderStackedBar100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s,o,n=null,a=this.plotArea,r=[],h=[],l=[],c=[],u=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;o=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&u>o&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,o)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&o<u&&(o=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),m<u&&(m=u),m>o&&(m=o),i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var f=0;f<t.dataSeriesIndexes.length;f++){var g=t.dataSeriesIndexes[f],v=this.data[g],y=v.dataPoints;if(0<y.length){var b=!!(5<m&&v.bevelEnabled);for(i.strokeStyle="#4572A7 ",u=0;u<y.length;u++)if(!((n=y[u].x.getTime?y[u].x.getTime():y[u].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof y[u].y){var x;o=t.axisX.convertValueToPixel(n),x=0!==t.dataPointYSums[n]?y[u].y/t.dataPointYSums[n]*100:0;var w=o-t.plotType.plotUnits.length*m/2+t.index*m<<0,_=w+m<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[u].y){if(l[n]=x+(l[n]?l[n]:0),0>=l[n])continue;x=r[n]?r[n]:p,r[n]=s=t.axisY.convertValueToPixel(l[n])}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=y[u].y)c[n]=x+(c[n]?c[n]:0),s=h[n]?h[n]:p,h[n]=x=t.axisY.convertValueToPixel(c[n]);else if(s=t.axisY.convertValueToPixel(x),0<=y[u].y){var k=r[n]?r[n]:0;x=p+k,s+=k,t.dataSeriesIndexes.length-1===f&&1>=Math.abs(a.x2-s)&&(s=a.x2),r[n]=k+(s-x)}else x=s-(k=h[n]?h[n]:0),s=p-k,t.dataSeriesIndexes.length-1===f&&1>=Math.abs(a.x1-x)&&(x=a.x1),h[n]=k+(s-x);n=y[u].color?y[u].color:v._colorSet[u%v._colorSet.length],ct(i,x,w,s,_,n,0,null,b,!1,!1,!1,v.fillOpacity),n=v.dataPointIds[u],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:u,x1:x,y1:w,x2:s,y2:_},n=d(n),Y&&ct(this._eventManager.ghostCtx,x,w,s,_,n,0,null,!1,!1,!1,!1),(y[u].indexLabel||v.indexLabel||y[u].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:y[u],dataSeries:v,point:{x:0<=y[u].y?s:x,y:o},direction:0>y[u].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(x,s),y1:w,x2:Math.max(x,s),y2:_},color:n})}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<t.axisY.bounds.x1?t.axisY.bounds.x1:p>t.axisY.bounds.x2?t.axisY.bounds.x2:p}}},e.prototype.renderArea=function(t){var e,i;function s(){M&&(0<f.lineThickness&&n.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?w=k:0>t.axisY.viewportMaximum?w=l.y1:0<t.axisY.viewportMinimum&&(w=h.y2),n.lineTo(y,w),n.lineTo(M.x,w),n.closePath(),n.globalAlpha=f.fillOpacity,n.fill(),n.globalAlpha=1,Y&&(r.lineTo(y,w),r.lineTo(M.x,w),r.closePath(),r.fill()),n.beginPath(),n.moveTo(y,b),r.beginPath(),r.moveTo(y,b),M={x:y,y:b})}var o=t.targetCanvasCtx||this.plotArea.ctx,n=Y?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var a,r=this._eventManager.ghostCtx,h=t.axisX.lineCoordinates,l=t.axisY.lineCoordinates,c=[],u=this.plotArea;n.save(),Y&&r.save(),n.beginPath(),n.rect(u.x1,u.y1,u.width,u.height),n.clip(),Y&&(r.beginPath(),r.rect(u.x1,u.y1,u.width,u.height),r.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var m=t.dataSeriesIndexes[p],f=this.data[m],v=f.dataPoints;c=f.id;this._eventManager.objectMap[c]={objectType:"dataSeries",dataSeriesIndex:m},c=d(c),r.fillStyle=c,c=[],e=!0;var y,b,x,w,_=0,k=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),M=null;if(0<v.length){var T=f._colorSet[_%f._colorSet.length],C=f.lineColor=f.options.lineColor||T,S=C;if(n.fillStyle=T,n.strokeStyle=C,n.lineWidth=f.lineThickness,i="solid",n.setLineDash){var P=g(f.nullDataLineDashType,f.lineThickness),D=g(i=f.lineDashType,f.lineThickness);n.setLineDash(D)}for(var A=!0;_<v.length;_++)if(!((x=v[_].x.getTime?v[_].x.getTime():v[_].x)<t.axisX.dataInfo.viewPortMin||x>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!A)))if("number"!=typeof v[_].y)f.connectNullData||A||e||s(),A=!0;else{y=t.axisX.convertValueToPixel(x),b=t.axisY.convertValueToPixel(v[_].y),e||A?(!e&&f.connectNullData?(n.setLineDash&&(f.options.nullDataLineDashType||i===f.lineDashType&&f.lineDashType!==f.nullDataLineDashType)&&(e=y,i=b,y=a.x,b=a.y,s(),n.moveTo(a.x,a.y),y=e,b=i,M=a,i=f.nullDataLineDashType,n.setLineDash(P)),n.lineTo(y,b),Y&&r.lineTo(y,b)):(n.beginPath(),n.moveTo(y,b),Y&&(r.beginPath(),r.moveTo(y,b)),M={x:y,y:b}),A=e=!1):(n.lineTo(y,b),Y&&r.lineTo(y,b),0==_%250&&s()),a={x:y,y:b},_<v.length-1&&(S!==(v[_].lineColor||C)||i!==(v[_].lineDashType||f.lineDashType))&&(s(),S=v[_].lineColor||C,n.strokeStyle=S,n.setLineDash&&(v[_].lineDashType?(i=v[_].lineDashType,n.setLineDash(g(i,f.lineThickness))):(i=f.lineDashType,n.setLineDash(D))));var I=f.dataPointIds[_];this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:_,x1:y,y1:b},0!==v[_].markerSize&&(0<v[_].markerSize||0<f.markerSize)&&(x=f.getMarkerProperties(_,y,b,n),c.push(x),I=d(I),Y&&c.push({x:y,y:b,ctx:r,type:x.type,size:x.size,color:I,borderColor:I,borderThickness:x.borderThickness})),(v[_].indexLabel||f.indexLabel||v[_].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:v[_],dataSeries:f,point:{x:y,y:b},direction:0>v[_].y===t.axisY.reversed?1:-1,color:T})}s(),tt.drawMarkers(c)}}return Y&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderSplineArea=function(t){function e(){var e=s(_,2);if(0<e.length){if(0<p.lineThickness){o.beginPath(),o.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(o.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&o.setLineDash(e[0].newLineDashArray);for(var i=0;i<e.length-3;i+=3)o.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y),Y&&n.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y),(e[i+3].newStrokeStyle||e[i+3].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(e[i+3].x,e[i+3].y),e[i+3].newStrokeStyle&&(o.strokeStyle=e[i+3].newStrokeStyle),e[i+3].newLineDashArray&&o.setLineDash(e[i+3].newLineDashArray));o.stroke()}for(o.beginPath(),o.moveTo(e[0].x,e[0].y),Y&&(n.beginPath(),n.moveTo(e[0].x,e[0].y)),i=0;i<e.length-3;i+=3)o.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y),Y&&n.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?y=x:0>t.axisY.viewportMaximum?y=r.y1:0<t.axisY.viewportMinimum&&(y=a.y2),w={x:e[0].x,y:e[0].y},o.lineTo(e[e.length-1].x,y),o.lineTo(w.x,y),o.closePath(),o.globalAlpha=p.fillOpacity,o.fill(),o.globalAlpha=1,Y&&(n.lineTo(e[e.length-1].x,y),n.lineTo(w.x,y),n.closePath(),n.fill())}}var i=t.targetCanvasCtx||this.plotArea.ctx,o=Y?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,r=t.axisY.lineCoordinates,h=[],l=this.plotArea;o.save(),Y&&n.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),Y&&(n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip());for(var c=0;c<t.dataSeriesIndexes.length;c++){var u=t.dataSeriesIndexes[c],p=this.data[u],m=p.dataPoints;h=p.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:u},h=d(h),n.fillStyle=h;h=[];var f,v,y,b=0,x=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),w=null,_=[];if(0<m.length){var k=p._colorSet[b%p._colorSet.length],M=p.lineColor=p.options.lineColor||k,T=M;o.fillStyle=k,o.strokeStyle=M,o.lineWidth=p.lineThickness;var C="solid";if(o.setLineDash){var S=g(p.nullDataLineDashType,p.lineThickness),P=g(C=p.lineDashType,p.lineThickness);o.setLineDash(P)}for(v=!1;b<m.length;b++)if(!((f=m[b].x.getTime?m[b].x.getTime():m[b].x)<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax&&(!p.connectNullData||!v)))if("number"!=typeof m[b].y)0<b&&!v&&(p.connectNullData?o.setLineDash&&0<_.length&&(p.options.nullDataLineDashType||!m[b-1].lineDashType)&&(_[_.length-1].newLineDashArray=S,C=p.nullDataLineDashType):(e(),_=[])),v=!0;else{f=t.axisX.convertValueToPixel(f),v=t.axisY.convertValueToPixel(m[b].y);var D=p.dataPointIds[b];if(this._eventManager.objectMap[D]={id:D,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:b,x1:f,y1:v},_[_.length]={x:f,y:v},b<m.length-1&&(T!==(m[b].lineColor||M)||C!==(m[b].lineDashType||p.lineDashType))&&(T=m[b].lineColor||M,_[_.length-1].newStrokeStyle=T,o.setLineDash&&(m[b].lineDashType?(C=m[b].lineDashType,_[_.length-1].newLineDashArray=g(C,p.lineThickness)):(C=p.lineDashType,_[_.length-1].newLineDashArray=P))),0!==m[b].markerSize&&(0<m[b].markerSize||0<p.markerSize)){var A=p.getMarkerProperties(b,f,v,o);h.push(A),D=d(D),Y&&h.push({x:f,y:v,ctx:n,type:A.type,size:A.size,color:D,borderColor:D,borderThickness:A.borderThickness})}(m[b].indexLabel||p.indexLabel||m[b].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:m[b],dataSeries:p,point:{x:f,y:v},direction:0>m[b].y===t.axisY.reversed?1:-1,color:k}),v=!1}e(),tt.drawMarkers(h)}}return Y&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStepArea=function(t){var e,i;function s(){M&&(0<f.lineThickness&&n.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?w=k:0>t.axisY.viewportMaximum?w=l.y1:0<t.axisY.viewportMinimum&&(w=h.y2),n.lineTo(y,w),n.lineTo(M.x,w),n.closePath(),n.globalAlpha=f.fillOpacity,n.fill(),n.globalAlpha=1,Y&&(r.lineTo(y,w),r.lineTo(M.x,w),r.closePath(),r.fill()),n.beginPath(),n.moveTo(y,b),r.beginPath(),r.moveTo(y,b),M={x:y,y:b})}var o=t.targetCanvasCtx||this.plotArea.ctx,n=Y?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var a,r=this._eventManager.ghostCtx,h=t.axisX.lineCoordinates,l=t.axisY.lineCoordinates,c=[],u=this.plotArea;n.save(),Y&&r.save(),n.beginPath(),n.rect(u.x1,u.y1,u.width,u.height),n.clip(),Y&&(r.beginPath(),r.rect(u.x1,u.y1,u.width,u.height),r.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var m=t.dataSeriesIndexes[p],f=this.data[m],v=f.dataPoints;c=f.id;this._eventManager.objectMap[c]={objectType:"dataSeries",dataSeriesIndex:m},c=d(c),r.fillStyle=c,c=[],e=!0;var y,b,x,w,_=0,k=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),M=null;if(i=!1,0<v.length){var T=f._colorSet[_%f._colorSet.length],C=f.lineColor=f.options.lineColor||T,S=C;n.fillStyle=T,n.strokeStyle=C,n.lineWidth=f.lineThickness;var P="solid";if(n.setLineDash){var D=g(f.nullDataLineDashType,f.lineThickness),A=g(P=f.lineDashType,f.lineThickness);n.setLineDash(A)}for(;_<v.length;_++)if(!((x=v[_].x.getTime?v[_].x.getTime():v[_].x)<t.axisX.dataInfo.viewPortMin||x>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!i))){var I=b;"number"!=typeof v[_].y?(f.connectNullData||i||e||s(),i=!0):(y=t.axisX.convertValueToPixel(x),b=t.axisY.convertValueToPixel(v[_].y),e||i?(!e&&f.connectNullData?(n.setLineDash&&(f.options.nullDataLineDashType||P===f.lineDashType&&f.lineDashType!==f.nullDataLineDashType)&&(e=y,i=b,y=a.x,b=a.y,s(),n.moveTo(a.x,a.y),y=e,b=i,M=a,P=f.nullDataLineDashType,n.setLineDash(D)),n.lineTo(y,I),n.lineTo(y,b),Y&&(r.lineTo(y,I),r.lineTo(y,b))):(n.beginPath(),n.moveTo(y,b),Y&&(r.beginPath(),r.moveTo(y,b)),M={x:y,y:b}),i=e=!1):(n.lineTo(y,I),Y&&r.lineTo(y,I),n.lineTo(y,b),Y&&r.lineTo(y,b),0==_%250&&s()),a={x:y,y:b},_<v.length-1&&(S!==(v[_].lineColor||C)||P!==(v[_].lineDashType||f.lineDashType))&&(s(),S=v[_].lineColor||C,n.strokeStyle=S,n.setLineDash&&(v[_].lineDashType?(P=v[_].lineDashType,n.setLineDash(g(P,f.lineThickness))):(P=f.lineDashType,n.setLineDash(A)))),x=f.dataPointIds[_],this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:_,x1:y,y1:b},0!==v[_].markerSize&&(0<v[_].markerSize||0<f.markerSize)&&(I=f.getMarkerProperties(_,y,b,n),c.push(I),x=d(x),Y&&c.push({x:y,y:b,ctx:r,type:I.type,size:I.size,color:x,borderColor:x,borderThickness:I.borderThickness})),(v[_].indexLabel||f.indexLabel||v[_].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:v[_],dataSeries:f,point:{x:y,y:b},direction:0>v[_].y===t.axisY.reversed?1:-1,color:T}))}s(),tt.drawMarkers(c)}}return Y&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStackedArea=function(t){function e(){if(!(1>v.length)){for(0<T.lineThickness&&s.stroke();0<v.length;){var t=v.pop();s.lineTo(t.x,t.y),Y&&_.lineTo(t.x,t.y)}s.closePath(),s.globalAlpha=T.fillOpacity,s.fill(),s.globalAlpha=1,s.beginPath(),Y&&(_.closePath(),_.fill(),_.beginPath()),v=[]}}var i=t.targetCanvasCtx||this.plotArea.ctx,s=Y?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var o,n,a,r,l,c=null,u=null,p=[],m=this.plotArea,f=[],v=[],y=[],b=[],x=0,w=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),_=this._eventManager.ghostCtx;Y&&_.beginPath(),s.save(),Y&&_.save(),s.beginPath(),s.rect(m.x1,m.y1,m.width,m.height),s.clip(),Y&&(_.beginPath(),_.rect(m.x1,m.y1,m.width,m.height),_.clip());c=[];for(var k=0;k<t.dataSeriesIndexes.length;k++){var M=t.dataSeriesIndexes[k],T=this.data[M],C=T.dataPoints;for(T.dataPointIndexes=[],x=0;x<C.length;x++)M=C[x].x.getTime?C[x].x.getTime():C[x].x,T.dataPointIndexes[M]=x,c[M]||(y.push(M),c[M]=!0);y.sort(h)}for(k=0;k<t.dataSeriesIndexes.length;k++){if(M=t.dataSeriesIndexes[k],C=(T=this.data[M]).dataPoints,r=!0,v=[],x=T.id,this._eventManager.objectMap[x]={objectType:"dataSeries",dataSeriesIndex:M},x=d(x),_.fillStyle=x,0<y.length){c=T._colorSet[0];var S=T.lineColor=T.options.lineColor||c,P=S;if(s.fillStyle=c,s.strokeStyle=S,s.lineWidth=T.lineThickness,l="solid",s.setLineDash){var D=g(T.nullDataLineDashType,T.lineThickness),A=g(l=T.lineDashType,T.lineThickness);s.setLineDash(A)}var I=!0;for(x=0;x<y.length;x++){u=y[x];var O=0<=T.dataPointIndexes[u]?C[T.dataPointIndexes[u]]:{x:u,y:null};if(!(u<t.axisX.dataInfo.viewPortMin||u>t.axisX.dataInfo.viewPortMax&&(!T.connectNullData||!I)))if("number"!=typeof O.y)T.connectNullData||I||r||e(),I=!0;else{o=t.axisX.convertValueToPixel(u);var B=f[u]?f[u]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(b[u]=O.y+(b[u]?b[u]:0),0>=b[u]&&t.axisY.logarithmic)continue;n=t.axisY.convertValueToPixel(b[u])}else n=t.axisY.convertValueToPixel(O.y),n-=B;if(v.push({x:o,y:w-B}),f[u]=w-n,r||I?(!r&&T.connectNullData?(s.setLineDash&&(T.options.nullDataLineDashType||l===T.lineDashType&&T.lineDashType!==T.nullDataLineDashType)&&(r=v.pop(),l=v[v.length-1],e(),s.moveTo(a.x,a.y),v.push(l),v.push(r),l=T.nullDataLineDashType,s.setLineDash(D)),s.lineTo(o,n),Y&&_.lineTo(o,n)):(s.beginPath(),s.moveTo(o,n),Y&&(_.beginPath(),_.moveTo(o,n))),I=r=!1):(s.lineTo(o,n),Y&&_.lineTo(o,n),0==x%250&&(e(),s.moveTo(o,n),Y&&_.moveTo(o,n),v.push({x:o,y:w-B}))),a={x:o,y:n},x<C.length-1&&(P!==(C[x].lineColor||S)||l!==(C[x].lineDashType||T.lineDashType))&&(e(),s.beginPath(),s.moveTo(o,n),v.push({x:o,y:w-B}),P=C[x].lineColor||S,s.strokeStyle=P,s.setLineDash&&(C[x].lineDashType?(l=C[x].lineDashType,s.setLineDash(g(l,T.lineThickness))):(l=T.lineDashType,s.setLineDash(A)))),0<=T.dataPointIndexes[u]){var F=T.dataPointIds[T.dataPointIndexes[u]];this._eventManager.objectMap[F]={id:F,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:T.dataPointIndexes[u],x1:o,y1:n}}0<=T.dataPointIndexes[u]&&0!==O.markerSize&&(0<O.markerSize||0<T.markerSize)&&(B=T.getMarkerProperties(T.dataPointIndexes[u],o,n,s),p.push(B),u=d(F),Y&&p.push({x:o,y:n,ctx:_,type:B.type,size:B.size,color:u,borderColor:u,borderThickness:B.borderThickness})),(O.indexLabel||T.indexLabel||O.indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:O,dataSeries:T,point:{x:o,y:n},direction:0>C[x].y===t.axisY.reversed?1:-1,color:c})}}e(),s.moveTo(o,n),Y&&_.moveTo(o,n)}delete T.dataPointIndexes}return tt.drawMarkers(p),Y&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),s.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&s.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&s.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),s.clearRect(m.x1,m.y1,m.width,m.height),_.restore()),s.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStackedArea100=function(t){function e(){for(0<T.lineThickness&&s.stroke();0<v.length;){var t=v.pop();s.lineTo(t.x,t.y),Y&&_.lineTo(t.x,t.y)}s.closePath(),s.globalAlpha=T.fillOpacity,s.fill(),s.globalAlpha=1,s.beginPath(),Y&&(_.closePath(),_.fill(),_.beginPath()),v=[]}var i=t.targetCanvasCtx||this.plotArea.ctx,s=Y?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var o,n,a,r,l,c=null,u=null,p=this.plotArea,m=[],f=[],v=[],y=[],b=[],x=0,w=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),_=this._eventManager.ghostCtx;s.save(),Y&&_.save(),s.beginPath(),s.rect(p.x1,p.y1,p.width,p.height),s.clip(),Y&&(_.beginPath(),_.rect(p.x1,p.y1,p.width,p.height),_.clip());c=[];for(var k=0;k<t.dataSeriesIndexes.length;k++){var M=t.dataSeriesIndexes[k],T=this.data[M],C=T.dataPoints;for(T.dataPointIndexes=[],x=0;x<C.length;x++)M=C[x].x.getTime?C[x].x.getTime():C[x].x,T.dataPointIndexes[M]=x,c[M]||(y.push(M),c[M]=!0);y.sort(h)}for(k=0;k<t.dataSeriesIndexes.length;k++){if(M=t.dataSeriesIndexes[k],C=(T=this.data[M]).dataPoints,r=!0,c=T.id,this._eventManager.objectMap[c]={objectType:"dataSeries",dataSeriesIndex:M},c=d(c),_.fillStyle=c,v=[],0<y.length){c=T._colorSet[x%T._colorSet.length];var S=T.lineColor=T.options.lineColor||c,P=S;if(s.fillStyle=c,s.strokeStyle=S,s.lineWidth=T.lineThickness,l="solid",s.setLineDash){var D=g(T.nullDataLineDashType,T.lineThickness),A=g(l=T.lineDashType,T.lineThickness);s.setLineDash(A)}var I=!0;for(x=0;x<y.length;x++){u=y[x];var O=0<=T.dataPointIndexes[u]?C[T.dataPointIndexes[u]]:{x:u,y:null};if(!(u<t.axisX.dataInfo.viewPortMin||u>t.axisX.dataInfo.viewPortMax&&(!T.connectNullData||!I)))if("number"!=typeof O.y)T.connectNullData||I||r||e(),I=!0;else{var B;B=0!==t.dataPointYSums[u]?O.y/t.dataPointYSums[u]*100:0,o=t.axisX.convertValueToPixel(u);var F=f[u]?f[u]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(b[u]=B+(b[u]?b[u]:0),0>=b[u]&&t.axisY.logarithmic)continue;n=t.axisY.convertValueToPixel(b[u])}else n=t.axisY.convertValueToPixel(B),n-=F;if(v.push({x:o,y:w-F}),f[u]=w-n,r||I?(!r&&T.connectNullData?(s.setLineDash&&(T.options.nullDataLineDashType||l===T.lineDashType&&T.lineDashType!==T.nullDataLineDashType)&&(r=v.pop(),l=v[v.length-1],e(),s.moveTo(a.x,a.y),v.push(l),v.push(r),l=T.nullDataLineDashType,s.setLineDash(D)),s.lineTo(o,n),Y&&_.lineTo(o,n)):(s.beginPath(),s.moveTo(o,n),Y&&(_.beginPath(),_.moveTo(o,n))),I=r=!1):(s.lineTo(o,n),Y&&_.lineTo(o,n),0==x%250&&(e(),s.moveTo(o,n),Y&&_.moveTo(o,n),v.push({x:o,y:w-F}))),a={x:o,y:n},x<C.length-1&&(P!==(C[x].lineColor||S)||l!==(C[x].lineDashType||T.lineDashType))&&(e(),s.beginPath(),s.moveTo(o,n),v.push({x:o,y:w-F}),P=C[x].lineColor||S,s.strokeStyle=P,s.setLineDash&&(C[x].lineDashType?(l=C[x].lineDashType,s.setLineDash(g(l,T.lineThickness))):(l=T.lineDashType,s.setLineDash(A)))),0<=T.dataPointIndexes[u]){var E=T.dataPointIds[T.dataPointIndexes[u]];this._eventManager.objectMap[E]={id:E,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:T.dataPointIndexes[u],x1:o,y1:n}}0<=T.dataPointIndexes[u]&&0!==O.markerSize&&(0<O.markerSize||0<T.markerSize)&&(F=T.getMarkerProperties(x,o,n,s),m.push(F),u=d(E),Y&&m.push({x:o,y:n,ctx:_,type:F.type,size:F.size,color:u,borderColor:u,borderThickness:F.borderThickness})),(O.indexLabel||T.indexLabel||O.indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:O,dataSeries:T,point:{x:o,y:n},direction:0>C[x].y===t.axisY.reversed?1:-1,color:c})}}e(),s.moveTo(o,n),Y&&_.moveTo(o,n)}delete T.dataPointIndexes}return tt.drawMarkers(m),Y&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),s.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&s.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&s.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),s.clearRect(p.x1,p.y1,p.width,p.height),_.restore()),s.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderBubble=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s,o,n=this.plotArea,a=0;i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var r=-1/0,h=1/0,l=0;l<t.dataSeriesIndexes.length;l++){var c=t.dataSeriesIndexes[l],u=this.data[c],p=u.dataPoints,m=0;for(a=0;a<p.length;a++)(s=s=p[a].getTime?p[a].x.getTime():p[a].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax||void 0===p[a].z||((m=p[a].z)>r&&(r=m),m<h&&(h=m))}var f=25*Math.PI,g=Math.max(Math.pow(.25*Math.min(n.height,n.width)/2,2)*Math.PI,f);for(l=0;l<t.dataSeriesIndexes.length;l++)if(c=t.dataSeriesIndexes[l],0<(p=(u=this.data[c]).dataPoints).length)for(i.strokeStyle="#4572A7 ",a=0;a<p.length;a++)if(!((s=s=p[a].getTime?p[a].x.getTime():p[a].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof p[a].y){s=t.axisX.convertValueToPixel(s),o=t.axisY.convertValueToPixel(p[a].y);m=p[a].z;var v=2*Math.max(Math.sqrt((r===h?g/2:f+(g-f)/(r-h)*(m-h))/Math.PI)<<0,1);(m=u.getMarkerProperties(a,i)).size=v,i.globalAlpha=u.fillOpacity,tt.drawMarker(s,o,i,m.type,m.size,m.color,m.borderColor,m.borderThickness),i.globalAlpha=1;var y=u.dataPointIds[a];this._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:a,x1:s,y1:o,size:v},v=d(y),Y&&tt.drawMarker(s,o,this._eventManager.ghostCtx,m.type,m.size,v,v,m.borderThickness),(p[a].indexLabel||u.indexLabel||p[a].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:p[a],dataSeries:u,point:{x:s,y:o},direction:1,bounds:{x1:s-m.size/2,y1:o-m.size/2,x2:s+m.size/2,y2:o+m.size/2},color:null})}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderScatter=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s,o,n=this.plotArea,a=0;i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var r=0;r<t.dataSeriesIndexes.length;r++){var h=t.dataSeriesIndexes[r],l=this.data[h],c=l.dataPoints;if(0<c.length){i.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(n.height,n.width)/2,2);var u=0,p=0;for(a=0;a<c.length;a++)if(!((s=s=c[a].getTime?c[a].x.getTime():c[a].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof c[a].y){s=t.axisX.convertValueToPixel(s),o=t.axisY.convertValueToPixel(c[a].y);var m=l.getMarkerProperties(a,s,o,i);i.globalAlpha=l.fillOpacity,tt.drawMarker(m.x,m.y,m.ctx,m.type,m.size,m.color,m.borderColor,m.borderThickness),i.globalAlpha=1,Math.sqrt((u-s)*(u-s)+(p-o)*(p-o))<Math.min(m.size,5)&&c.length>Math.min(this.plotArea.width,this.plotArea.height)||(u=l.dataPointIds[a],this._eventManager.objectMap[u]={id:u,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:a,x1:s,y1:o},u=d(u),Y&&tt.drawMarker(m.x,m.y,this._eventManager.ghostCtx,m.type,m.size,u,u,m.borderThickness),(c[a].indexLabel||l.indexLabel||c[a].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:c[a],dataSeries:l,point:{x:s,y:o},direction:1,bounds:{x1:s-m.size/2,y1:o-m.size/2,x2:s+m.size/2,y2:o+m.size/2},color:null}),u=s,p=o)}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderCandlestick=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e,s=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var o,n,a,r,h,l,c=null,p=null,m=this.plotArea,f=0,g=(c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(g)||(g=.3*Math.abs(t.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:.7*m.width*(t.axisX.logarithmic?Math.log(g)/Math.log(t.axisX.range):Math.abs(g)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&c>p&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<c&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),g<c&&(g=c),g>p&&(g=p),i.save(),Y&&s.save(),i.beginPath(),i.rect(m.x1,m.y1,m.width,m.height),i.clip(),Y&&(s.beginPath(),s.rect(m.x1,m.y1,m.width,m.height),s.clip());for(var v=0;v<t.dataSeriesIndexes.length;v++){var y=t.dataSeriesIndexes[v],b=this.data[y],x=b.dataPoints;if(0<x.length){var w=!!(5<g&&b.bevelEnabled);for(f=0;f<x.length;f++)if(!((l=x[f].getTime?x[f].x.getTime():x[f].x)<t.axisX.dataInfo.viewPortMin||l>t.axisX.dataInfo.viewPortMax)&&!u(x[f].y)&&x[f].y.length&&"number"==typeof x[f].y[0]&&"number"==typeof x[f].y[1]&&"number"==typeof x[f].y[2]&&"number"==typeof x[f].y[3]){o=t.axisX.convertValueToPixel(l),n=t.axisY.convertValueToPixel(x[f].y[0]),a=t.axisY.convertValueToPixel(x[f].y[1]),r=t.axisY.convertValueToPixel(x[f].y[2]),h=t.axisY.convertValueToPixel(x[f].y[3]);var _=o-g/2<<0,k=_+g<<0,M=(p=b.options.fallingColor?b.fallingColor:b._colorSet[0],c=x[f].color?x[f].color:b._colorSet[0],Math.round(Math.max(1,.15*g))),T=0==M%2?0:.5,C=b.dataPointIds[f];this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:f,x1:_,y1:n,x2:k,y2:a,x3:o,y3:r,x4:o,y4:h,borderThickness:M,color:c},i.strokeStyle=c,i.beginPath(),i.lineWidth=M,s.lineWidth=Math.max(M,4),"candlestick"===b.type?(i.moveTo(o-T,a),i.lineTo(o-T,Math.min(n,h)),i.stroke(),i.moveTo(o-T,Math.max(n,h)),i.lineTo(o-T,r),i.stroke(),ct(i,_,Math.min(n,h),k,Math.max(n,h),x[f].y[0]<=x[f].y[3]?b.risingColor:p,M,c,w,w,!1,!1,b.fillOpacity),Y&&(c=d(C),s.strokeStyle=c,s.moveTo(o-T,a),s.lineTo(o-T,Math.min(n,h)),s.stroke(),s.moveTo(o-T,Math.max(n,h)),s.lineTo(o-T,r),s.stroke(),ct(s,_,Math.min(n,h),k,Math.max(n,h),c,0,null,!1,!1,!1,!1))):"ohlc"===b.type&&(i.moveTo(o-T,a),i.lineTo(o-T,r),i.stroke(),i.beginPath(),i.moveTo(o,n),i.lineTo(_,n),i.stroke(),i.beginPath(),i.moveTo(o,h),i.lineTo(k,h),i.stroke(),Y&&(c=d(C),s.strokeStyle=c,s.moveTo(o-T,a),s.lineTo(o-T,r),s.stroke(),s.beginPath(),s.moveTo(o,n),s.lineTo(_,n),s.stroke(),s.beginPath(),s.moveTo(o,h),s.lineTo(k,h),s.stroke())),(x[f].indexLabel||b.indexLabel||x[f].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:b.type,dataPoint:x[f],dataSeries:b,point:{x:_+(k-_)/2,y:t.axisY.reversed?r:a},direction:1,bounds:{x1:_,y1:Math.min(a,r),x2:k,y2:Math.max(a,r)},color:c})}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(m.x1,m.y1,m.width,m.height),s.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderBoxAndWhisker=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e,s=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var o,n,a,r,h,l,c,p=null,m=this.plotArea,f=0,v=(p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(v)||(v=.3*Math.abs(t.axisX.range)),v=this.options.dataPointWidth?this.dataPointWidth:.7*m.width*(t.axisX.logarithmic?Math.log(v)/Math.log(t.axisX.range):Math.abs(v)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&p>f&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,f)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&f<p&&(f=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),v<p&&(v=p),v>f&&(v=f),i.save(),Y&&s.save(),i.beginPath(),i.rect(m.x1,m.y1,m.width,m.height),i.clip(),Y&&(s.beginPath(),s.rect(m.x1,m.y1,m.width,m.height),s.clip());for(var y=!!t.axisY.reversed,b=0;b<t.dataSeriesIndexes.length;b++){var x=t.dataSeriesIndexes[b],w=this.data[x],_=w.dataPoints;if(0<_.length){var k=!!(5<v&&w.bevelEnabled);for(f=0;f<_.length;f++)if(!((c=_[f].getTime?_[f].x.getTime():_[f].x)<t.axisX.dataInfo.viewPortMin||c>t.axisX.dataInfo.viewPortMax)&&!u(_[f].y)&&_[f].y.length&&"number"==typeof _[f].y[0]&&"number"==typeof _[f].y[1]&&"number"==typeof _[f].y[2]&&"number"==typeof _[f].y[3]&&"number"==typeof _[f].y[4]&&5===_[f].y.length){o=t.axisX.convertValueToPixel(c),n=t.axisY.convertValueToPixel(_[f].y[0]),a=t.axisY.convertValueToPixel(_[f].y[1]),r=t.axisY.convertValueToPixel(_[f].y[2]),h=t.axisY.convertValueToPixel(_[f].y[3]),l=t.axisY.convertValueToPixel(_[f].y[4]);var M=o-v/2<<0,T=o+v/2<<0,C=(p=_[f].color?_[f].color:w._colorSet[0],Math.round(Math.max(1,.15*v))),S=0==C%2?0:.5,P=_[f].whiskerColor?_[f].whiskerColor:_[f].color?w.whiskerColor?w.whiskerColor:_[f].color:w.whiskerColor?w.whiskerColor:p,D="number"==typeof _[f].whiskerThickness?_[f].whiskerThickness:"number"==typeof w.options.whiskerThickness?w.whiskerThickness:C,A=_[f].whiskerDashType?_[f].whiskerDashType:w.whiskerDashType,I="number"==typeof(I=u(_[f].whiskerLength)?u(w.options.whiskerLength)?v:w.whiskerLength:_[f].whiskerLength)?0>=I?0:I>=v?v:I:"string"==typeof I?parseInt(I)*v/100>v?v:parseInt(I)*v/100:v,O=1==Math.round(D)%2?.5:0,B=_[f].stemColor?_[f].stemColor:_[f].color?w.stemColor?w.stemColor:_[f].color:w.stemColor?w.stemColor:p,F="number"==typeof _[f].stemThickness?_[f].stemThickness:"number"==typeof w.options.stemThickness?w.stemThickness:C,E=1==Math.round(F)%2?.5:0,L=_[f].stemDashType?_[f].stemDashType:w.stemDashType,z=_[f].lineColor?_[f].lineColor:_[f].color?w.lineColor?w.lineColor:_[f].color:w.lineColor?w.lineColor:p,W="number"==typeof _[f].lineThickness?_[f].lineThickness:"number"==typeof w.options.lineThickness?w.lineThickness:C,N=_[f].lineDashType?_[f].lineDashType:w.lineDashType,V=1==Math.round(W)%2?.5:0,R=w.upperBoxColor,H=w.lowerBoxColor,j=u(w.options.fillOpacity)?1:w.fillOpacity,X=w.dataPointIds[f];this._eventManager.objectMap[X]={id:X,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:f,x1:M,y1:n,x2:T,y2:a,x3:o,y3:r,x4:o,y4:h,y5:l,borderThickness:C,color:p,stemThickness:F,stemColor:B,whiskerThickness:D,whiskerLength:I,whiskerColor:P,lineThickness:W,lineColor:z},i.save(),0<F&&(i.beginPath(),i.strokeStyle=B,i.lineWidth=F,i.setLineDash&&i.setLineDash(g(L,F)),i.moveTo(o-E,a),i.lineTo(o-E,n),i.stroke(),i.moveTo(o-E,h),i.lineTo(o-E,r),i.stroke()),i.restore(),s.lineWidth=Math.max(C,4),i.beginPath(),ct(i,M,Math.min(l,a),T,Math.max(a,l),H,0,p,!!y&&k,!y&&k,!1,!1,j),i.beginPath(),ct(i,M,Math.min(r,l),T,Math.max(l,r),R,0,p,!y&&k,!!y&&k,!1,!1,j),i.beginPath(),i.lineWidth=C,i.strokeStyle=p,i.rect(M-S,Math.min(a,r)-S,T-M+2*S,Math.max(a,r)-Math.min(a,r)+2*S),i.stroke(),i.save(),0<W&&(i.beginPath(),i.globalAlpha=1,i.setLineDash&&i.setLineDash(g(N,W)),i.strokeStyle=z,i.lineWidth=W,i.moveTo(M,l-V),i.lineTo(T,l-V),i.stroke()),i.restore(),i.save(),0<D&&(i.beginPath(),i.setLineDash&&i.setLineDash(g(A,D)),i.strokeStyle=P,i.lineWidth=D,i.moveTo(o-I/2<<0,h-O),i.lineTo(o+I/2<<0,h-O),i.stroke(),i.moveTo(o-I/2<<0,n+O),i.lineTo(o+I/2<<0,n+O),i.stroke()),i.restore(),Y&&(p=d(X),s.strokeStyle=p,s.lineWidth=F,0<F&&(s.moveTo(o-S-E,a),s.lineTo(o-S-E,Math.max(n,h)),s.stroke(),s.moveTo(o-S-E,Math.min(n,h)),s.lineTo(o-S-E,r),s.stroke()),ct(s,M,Math.max(a,r),T,Math.min(a,r),p,0,null,!1,!1,!1,!1),0<D&&(s.beginPath(),s.lineWidth=D,s.moveTo(o+I/2,h-O),s.lineTo(o-I/2,h-O),s.stroke(),s.moveTo(o+I/2,n+O),s.lineTo(o-I/2,n+O),s.stroke())),(_[f].indexLabel||w.indexLabel||_[f].indexLabelFormatter||w.indexLabelFormatter)&&this._indexLabels.push({chartType:w.type,dataPoint:_[f],dataSeries:w,point:{x:M+(T-M)/2,y:t.axisY.reversed?n:h},direction:1,bounds:{x1:M,y1:Math.min(n,h),x2:T,y2:Math.max(n,h)},color:p})}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(m.x1,m.y1,m.width,m.height),s.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s,o,n,a=null,r=this.plotArea,h=0;h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var l=t.axisX.dataInfo.minDiff;isFinite(l)||(l=.3*Math.abs(t.axisX.range)),l=this.options.dataPointWidth?this.dataPointWidth:r.width*(t.axisX.logarithmic?Math.log(l)/Math.log(t.axisX.range):Math.abs(l)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&h>s&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<h&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),l<h&&(l=h),l>s&&(l=s),i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],m=this.data[p],f=m.dataPoints;if(0<f.length){var g=!!(5<l&&m.bevelEnabled);for(h=0;h<f.length;h++)if(!((n=f[h].getTime?f[h].x.getTime():f[h].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&!u(f[h].y)&&f[h].y.length&&"number"==typeof f[h].y[0]&&"number"==typeof f[h].y[1]){a=t.axisX.convertValueToPixel(n),s=t.axisY.convertValueToPixel(f[h].y[0]),o=t.axisY.convertValueToPixel(f[h].y[1]);var v=t.axisX.reversed?a+t.plotType.totalDataSeries*l/2-(t.previousDataSeriesCount+c)*l<<0:a-t.plotType.totalDataSeries*l/2+(t.previousDataSeriesCount+c)*l<<0,y=t.axisX.reversed?v-l<<0:v+l<<0;a=f[h].color?f[h].color:m._colorSet[h%m._colorSet.length];if(s>o){var b=s;s=o,o=b}b=m.dataPointIds[h],this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:h,x1:v,y1:s,x2:y,y2:o},ct(i,v,s,y,o,a,0,a,g,g,!1,!1,m.fillOpacity),a=d(b),Y&&ct(this._eventManager.ghostCtx,v,s,y,o,a,0,null,!1,!1,!1,!1),(f[h].indexLabel||m.indexLabel||f[h].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:f[h],dataSeries:m,indexKeyword:0,point:{x:v+(y-v)/2,y:f[h].y[1]>=f[h].y[0]?o:s},direction:f[h].y[1]>=f[h].y[0]?-1:1,bounds:{x1:v,y1:Math.min(s,o),x2:y,y2:Math.max(s,o)},color:a}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:f[h],dataSeries:m,indexKeyword:1,point:{x:v+(y-v)/2,y:f[h].y[1]>=f[h].y[0]?s:o},direction:f[h].y[1]>=f[h].y[0]?1:-1,bounds:{x1:v,y1:Math.min(s,o),x2:y,y2:Math.max(s,o)},color:a}))}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderError=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e,s=!!t.axisY._position&&("left"!==t.axisY._position&&"right"!==t.axisY._position);if(!(0>=t.dataSeriesIndexes.length)){var o,a,r,h,l,d,c,p=null,m=!1,f=this.plotArea,g=0,v=t.axisX.dataInfo.minDiff;isFinite(v)||(v=.3*Math.abs(t.axisX.range)),i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.clip());for(var y=0,b=0;b<this.data.length;b++)!this.data[b].type.match(/(bar|column)/gi)||!this.data[b].visible||this.data[b].type.match(/(stacked)/gi)&&y||y++;for(var x=0;x<t.dataSeriesIndexes.length;x++){var w=t.dataSeriesIndexes[x],_=this.data[w],k=_.dataPoints,M=!u(_._linkedSeries)&&!(!_._linkedSeries.type.match(/(bar|column)/gi)||!_._linkedSeries.visible),T=0;if(M)for(p=_._linkedSeries.id,b=0;b<p;b++)!this.data[b].type.match(/(bar|column)/gi)||!this.data[b].visible||this.data[b].type.match(/(stacked)/gi)&&T||(this.data[b].type.match(/(range)/gi)&&(m=!0),T++);if(p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:s?Math.min(.15*this.height,this.plotArea.height/(M?y:1)*.9)<<0:.3*this.width,m&&(g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:s?Math.min(.15*this.height,this.plotArea.height/(M?y:1)*.9)<<0:.03*this.width),b=this.options.dataPointWidth?this.dataPointWidth:(s?f.height:f.width)*(t.axisX.logarithmic?Math.log(v)/Math.log(t.axisX.range):Math.abs(v)/Math.abs(t.axisX.range))/(M?y:1)*.9<<0,this.dataPointMaxWidth&&p>g&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<p&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),b<p&&(b=p),b>g&&(b=g),0<k.length){var C=_._colorSet;for(g=0;g<k.length;g++){p=_.lineColor=_.options.color?_.options.color:C[0];var S={color:k[g].whiskerColor?k[g].whiskerColor:k[g].color?_.whiskerColor?_.whiskerColor:k[g].color:_.whiskerColor?_.whiskerColor:p,thickness:u(k[g].whiskerThickness)?_.whiskerThickness:k[g].whiskerThickness,dashType:k[g].whiskerDashType?k[g].whiskerDashType:_.whiskerDashType,length:u(k[g].whiskerLength)?u(_.options.whiskerLength)?b:_.options.whiskerLength:k[g].whiskerLength,trimLength:u(k[g].whiskerLength)&&u(_.options.whiskerLength)?50:0};S.length="number"==typeof S.length?0>=S.length?0:S.length>=b?b:S.length:"string"==typeof S.length?parseInt(S.length)*b/100>b?b:parseInt(S.length)*b/100>b:b,S.thickness="number"==typeof S.thickness?0>S.thickness?0:Math.round(S.thickness):2;var P={color:k[g].stemColor?k[g].stemColor:k[g].color?_.stemColor?_.stemColor:k[g].color:_.stemColor?_.stemColor:p,thickness:k[g].stemThickness?k[g].stemThickness:_.stemThickness,dashType:k[g].stemDashType?k[g].stemDashType:_.stemDashType};if(P.thickness="number"==typeof P.thickness?0>P.thickness?0:Math.round(P.thickness):2,!((c=k[g].getTime?k[g].x.getTime():k[g].x)<t.axisX.dataInfo.viewPortMin||c>t.axisX.dataInfo.viewPortMax)&&!u(k[g].y)&&k[g].y.length&&"number"==typeof k[g].y[0]&&"number"==typeof k[g].y[1]){var D=t.axisX.convertValueToPixel(c);s?a=D:o=D,D=t.axisY.convertValueToPixel(k[g].y[0]),s?r=D:l=D,D=t.axisY.convertValueToPixel(k[g].y[1]),s?h=D:d=D,s?(l=t.axisX.reversed?a+(M?y:1)*b/2-(M?T-1:0)*b<<0:a-(M?y:1)*b/2+(M?T-1:0)*b<<0,d=t.axisX.reversed?l-b<<0:l+b<<0):(r=t.axisX.reversed?o+(M?y:1)*b/2-(M?T-1:0)*b<<0:o-(M?y:1)*b/2+(M?T-1:0)*b<<0,h=t.axisX.reversed?r-b<<0:r+b<<0),!s&&l>d&&(D=l,l=d,d=D),s&&r>h&&(D=r,r=h,h=D),D=_.dataPointIds[g],this._eventManager.objectMap[D]={id:D,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:g,x1:Math.min(r,h),y1:Math.min(l,d),x2:Math.max(h,r),y2:Math.max(d,l),isXYSwapped:s,stemProperties:P,whiskerProperties:S},n(i,Math.min(r,h),Math.min(l,d),Math.max(h,r),Math.max(d,l),p,S,P,s),Y&&n(this._eventManager.ghostCtx,r,l,h,d,p,S,P,s),(k[g].indexLabel||_.indexLabel||k[g].indexLabelFormatter||_.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:k[g],dataSeries:_,indexKeyword:0,point:{x:s?k[g].y[1]>=k[g].y[0]?r:h:r+(h-r)/2,y:s?l+(d-l)/2:k[g].y[1]>=k[g].y[0]?d:l},direction:k[g].y[1]>=k[g].y[0]?-1:1,bounds:{x1:s?Math.min(r,h):r,y1:s?l:Math.min(l,d),x2:s?Math.max(r,h):h,y2:s?d:Math.max(l,d)},color:p,axisSwapped:s}),this._indexLabels.push({chartType:"error",dataPoint:k[g],dataSeries:_,indexKeyword:1,point:{x:s?k[g].y[1]>=k[g].y[0]?h:r:r+(h-r)/2,y:s?l+(d-l)/2:k[g].y[1]>=k[g].y[0]?l:d},direction:k[g].y[1]>=k[g].y[0]?1:-1,bounds:{x1:s?Math.min(r,h):r,y1:s?l:Math.min(l,d),x2:s?Math.max(r,h):h,y2:s?d:Math.max(l,d)},color:p,axisSwapped:s}))}}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s,o,n,a,r=null,h=this.plotArea,l=0;l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0;var c=t.axisX.dataInfo.minDiff;isFinite(c)||(c=.3*Math.abs(t.axisX.range)),c=this.options.dataPointWidth?this.dataPointWidth:h.height*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>s&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<l&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),c<l&&(c=l),c>s&&(c=s),i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(h.x1,h.y1,h.width,h.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var m=t.dataSeriesIndexes[p],f=this.data[m],g=f.dataPoints;if(0<g.length){var v=!!(5<c&&f.bevelEnabled);for(i.strokeStyle="#4572A7 ",l=0;l<g.length;l++)if(!((a=g[l].getTime?g[l].x.getTime():g[l].x)<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&!u(g[l].y)&&g[l].y.length&&"number"==typeof g[l].y[0]&&"number"==typeof g[l].y[1]){s=t.axisY.convertValueToPixel(g[l].y[0]),o=t.axisY.convertValueToPixel(g[l].y[1]),n=t.axisX.convertValueToPixel(a),n=t.axisX.reversed?n+t.plotType.totalDataSeries*c/2-(t.previousDataSeriesCount+p)*c<<0:n-t.plotType.totalDataSeries*c/2+(t.previousDataSeriesCount+p)*c<<0;var y=t.axisX.reversed?n-c<<0:n+c<<0;s>o&&(r=s,s=o,o=r),r=g[l].color?g[l].color:f._colorSet[l%f._colorSet.length],ct(i,s,n,o,y,r,0,null,v,!1,!1,!1,f.fillOpacity),r=f.dataPointIds[l],this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:l,x1:s,y1:n,x2:o,y2:y},r=d(r),Y&&ct(this._eventManager.ghostCtx,s,n,o,y,r,0,null,!1,!1,!1,!1),(g[l].indexLabel||f.indexLabel||g[l].indexLabelFormatter||f.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:g[l],dataSeries:f,indexKeyword:0,point:{x:g[l].y[1]>=g[l].y[0]?s:o,y:n+(y-n)/2},direction:g[l].y[1]>=g[l].y[0]?-1:1,bounds:{x1:Math.min(s,o),y1:n,x2:Math.max(s,o),y2:y},color:r}),this._indexLabels.push({chartType:"rangeBar",dataPoint:g[l],dataSeries:f,indexKeyword:1,point:{x:g[l].y[1]>=g[l].y[0]?o:s,y:n+(y-n)/2},direction:g[l].y[1]>=g[l].y[0]?1:-1,bounds:{x1:Math.min(s,o),y1:n,x2:Math.max(s,o),y2:y},color:r}))}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeArea=function(t){function e(){if(x){var t=null;0<c.lineThickness&&s.stroke();for(var e=h.length-1;0<=e;e--)t=h[e],s.lineTo(t.x,t.y),o.lineTo(t.x,t.y);if(s.closePath(),s.globalAlpha=c.fillOpacity,s.fill(),s.globalAlpha=1,o.fill(),0<c.lineThickness){for(s.beginPath(),s.moveTo(t.x,t.y),e=0;e<h.length;e++)t=h[e],s.lineTo(t.x,t.y);s.stroke()}s.beginPath(),s.moveTo(p,m),o.beginPath(),o.moveTo(p,m),x={x:p,y:m},(h=[]).push({x:p,y:f})}}var i=t.targetCanvasCtx||this.plotArea.ctx,s=Y?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx,n=[],a=this.plotArea;s.save(),Y&&o.save(),s.beginPath(),s.rect(a.x1,a.y1,a.width,a.height),s.clip(),Y&&(o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip());for(var r=0;r<t.dataSeriesIndexes.length;r++){var h=[],l=t.dataSeriesIndexes[r],c=this.data[l],u=c.dataPoints;n=c.id;this._eventManager.objectMap[n]={objectType:"dataSeries",dataSeriesIndex:l},n=d(n),o.fillStyle=n;n=[];var p,m,f,v,y=!0,b=0,x=null;if(0<u.length){var w=c._colorSet[b%c._colorSet.length],_=c.lineColor=c.options.lineColor||w,k=_;s.fillStyle=w,s.strokeStyle=_,s.lineWidth=c.lineThickness;var M="solid";if(s.setLineDash){var T=g(c.nullDataLineDashType,c.lineThickness),C=g(M=c.lineDashType,c.lineThickness);s.setLineDash(C)}for(var S=!0;b<u.length;b++)if(!((v=u[b].x.getTime?u[b].x.getTime():u[b].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!S)))if(null!==u[b].y&&u[b].y.length&&"number"==typeof u[b].y[0]&&"number"==typeof u[b].y[1]){if(p=t.axisX.convertValueToPixel(v),m=t.axisY.convertValueToPixel(u[b].y[0]),f=t.axisY.convertValueToPixel(u[b].y[1]),y||S?(c.connectNullData&&!y?(s.setLineDash&&(c.options.nullDataLineDashType||M===c.lineDashType&&c.lineDashType!==c.nullDataLineDashType)&&(h[h.length-1].newLineDashArray=C,M=c.nullDataLineDashType,s.setLineDash(T)),s.lineTo(p,m),Y&&o.lineTo(p,m),h.push({x:p,y:f})):(s.beginPath(),s.moveTo(p,m),x={x:p,y:m},(h=[]).push({x:p,y:f}),Y&&(o.beginPath(),o.moveTo(p,m))),S=y=!1):(s.lineTo(p,m),h.push({x:p,y:f}),Y&&o.lineTo(p,m),0==b%250&&e()),v=c.dataPointIds[b],this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:b,x1:p,y1:m,y2:f},b<u.length-1&&(k!==(u[b].lineColor||_)||M!==(u[b].lineDashType||c.lineDashType))&&(e(),k=u[b].lineColor||_,h[h.length-1].newStrokeStyle=k,s.strokeStyle=k,s.setLineDash&&(u[b].lineDashType?(M=u[b].lineDashType,h[h.length-1].newLineDashArray=g(M,c.lineThickness),s.setLineDash(h[h.length-1].newLineDashArray)):(M=c.lineDashType,h[h.length-1].newLineDashArray=C,s.setLineDash(C)))),0!==u[b].markerSize&&(0<u[b].markerSize||0<c.markerSize)){var P=c.getMarkerProperties(b,p,f,s);n.push(P);var D=d(v);Y&&n.push({x:p,y:f,ctx:o,type:P.type,size:P.size,color:D,borderColor:D,borderThickness:P.borderThickness}),P=c.getMarkerProperties(b,p,m,s),n.push(P),D=d(v),Y&&n.push({x:p,y:m,ctx:o,type:P.type,size:P.size,color:D,borderColor:D,borderThickness:P.borderThickness})}(u[b].indexLabel||c.indexLabel||u[b].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:u[b],dataSeries:c,indexKeyword:0,point:{x:p,y:m},direction:u[b].y[0]>u[b].y[1]===t.axisY.reversed?-1:1,color:w}),this._indexLabels.push({chartType:"rangeArea",dataPoint:u[b],dataSeries:c,indexKeyword:1,point:{x:p,y:f},direction:u[b].y[0]>u[b].y[1]===t.axisY.reversed?1:-1,color:w}))}else S||y||e(),S=!0;e(),tt.drawMarkers(n)}}return Y&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),s.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&s.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&s.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),s.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),s.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderRangeSplineArea=function(t){function e(t,e){var i=s(y,2);if(0<i.length){if(0<c.lineThickness){o.strokeStyle=e,o.setLineDash&&o.setLineDash(t),o.beginPath(),o.moveTo(i[0].x,i[0].y);for(var a=0;a<i.length-3;a+=3)(i[a].newStrokeStyle||i[a].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(i[a].x,i[a].y),i[a].newStrokeStyle&&(o.strokeStyle=i[a].newStrokeStyle),i[a].newLineDashArray&&o.setLineDash(i[a].newLineDashArray)),o.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);o.stroke()}for(o.beginPath(),o.moveTo(i[0].x,i[0].y),Y&&(n.beginPath(),n.moveTo(i[0].x,i[0].y)),a=0;a<i.length-3;a+=3)o.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y),Y&&n.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);for(i=s(b,2),o.lineTo(b[b.length-1].x,b[b.length-1].y),a=i.length-1;2<a;a-=3)o.bezierCurveTo(i[a-1].x,i[a-1].y,i[a-2].x,i[a-2].y,i[a-3].x,i[a-3].y),Y&&n.bezierCurveTo(i[a-1].x,i[a-1].y,i[a-2].x,i[a-2].y,i[a-3].x,i[a-3].y);if(o.closePath(),o.globalAlpha=c.fillOpacity,o.fill(),Y&&(n.closePath(),n.fill()),o.globalAlpha=1,0<c.lineThickness){o.strokeStyle=e,o.setLineDash&&o.setLineDash(t),o.beginPath(),o.moveTo(i[0].x,i[0].y);for(var r=a=0;a<i.length-3;a+=3,r++)(y[r].newStrokeStyle||y[r].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(i[a].x,i[a].y),y[r].newStrokeStyle&&(o.strokeStyle=y[r].newStrokeStyle),y[r].newLineDashArray&&o.setLineDash(y[r].newLineDashArray)),o.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);o.stroke()}o.beginPath()}}var i=t.targetCanvasCtx||this.plotArea.ctx,o=Y?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=[],r=this.plotArea;o.save(),Y&&n.save(),o.beginPath(),o.rect(r.x1,r.y1,r.width,r.height),o.clip(),Y&&(n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var l=t.dataSeriesIndexes[h],c=this.data[l],u=c.dataPoints;a=c.id;this._eventManager.objectMap[a]={objectType:"dataSeries",dataSeriesIndex:l},a=d(a),n.fillStyle=a;a=[];var p,m,f,v=0,y=[],b=[];if(0<u.length){var x=c._colorSet[v%c._colorSet.length],w=c.lineColor=c.options.lineColor||x,_=w;o.fillStyle=x,o.lineWidth=c.lineThickness;var k,M="solid";if(o.setLineDash){var T=g(c.nullDataLineDashType,c.lineThickness);k=g(M=c.lineDashType,c.lineThickness)}for(m=!1;v<u.length;v++)if(!((p=u[v].x.getTime?u[v].x.getTime():u[v].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!m)))if(null!==u[v].y&&u[v].y.length&&"number"==typeof u[v].y[0]&&"number"==typeof u[v].y[1]){p=t.axisX.convertValueToPixel(p),m=t.axisY.convertValueToPixel(u[v].y[0]),f=t.axisY.convertValueToPixel(u[v].y[1]);var C=c.dataPointIds[v];if(this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:v,x1:p,y1:m,y2:f},y[y.length]={x:p,y:m},b[b.length]={x:p,y:f},v<u.length-1&&(_!==(u[v].lineColor||w)||M!==(u[v].lineDashType||c.lineDashType))&&(_=u[v].lineColor||w,y[y.length-1].newStrokeStyle=_,o.setLineDash&&(u[v].lineDashType?(M=u[v].lineDashType,y[y.length-1].newLineDashArray=g(M,c.lineThickness)):(M=c.lineDashType,y[y.length-1].newLineDashArray=k))),0!==u[v].markerSize&&(0<u[v].markerSize||0<c.markerSize)){var S=c.getMarkerProperties(v,p,m,o);a.push(S);var P=d(C);Y&&a.push({x:p,y:m,ctx:n,type:S.type,size:S.size,color:P,borderColor:P,borderThickness:S.borderThickness}),S=c.getMarkerProperties(v,p,f,o),a.push(S),P=d(C),Y&&a.push({x:p,y:f,ctx:n,type:S.type,size:S.size,color:P,borderColor:P,borderThickness:S.borderThickness})}(u[v].indexLabel||c.indexLabel||u[v].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:u[v],dataSeries:c,indexKeyword:0,point:{x:p,y:m},direction:u[v].y[0]<=u[v].y[1]?-1:1,color:x}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:u[v],dataSeries:c,indexKeyword:1,point:{x:p,y:f},direction:u[v].y[0]<=u[v].y[1]?1:-1,color:x})),m=!1}else 0<v&&!m&&(c.connectNullData?o.setLineDash&&0<y.length&&(c.options.nullDataLineDashType||!u[v-1].lineDashType)&&(y[y.length-1].newLineDashArray=T,M=c.nullDataLineDashType):(e(k,w),y=[],b=[])),m=!0;e(k,w),tt.drawMarkers(a)}}return Y&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderWaterfall=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Y?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var s,o,n,a,r=this._eventManager.ghostCtx,h=null,l=this.plotArea,c=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;o=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0;var p=t.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(t.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(p)/Math.log(t.axisX.range):Math.abs(p)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&c>o&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,o)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&o<c&&(o=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),p<c&&(p=c),p>o&&(p=o),i.save(),Y&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(l.x1,l.y1,l.width,l.height),i.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var f=t.dataSeriesIndexes[m],v=this.data[f],y=v.dataPoints;h=v._colorSet[0];v.risingColor=v.options.risingColor?v.options.risingColor:h,v.fallingColor=v.options.fallingColor?v.options.fallingColor:"#e40a0a";var b="number"==typeof v.options.lineThickness?Math.round(v.lineThickness):1,x=1==Math.round(b)%2?-.5:0;if(0<y.length){var w=!!(5<p&&v.bevelEnabled),_=!1,k=null,M=null;for(c=0;c<y.length;c++)if(a=y[c].getTime?y[c].x.getTime():y[c].x,"number"!=typeof y[c].y){if(0<c&&!_&&v.connectNullData)var T=v.options.nullDataLineDashType||!y[c-1].lineDashType?v.nullDataLineDashType:y[c-1].lineDashType;_=!0}else{s=t.axisX.convertValueToPixel(a),o=0===v.dataPointEOs[c].cumulativeSum?u:t.axisY.convertValueToPixel(v.dataPointEOs[c].cumulativeSum),n=0===v.dataPointEOs[c].cumulativeSumYStartValue?u:t.axisY.convertValueToPixel(v.dataPointEOs[c].cumulativeSumYStartValue),s=t.axisX.reversed?s+t.plotType.totalDataSeries*p/2-(t.previousDataSeriesCount+m)*p<<0:s-t.plotType.totalDataSeries*p/2+(t.previousDataSeriesCount+m)*p<<0;var C=t.axisX.reversed?s-p<<0:s+p<<0;o>n&&(h=o,o=n,n=h),t.axisY.reversed&&(h=o,o=n,n=h),h=v.dataPointIds[c],this._eventManager.objectMap[h]={id:h,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:c,x1:s,y1:o,x2:C,y2:n};var S=y[c].color?y[c].color:0<y[c].y?v.risingColor:v.fallingColor;ct(i,s,o,C,n,S,0,S,w,w,!1,!1,v.fillOpacity),h=d(h),Y&&ct(this._eventManager.ghostCtx,s,o,C,n,h,0,null,!1,!1,!1,!1);var P;S=s;P=void 0!==y[c].isIntermediateSum&&!0===y[c].isIntermediateSum||void 0!==y[c].isCumulativeSum&&!0===y[c].isCumulativeSum?0<y[c].y?o:n:0<y[c].y?n:o,0<c&&k&&(!_||v.connectNullData)&&(_&&i.setLineDash&&i.setLineDash(g(T,b)),i.beginPath(),i.moveTo(k,M-x),i.lineTo(S,P-x),0<b&&i.stroke(),Y&&(r.beginPath(),r.moveTo(k,M-x),r.lineTo(S,P-x),0<b&&r.stroke())),_=!1,k=C,M=0<y[c].y?o:n,S=y[c].lineDashType?y[c].lineDashType:v.options.lineDashType?v.options.lineDashType:"shortDash",i.strokeStyle=y[c].lineColor?y[c].lineColor:v.options.lineColor?v.options.lineColor:"#9e9e9e",i.lineWidth=b,i.setLineDash&&(S=g(S,b),i.setLineDash(S)),(y[c].indexLabel||v.indexLabel||y[c].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:y[c],dataSeries:v,point:{x:s+(C-s)/2,y:0<=y[c].y?o:n},direction:0>y[c].y===t.axisY.reversed?1:-1,bounds:{x1:s,y1:Math.min(o,n),x2:C,y2:Math.max(o,n)},color:h})}}}return Y&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}};var K=function(t,e,i,s,o,n,a,r,h){if(!(0>i)){if(void 0===r&&(r=1),!Y){var l=Number((a%(2*Math.PI)).toFixed(8));Number((n%(2*Math.PI)).toFixed(8))===l&&(a-=1e-4)}t.save(),t.globalAlpha=r,"pie"===o?(t.beginPath(),t.moveTo(e.x,e.y),t.arc(e.x,e.y,i,n,a,!1),t.fillStyle=s,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===o&&(t.beginPath(),t.arc(e.x,e.y,i,n,a,!1),0<=h&&t.arc(e.x,e.y,h*i,a,n,!0),t.closePath(),t.fillStyle=s,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};e.prototype.renderPie=function(t){function e(t){var e=r.plotArea.ctx;for(e.clearRect(m.x1,m.y1,m.width,m.height),e.fillStyle=r.backgroundColor,e.fillRect(m.x1,m.y1,m.width,m.height),e=0;e<d.length;e++){var i=f[e].startAngle,s=f[e].endAngle;if(s>i){var o=.07*M*Math.cos(f[e].midAngle),n=.07*M*Math.sin(f[e].midAngle),a=!1;d[e].exploded?(1e-9<Math.abs(f[e].center.x-(w.x+o))||1e-9<Math.abs(f[e].center.y-(w.y+n)))&&(f[e].center.x=w.x+o*t,f[e].center.y=w.y+n*t,a=!0):(0<Math.abs(f[e].center.x-w.x)||0<Math.abs(f[e].center.y-w.y))&&(f[e].center.x=w.x+o*(1-t),f[e].center.y=w.y+n*(1-t),a=!0),a&&((o={}).dataSeries=l,o.dataPoint=l.dataPoints[e],o.index=e,r.toolTip.highlightObjects([o])),K(r.plotArea.ctx,f[e].center,f[e].radius,d[e].color?d[e].color:l._colorSet[e%l._colorSet.length],l.type,i,s,l.fillOpacity,f[e].percentInnerRadius)}}for((t=r.plotArea.ctx).save(),t.fillStyle="black",t.strokeStyle="grey",t.textBaseline="middle",t.lineJoin="round",e=e=0;e<d.length;e++)(i=f[e]).indexLabelText&&(i.indexLabelTextBlock.y-=i.indexLabelTextBlock.height/2,s=0,s="left"===i.hemisphere?"inside"!==l.indexLabelPlacement?-(i.indexLabelTextBlock.width+p):-i.indexLabelTextBlock.width/2:"inside"!==l.indexLabelPlacement?p:-i.indexLabelTextBlock.width/2,i.indexLabelTextBlock.x+=s,i.indexLabelTextBlock.render(!0),i.indexLabelTextBlock.x-=s,i.indexLabelTextBlock.y+=i.indexLabelTextBlock.height/2,"inside"!==i.indexLabelPlacement&&0<i.indexLabelLineThickness&&(s=i.center.x+M*Math.cos(i.midAngle),o=i.center.y+M*Math.sin(i.midAngle),t.strokeStyle=i.indexLabelLineColor,t.lineWidth=i.indexLabelLineThickness,t.setLineDash&&t.setLineDash(g(i.indexLabelLineDashType,i.indexLabelLineThickness)),t.beginPath(),t.moveTo(s,o),t.lineTo(i.indexLabelTextBlock.x,i.indexLabelTextBlock.y),t.lineTo(i.indexLabelTextBlock.x+("left"===i.hemisphere?-p:p),i.indexLabelTextBlock.y),t.stroke()),t.lineJoin="miter");t.save()}function i(t,e){var i=0,s=(i=t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2),o=e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,n=e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2;return e.indexLabelTextBlock.y>t.indexLabelTextBlock.y?o-s:i-n}function s(t){for(var e=null,s=1;s<d.length;s++){if(e=(t+s+f.length)%f.length,f[e].hemisphere!==f[t].hemisphere){e=null;break}if(f[e].indexLabelText&&e!==t&&(0>i(f[e],f[t])||("right"===f[t].hemisphere?f[e].indexLabelTextBlock.y>=f[t].indexLabelTextBlock.y:f[e].indexLabelTextBlock.y<=f[t].indexLabelTextBlock.y)))break;e=null}return e}function o(t,e,n){if(1e3<(n=(n||0)+1))return 0;e=e||0;var a=0,r=w.y-1*h,l=w.y+1*h;if(0<=t&&t<d.length){var c=f[t];if(0>e&&c.indexLabelTextBlock.y<r||0<e&&c.indexLabelTextBlock.y>l)return 0;var u=0,p=0;p=u=u=0;for(0>e?c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2>r&&c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2+e<r&&(e=-(r-(c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2+e))):c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2<r&&c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2+e>l&&(e=c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2+e-l),e=c.indexLabelTextBlock.y+e,r=0,r="right"===c.hemisphere?w.x+Math.sqrt(Math.pow(h,2)-Math.pow(e-w.y,2)):w.x-Math.sqrt(Math.pow(h,2)-Math.pow(e-w.y,2)),p=w.x+M*Math.cos(c.midAngle),u=w.y+M*Math.sin(c.midAngle),u=Math.sqrt(Math.pow(r-p,2)+Math.pow(e-u,2)),p=Math.acos(M/h),e=(u=Math.acos((h*h+M*M-u*u)/(2*M*h)))<p?e-c.indexLabelTextBlock.y:0,r=null,l=1;l<d.length;l++){if(r=(t-l+f.length)%f.length,f[r].hemisphere!==f[t].hemisphere){r=null;break}if(f[r].indexLabelText&&f[r].hemisphere===f[t].hemisphere&&r!==t&&(0>i(f[r],f[t])||("right"===f[t].hemisphere?f[r].indexLabelTextBlock.y<=f[t].indexLabelTextBlock.y:f[r].indexLabelTextBlock.y>=f[t].indexLabelTextBlock.y)))break;r=null}p=r,u=s(t),l=r=0,0>e?(a=e,null!==(l="right"===c.hemisphere?p:u)&&(p=-e,(e=c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2-(f[l].indexLabelTextBlock.y+f[l].indexLabelTextBlock.height/2))-p<v&&(+(l=o(l,r=-p,n+1)).toFixed(x)>+r.toFixed(x)&&(a=e>v?-(e-v):-(p-(l-r)))))):0<e&&(a=e,null!==(l="right"===c.hemisphere?u:p)&&(p=e,(e=f[l].indexLabelTextBlock.y-f[l].indexLabelTextBlock.height/2-(c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2))-p<v&&(+(l=o(l,r=p,n+1)).toFixed(x)<+r.toFixed(x)&&(a=e>v?e-v:p-(r-l))))),a&&(n=c.indexLabelTextBlock.y+a,e=0,e="right"===c.hemisphere?w.x+Math.sqrt(Math.pow(h,2)-Math.pow(n-w.y,2)):w.x-Math.sqrt(Math.pow(h,2)-Math.pow(n-w.y,2)),c.midAngle>Math.PI/2-b&&c.midAngle<Math.PI/2+b?(r=(t-1+f.length)%f.length,r=f[r],t=f[(t+1+f.length)%f.length],"left"===c.hemisphere&&"right"===r.hemisphere&&e>r.indexLabelTextBlock.x?e=r.indexLabelTextBlock.x-15:"right"===c.hemisphere&&"left"===t.hemisphere&&e<t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x+15)):c.midAngle>3*Math.PI/2-b&&c.midAngle<3*Math.PI/2+b&&(r=(t-1+f.length)%f.length,r=f[r],t=f[(t+1+f.length)%f.length],"right"===c.hemisphere&&"left"===r.hemisphere&&e<r.indexLabelTextBlock.x?e=r.indexLabelTextBlock.x+15:"left"===c.hemisphere&&"right"===t.hemisphere&&e>t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x-15)),c.indexLabelTextBlock.y=n,c.indexLabelTextBlock.x=e,c.indexLabelAngle=Math.atan2(c.indexLabelTextBlock.y-w.y,c.indexLabelTextBlock.x-w.x))}return a}function n(){(u=r.plotArea.ctx).fillStyle="grey",u.strokeStyle="grey",u.font="16px Arial",u.textBaseline="middle";var t=u=0,e=0,n=!0;for(t=0;10>t&&(1>t||0<e);t++){if((l.radius||!l.radius&&void 0!==l.innerRadius&&null!==l.innerRadius&&M-e<=T)&&(n=!1),n&&(M-=e),e=0,"inside"!==l.indexLabelPlacement){for(h=M*y,u=0;u<d.length;u++){(g=f[u]).indexLabelTextBlock.x=w.x+h*Math.cos(g.midAngle),g.indexLabelTextBlock.y=w.y+h*Math.sin(g.midAngle),g.indexLabelAngle=g.midAngle,g.radius=M,g.percentInnerRadius=C}for(var a,c,u=0;u<d.length;u++){var g=f[u],b=s(u);if(null!==b){a=f[u],c=f[b];var _=0;if(0>(_=i(a,c)-v)){for(var k=c=0,S=0;S<d.length;S++)S!==u&&f[S].hemisphere===g.hemisphere&&(f[S].indexLabelTextBlock.y<g.indexLabelTextBlock.y?c++:k++);k=-1*(_-(c=_/(c+k||1)*k));var P=S=0;"right"===g.hemisphere?(S=o(u,c),+(P=o(b,k=-1*(_-S))).toFixed(x)<+k.toFixed(x)&&+S.toFixed(x)<=+c.toFixed(x)&&o(u,-(k-P))):(S=o(b,c),+(P=o(u,k=-1*(_-S))).toFixed(x)<+k.toFixed(x)&&+S.toFixed(x)<=+c.toFixed(x)&&o(b,-(k-P)))}}}}else for(u=0;u<d.length;u++)g=f[u],h="pie"===l.type?.7*M:.8*M,b=w.x+h*Math.cos(g.midAngle),c=w.y+h*Math.sin(g.midAngle),g.indexLabelTextBlock.x=b,g.indexLabelTextBlock.y=c;for(u=0;u<d.length;u++)0!==(b=(g=f[u]).indexLabelTextBlock.measureText()).height&&0!==b.width&&(b=b=0,"right"===g.hemisphere?(b=m.x2-(g.indexLabelTextBlock.x+g.indexLabelTextBlock.width+p),b*=-1):b=m.x1-(g.indexLabelTextBlock.x-g.indexLabelTextBlock.width-p),0<b&&(!n&&g.indexLabelText&&(c="right"===g.hemisphere?m.x2-g.indexLabelTextBlock.x:g.indexLabelTextBlock.x-m.x1,.3*g.indexLabelTextBlock.maxWidth>c?g.indexLabelText="":g.indexLabelTextBlock.maxWidth=.85*c,.3*g.indexLabelTextBlock.maxWidth<c&&(g.indexLabelTextBlock.x-="right"===g.hemisphere?2:-2)),Math.abs(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-w.y)<M||Math.abs(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2-w.y)<M)&&(9<(b/=Math.abs(Math.cos(g.indexLabelAngle)))&&(b*=.3),b>e&&(e=b)),b=b=0,0<g.indexLabelAngle&&g.indexLabelAngle<Math.PI?(b=m.y2-(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2+5),b*=-1):b=m.y1-(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-5),0<b&&(!n&&g.indexLabelText&&(0===o(u,b*(c=0<g.indexLabelAngle&&g.indexLabelAngle<Math.PI?-1:1))&&o(u,2*c)),Math.abs(g.indexLabelTextBlock.x-w.x)<M&&(9<(b/=Math.abs(Math.sin(g.indexLabelAngle)))&&(b*=.3),b>e&&(e=b))));var D=function(t,e,i){for(var s=[],o=0;s.push(f[e]),e!==i;e=(e+1+d.length)%d.length);for(s.sort((function(t,e){return t.y-e.y})),e=0;e<s.length&&(i=s[e],o<.7*t);e++)o+=i.indexLabelTextBlock.height,i.indexLabelTextBlock.text="",i.indexLabelText="",i.indexLabelTextBlock.measureText()};!function(){for(var t=-1,e=-1,o=0,n=!1,r=0;r<d.length;r++)if(n=!1,(a=f[r]).indexLabelText){var h=s(r);if(null!==h){var l,c=f[h];if(_=0,l=0>(_=i(a,c))){l=a.indexLabelTextBlock.x;var u=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,m=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2,g=c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2,v=c.indexLabelTextBlock.x+c.indexLabelTextBlock.width,y=c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2;l=!(a.indexLabelTextBlock.x+a.indexLabelTextBlock.width<c.indexLabelTextBlock.x-p||l>v+p||u>y+p||m<g-p)}l?(0>t&&(t=r),h!==t&&(e=h,o+=-_),0==r%Math.max(d.length/10,3)&&(n=!0)):n=!0,n&&0<o&&0<=t&&0<=e&&(D(o,t,e),e=t=-1,o=0)}}0<o&&D(o,t,e)}()}}function a(){if(r.plotArea.layoutManager.reset(),r.title&&(r.title.dockInsidePlotArea||"center"===r.title.horizontalAlign&&"center"===r.title.verticalAlign)&&r.title.render(),r.subtitles)for(var t=0;t<r.subtitles.length;t++){var e=r.subtitles[t];(e.dockInsidePlotArea||"center"===e.horizontalAlign&&"center"===e.verticalAlign)&&e.render()}r.legend&&(r.legend.dockInsidePlotArea||"center"===r.legend.horizontalAlign&&"center"===r.legend.verticalAlign)&&(r.legend.setLayout(),r.legend.render())}var r=this;if(!(0>=t.dataSeriesIndexes.length)){var h,l=this.data[t.dataSeriesIndexes[0]],d=l.dataPoints,p=10,m=this.plotArea,f=l.dataPointEOs,v=2,y=1.3,b=20/180*Math.PI,x=6,w={x:(m.x2+m.x1)/2,y:(m.y2+m.y1)/2},_=0;t=!1;for(var k=0;k<d.length;k++)_+=Math.abs(d[k].y),!t&&void 0!==d[k].indexLabel&&null!==d[k].indexLabel&&0<d[k].indexLabel.toString().length&&(t=!0),!t&&void 0!==d[k].label&&null!==d[k].label&&0<d[k].label.toString().length&&(t=!0);if(0!==_){t=t||void 0!==l.indexLabel&&null!==l.indexLabel&&0<l.indexLabel.toString().length;var M="inside"!==l.indexLabelPlacement&&t?.75*Math.min(m.width,m.height)/2:.92*Math.min(m.width,m.height)/2;l.radius&&(M=c(l.radius,M));var T=void 0!==l.innerRadius&&null!==l.innerRadius?c(l.innerRadius,M):.7*M;l.radius=M,"doughnut"===l.type&&(l.innerRadius=T);var C=Math.min(T/M,(M-1)/M);this.pieDoughnutClickHandler=function(t){r.isAnimating||!u(t.dataSeries.explodeOnClick)&&!t.dataSeries.explodeOnClick||((t=t.dataPoint).exploded=!t.exploded,1<this.dataPoints.length&&r._animator.animate(0,500,(function(t){e(t),a()})))},function(){if(l&&d){for(var t=0,e=0,i=0,s=0,o=0;o<d.length;o++){var n=d[o],a=l.dataPointIds[o];f[o].id=a,f[o].objectType="dataPoint",f[o].dataPointIndex=o,f[o].dataSeriesIndex=0;var h=f[o],c={percent:null,total:null},p=null;c=r.getPercentAndTotal(l,n);(l.indexLabelFormatter||n.indexLabelFormatter)&&(p={chart:r.options,dataSeries:l,dataPoint:n,total:c.total,percent:c.percent}),c=n.indexLabelFormatter?n.indexLabelFormatter(p):n.indexLabel?r.replaceKeywordsWithValue(n.indexLabel,n,l,o):l.indexLabelFormatter?l.indexLabelFormatter(p):l.indexLabel?r.replaceKeywordsWithValue(l.indexLabel,n,l,o):n.label?n.label:"",r._eventManager.objectMap[a]=h,h.center={x:w.x,y:w.y},h.y=n.y,h.radius=M,h.percentInnerRadius=C,h.indexLabelText=c,h.indexLabelPlacement=l.indexLabelPlacement,h.indexLabelLineColor=n.indexLabelLineColor?n.indexLabelLineColor:l.options.indexLabelLineColor?l.options.indexLabelLineColor:n.color?n.color:l._colorSet[o%l._colorSet.length],h.indexLabelLineThickness=u(n.indexLabelLineThickness)?l.indexLabelLineThickness:n.indexLabelLineThickness,h.indexLabelLineDashType=n.indexLabelLineDashType?n.indexLabelLineDashType:l.indexLabelLineDashType,h.indexLabelFontColor=n.indexLabelFontColor?n.indexLabelFontColor:l.indexLabelFontColor,h.indexLabelFontStyle=n.indexLabelFontStyle?n.indexLabelFontStyle:l.indexLabelFontStyle,h.indexLabelFontWeight=n.indexLabelFontWeight?n.indexLabelFontWeight:l.indexLabelFontWeight,h.indexLabelFontSize=u(n.indexLabelFontSize)?l.indexLabelFontSize:n.indexLabelFontSize,h.indexLabelFontFamily=n.indexLabelFontFamily?n.indexLabelFontFamily:l.indexLabelFontFamily,h.indexLabelBackgroundColor=n.indexLabelBackgroundColor?n.indexLabelBackgroundColor:l.options.indexLabelBackgroundColor?l.options.indexLabelBackgroundColor:l.indexLabelBackgroundColor,h.indexLabelMaxWidth=n.indexLabelMaxWidth?n.indexLabelMaxWidth:l.indexLabelMaxWidth?l.indexLabelMaxWidth:.33*m.width,h.indexLabelWrap=void 0!==n.indexLabelWrap?n.indexLabelWrap:l.indexLabelWrap,h.startAngle=0===o?l.startAngle?l.startAngle/180*Math.PI:0:f[o-1].endAngle,h.startAngle=(h.startAngle+2*Math.PI)%(2*Math.PI),h.endAngle=h.startAngle+2*Math.PI/_*Math.abs(n.y),n=((n=(h.endAngle+h.startAngle)/2)+2*Math.PI)%(2*Math.PI),h.midAngle=n,h.midAngle>Math.PI/2-b&&h.midAngle<Math.PI/2+b?((0===t||f[i].midAngle>h.midAngle)&&(i=o),t++):h.midAngle>3*Math.PI/2-b&&h.midAngle<3*Math.PI/2+b&&((0===e||f[s].midAngle>h.midAngle)&&(s=o),e++),h.hemisphere=n>Math.PI/2&&n<=3*Math.PI/2?"left":"right",h.indexLabelTextBlock=new D(r.plotArea.ctx,{fontSize:h.indexLabelFontSize,fontFamily:h.indexLabelFontFamily,fontColor:h.indexLabelFontColor,fontStyle:h.indexLabelFontStyle,fontWeight:h.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:h.indexLabelBackgroundColor,maxWidth:h.indexLabelMaxWidth,maxHeight:h.indexLabelWrap?5*h.indexLabelFontSize:1.5*h.indexLabelFontSize,text:h.indexLabelText,padding:0,textBaseline:"top"}),h.indexLabelTextBlock.measureText()}for(a=n=0,c=!1,o=0;o<d.length;o++)h=f[(i+o)%d.length],1<t&&h.midAngle>Math.PI/2-b&&h.midAngle<Math.PI/2+b&&(n<=t/2&&!c?(h.hemisphere="right",n++):(h.hemisphere="left",c=!0));for(c=!1,o=0;o<d.length;o++)h=f[(s+o)%d.length],1<e&&h.midAngle>3*Math.PI/2-b&&h.midAngle<3*Math.PI/2+b&&(a<=e/2&&!c?(h.hemisphere="left",a++):(h.hemisphere="right",c=!0))}}(),n(),n(),n(),n(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,(function(t){var e=r.plotArea.ctx;for(e.clearRect(m.x1,m.y1,m.width,m.height),e.fillStyle=r.backgroundColor,e.fillRect(m.x1,m.y1,m.width,m.height),t=f[0].startAngle+2*Math.PI*t,e=0;e<d.length;e++){var i=0===e?f[e].startAngle:s,s=i+(f[e].endAngle-f[e].startAngle),o=!1;s>t&&(s=t,o=!0);var n=d[e].color?d[e].color:l._colorSet[e%l._colorSet.length];if(s>i&&K(r.plotArea.ctx,f[e].center,f[e].radius,n,l.type,i,s,l.fillOpacity,f[e].percentInnerRadius),o)break}a()}),(function(){r.disableToolTip=!1,r._animator.animate(0,r.animatedRender?500:0,(function(t){e(t),a()}))}))}}};var Z=function(t,e,i,s){void 0===i&&(i=1),0>=Math.round(e.y4-e.y1)||(t.save(),t.globalAlpha=i,t.beginPath(),t.moveTo(Math.round(e.x1),Math.round(e.y1)),t.lineTo(Math.round(e.x2),Math.round(e.y2)),t.lineTo(Math.round(e.x3),Math.round(e.y3)),t.lineTo(Math.round(e.x4),Math.round(e.y4)),"undefined"!==e.x5&&(t.lineTo(Math.round(e.x5),Math.round(e.y5)),t.lineTo(Math.round(e.x6),Math.round(e.y6))),t.closePath(),t.fillStyle=s||e.color,t.fill(),t.globalAplha=1,t.restore())};e.prototype.renderFunnel=function(t){function e(){var t,e,i,s;if("inside"!==m.indexLabelPlacement)for(var o=0;o<H.length;o++)0==q[o].textBlock.text.length?q[o].isDirty=!0:(i=void 0!==(t=H[o]).x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2,e=m.reversed?void 0!==t.x5&&i>W?h(i).x2+1:(t.x2+t.x3)/2+1:void 0!==t.x5?i<W?h(i).x2+1:(t.x4+t.x3)/2+1:(t.x2+t.x3)/2+1,q[o].textBlock.x=e+O,q[o].textBlock.y=i-q[o].height/2,m.reversed?(q[o].textBlock.y+q[o].height>E+y&&(q[o].textBlock.y=E+y-q[o].height),q[o].textBlock.y<N-y&&(q[o].textBlock.y=N-y)):(q[o].textBlock.y<E-y&&(q[o].textBlock.y=E-y),q[o].textBlock.y+q[o].height>N+y&&(q[o].textBlock.y=N+y-q[o].height)));else for(o=0;o<H.length;o++)0==q[o].textBlock.text.length?q[o].isDirty=!0:(e=(t=H[o]).height,i=q[o].height,s=q[o].width,e>=i?(e=o!=V?(t.x4+t.x3)/2-s/2:(t.x5+t.x4)/2-s/2,i=o!=V?(t.y1+t.y3)/2-i/2:(t.y1+t.y4)/2-i/2,q[o].textBlock.x=e,q[o].textBlock.y=i):q[o].isDirty=!0)}function i(t,e){return(e<H.length?q[e].textBlock.y:m.reversed?E+y:N+y)-(0>t?m.reversed?N-y:E-y:q[t].textBlock.y+q[t].height+U)}function s(t,i,s){var n,a,r,h=[],c=y,u=[];if(-1!==i&&(0<=Q.indexOf(i)?(a=Q.indexOf(i),Q.splice(a,1)):(Q.push(i),Q=Q.sort((function(t,e){return t-e})))),0===Q.length)h=$;else{a=y*(1!=Q.length||0!=Q[0]&&Q[0]!=H.length-1?2:1)/function(){for(var t=0,e=0;e<H.length-1;e++)(0<=Q.indexOf(e)||0<=Q.indexOf(e+1))&&t++;return t}();for(var p=0;p<H.length;p++){if(1==Q.length&&0==Q[0]){if(0===p){h.push($[p]),n=c;continue}}else 0===p&&(n=-1*c);h.push($[p]+n),(0<=Q.indexOf(p)||p<H.length&&0<=Q.indexOf(p+1))&&(n+=a)}}r=function(){for(var t=[],e=0;e<H.length;e++)t.push(h[e]-H[e].y1);return t}();(new Date).getTime();var g=function(t){for(var e,i,s=0;s<H.length;s++)e=r[s],i=H[s],e*=t,void 0===u[s]&&(u[s]=0),0>u&&(u*=-1),i.y1+=e-u[s],i.y2+=e-u[s],i.y3+=e-u[s],i.y4+=e-u[s],i.y5&&(i.y5+=e-u[s],i.y6+=e-u[s]),u[s]=e};t._animator.animate(0,s,(function(s){var n=t.plotArea.ctx||t.ctx;K=!0,n.clearRect(v.x1,v.y1,v.x2-v.x1,v.y2-v.y1),n.fillStyle=t.backgroundColor,n.fillRect(v.x1,v.y1,v.width,v.height),g(s,i);var a={};for(a.dataSeries=m,a.dataPoint=m.reversed?m.dataPoints[f.length-1-i]:m.dataPoints[i],a.index=m.reversed?f.length-1-i:i,t.toolTip.highlightObjects([a]),a=0;a<H.length;a++)Z(n,H[a],m.fillOpacity);d(n),k&&("inside"!==m.indexLabelPlacement?o(n):e(),l(n)),1<=s&&(K=!1)}),null,J.easing.easeOutQuart)}function o(t){for(var e,i,s,o,n=0;n<H.length;n++)o=1==q[n].lineThickness%2?.5:0,e=h(i=((H[n].y2+H[n].y4)/2<<0)+o).x2-1,s=q[n].textBlock.x,o=(q[n].textBlock.y+q[n].height/2<<0)+o,q[n].isDirty||0==q[n].lineThickness||(t.strokeStyle=q[n].lineColor,t.lineWidth=q[n].lineThickness,t.setLineDash&&t.setLineDash(g(q[n].lineDashType,q[n].lineThickness)),t.beginPath(),t.moveTo(e,i),t.lineTo(s,o),t.stroke())}function n(t){for(t-=1;-1<=t&&-1!=t&&q[t].isDirty;t--);return t}function a(t){for(t+=1;t<=H.length&&t!=H.length&&q[t].isDirty;t++);return t}function h(t){for(var e,i=0;i<f.length;i++)if(H[i].y1<t&&H[i].y4>t){e=H[i];break}return e?{x1:t=e.y6&&t>e.y6?e.x3+(e.x4-e.x3)/(e.y4-e.y3)*(t-e.y3):e.x2+(e.x3-e.x2)/(e.y3-e.y2)*(t-e.y2),x2:t}:-1}function l(t){for(var e=0;e<H.length;e++)q[e].isDirty||(t&&(q[e].textBlock.ctx=t),q[e].textBlock.render(!0))}function d(t){if(c.plotArea.layoutManager.reset(),t.roundRect||r(t),c.title&&(c.title.dockInsidePlotArea||"center"===c.title.horizontalAlign&&"center"===c.title.verticalAlign)&&(c.title.ctx=t,c.title.render()),c.subtitles)for(var e=0;e<c.subtitles.length;e++){var i=c.subtitles[e];(i.dockInsidePlotArea||"center"===i.horizontalAlign&&"center"===i.verticalAlign)&&(c.subtitles.ctx=t,i.render())}c.legend&&(c.legend.dockInsidePlotArea||"center"===c.legend.horizontalAlign&&"center"===c.legend.verticalAlign)&&(c.legend.ctx=t,c.legend.setLayout(),c.legend.render()),R.fNg&&R.fNg(c)}var c=this;if(!(0>=t.dataSeriesIndexes.length)){for(var m=this.data[t.dataSeriesIndexes[0]],f=m.dataPoints,v=this.plotArea,y=.025*v.width,b=.01*v.width,x=0,w=v.height-2*y,_=Math.min(v.width-2*b,2.8*v.height),k=!1,M=0;M<f.length;M++)!k&&void 0!==f[M].indexLabel&&null!==f[M].indexLabel&&0<f[M].indexLabel.toString().length&&(k=!0),!k&&void 0!==f[M].label&&null!==f[M].label&&0<f[M].label.toString().length&&(k=!0),(!k&&"function"==typeof m.indexLabelFormatter||"function"==typeof f[M].indexLabelFormatter)&&(k=!0);k=k||void 0!==m.indexLabel&&null!==m.indexLabel&&0<m.indexLabel.toString().length,"inside"!==m.indexLabelPlacement&&k||(b=(v.width-.75*_)/2);M=v.x1+b;var T=v.x2-b,C=v.y1+y,S=v.y2-y,P=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=m.length&&m.dataPoints&&m.visible&&0!==f.length){var A,I,O=30*(T-(t=75*_/100))/100;"funnel"===m.type?(A=u(m.options.neckHeight)?.35*w:m.neckHeight,I=u(m.options.neckWidth)?.25*t:m.neckWidth,"string"==typeof A&&A.match(/%$/)?A=(A=parseInt(A))*w/100:A=parseInt(A),"string"==typeof I&&I.match(/%$/)?I=(I=parseInt(I))*t/100:I=parseInt(I),A>w?A=w:0>=A&&(A=0),I>t?I=t-.5:0>=I&&(I=0)):"pyramid"===m.type&&(I=A=0,m.reversed=!m.reversed);b=M+t/2;var B=M,F=M+t,E=m.reversed?S:C,L=b-I/2,z=b+I/2,W=m.reversed?C+A:S-A,N=m.reversed?C:S;t=[];b=[];var V,H=[],j=(_=[],C),X=(W-E)/(L-B),G=-X;if(-1!==(M="area"===(m.valueRepresents?m.valueRepresents:"height")?function(){var t,e,i=B,s=F,o=L,n=z;t=C,e=S-A,n=Math.abs((e-t)*(s-i+(n-o))/2),t=e-t,e=(o=z-L)*(e-S),e=n+(e=Math.abs(e)),n=[];for(var a=0,r=0;r<f.length;r++){if(void 0===f[r].y)return-1;f[r].y="number"==typeof f[r].y?f[r].y:0,a+=Math.abs(f[r].y)}if(0===a)return-1;var h,l,d=n[0]=0,c=0;for(s=s-i,d=!1,r=0;r<f.length;r++)i=Math.abs(f[r].y)*e/a,d?h=0==Number(o.toFixed(3))?0:i/o:0>(l=X*X*s*s-4*Math.abs(X)*i)?(i-=d=(s+(l=o))*(t-c)/2,h=t-c,c+=t-c,h+=0==l?0:i/l,c+=i/l,d=!0):(l=s-2*(h=(Math.abs(X)*s-Math.sqrt(l))/2)/Math.abs(X),(c+=h)>t&&(d=(s+(l=o))*(t-(c-=h))/2,h=t-c,c+=t-c,h+=(i-=d)/l,c+=i/l,d=!0),s=l),n.push(h);return n}():function(){for(var t=0,e=[],i=0;i<f.length;i++){if(void 0===f[i].y)return-1;f[i].y="number"==typeof f[i].y?f[i].y:0,t+=Math.abs(f[i].y)}if(0===t)return-1;for(i=e[0]=0;i<f.length;i++)e.push(Math.abs(f[i].y)*w/t);return e}())){if(m.reversed)for(_.push(j),I=M.length-1;0<I;I--)j+=M[I],_.push(j);else for(I=0;I<M.length;I++)j+=M[I],_.push(j);if(m.reversed)for(I=0;I<M.length;I++)_[I]<W?(t.push(L),b.push(z),V=I):(t.push((_[I]-E+X*B)/X),b.push((_[I]-E+G*F)/G));else for(I=0;I<M.length;I++)_[I]<W?(t.push((_[I]-E+X*B)/X),b.push((_[I]-E+G*F)/G),V=I):(t.push(L),b.push(z));for(I=0;I<M.length-1;I++)j=m.reversed?f[f.length-1-I].color?f[f.length-1-I].color:m._colorSet[(f.length-1-I)%m._colorSet.length]:f[I].color?f[I].color:m._colorSet[I%m._colorSet.length],I===V?H.push({x1:t[I],y1:_[I],x2:b[I],y2:_[I],x3:z,y3:W,x4:b[I+1],y4:_[I+1],x5:t[I+1],y5:_[I+1],x6:L,y6:W,id:I,height:_[I+1]-_[I],color:j}):H.push({x1:t[I],y1:_[I],x2:b[I],y2:_[I],x3:b[I+1],y3:_[I+1],x4:t[I+1],y4:_[I+1],id:I,height:_[I+1]-_[I],color:j});var U=2,q=[],K=!1,Q=[],$=[];M=!1;for(t=t=0,p(Q),I=0;I<f.length;I++)f[I].exploded&&(M=!0,m.reversed?Q.push(f.length-1-I):Q.push(I));if(P.clearRect(v.x1,v.y1,v.width,v.height),P.fillStyle=c.backgroundColor,P.fillRect(v.x1,v.y1,v.width,v.height),k&&m.visible&&(function(){if(m&&f){for(var t,e,i,s,o,n,a,l,d,p,g,v,y,b,x=[],w=[],_={percent:null,total:null},k=null,M=0;M<f.length;M++)b=h(b=void 0!==(b=H[M]).x5?(b.y2+b.y4)/2:(b.y2+b.y3)/2).x2+1,x[M]=T-b-O;b=.5*O;M=0;for(var C=f.length-1;M<f.length||0<=C;M++,C--)t=(e=m.reversed?f[C]:f[M]).color?e.color:m.reversed?m._colorSet[(f.length-1-M)%m._colorSet.length]:m._colorSet[M%m._colorSet.length],i=e.indexLabelPlacement||m.indexLabelPlacement||"outside",s=e.indexLabelBackgroundColor||m.indexLabelBackgroundColor||(Y?"transparent":null),o=e.indexLabelFontColor||m.indexLabelFontColor||"#979797",n=u(e.indexLabelFontSize)?m.indexLabelFontSize:e.indexLabelFontSize,a=e.indexLabelFontStyle||m.indexLabelFontStyle||"normal",l=e.indexLabelFontFamily||m.indexLabelFontFamily||"arial",d=e.indexLabelFontWeight||m.indexLabelFontWeight||"normal",t=e.indexLabelLineColor||m.options.indexLabelLineColor||t,p="number"==typeof e.indexLabelLineThickness?e.indexLabelLineThickness:"number"==typeof m.indexLabelLineThickness?m.indexLabelLineThickness:2,g=e.indexLabelLineDashType||m.indexLabelLineDashType||"solid",v=void 0!==e.indexLabelWrap?e.indexLabelWrap:void 0===m.indexLabelWrap||m.indexLabelWrap,y=m.dataPointIds[M],c._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataPointIndex:M,dataSeriesIndex:0,funnelSection:H[m.reversed?f.length-1-M:M]},"inside"===m.indexLabelPlacement&&(x[M]=M!==V?m.reversed?H[M].x2-H[M].x1:H[M].x3-H[M].x4:H[M].x3-H[M].x6,20>x[M]&&(x[M]=M!==V&&m.reversed?H[M].x3-H[M].x4:H[M].x2-H[M].x1,x[M]/=2)),((y=e.indexLabelMaxWidth?e.indexLabelMaxWidth:m.options.indexLabelMaxWidth?m.indexLabelMaxWidth:x[M])>x[M]||0>y)&&(y=x[M]),w[M]="inside"===m.indexLabelPlacement&&H[M].height,_=c.getPercentAndTotal(m,e),(m.indexLabelFormatter||e.indexLabelFormatter)&&(k={chart:c.options,dataSeries:m,dataPoint:e,total:_.total,percent:_.percent}),e=e.indexLabelFormatter?e.indexLabelFormatter(k):e.indexLabel?c.replaceKeywordsWithValue(e.indexLabel,e,m,M):m.indexLabelFormatter?m.indexLabelFormatter(k):m.indexLabel?c.replaceKeywordsWithValue(m.indexLabel,e,m,M):e.label?e.label:"",0>=p&&(p=0),1e3>y&&1e3-y<b&&(y+=1e3-y),P.roundRect||r(P),(i=new D(P,{fontSize:n,fontFamily:l,fontColor:o,fontStyle:a,fontWeight:d,horizontalAlign:i,backgroundColor:s,maxWidth:y,maxHeight:!1===w[M]?v?4.28571429*n:1.5*n:w[M],text:e,padding:U})).measureText(),q.push({textBlock:i,id:m.reversed?C:M,isDirty:!1,lineColor:t,lineThickness:p,lineDashType:g,height:i.height<i.maxHeight?i.height:i.maxHeight,width:i.width<i.maxWidth?i.width:i.maxWidth})}}(),e(),function(){var t,e,i,s,o,n=[];o=!1,i=0;for(var r,h=T-F-O/2,l=(h=m.options.indexLabelMaxWidth?m.indexLabelMaxWidth>h?h:m.indexLabelMaxWidth:h,q.length-1);0<=l;l--)r=f[q[l].id],s=(i=q[l]).textBlock,e=(t=a(l)<H.length?q[a(l)]:null)?t.textBlock:null,i=i.height,t&&s.y+i+U>e.y&&(o=!0),((i=r.indexLabelMaxWidth||h)>h||0>i)&&(i=h),n.push(i);if(o)for(l=q.length-1;0<=l;l--)t=H[l],q[l].textBlock.maxWidth=n[n.length-(l+1)],q[l].textBlock.measureText(),q[l].textBlock.x=T-h,i=q[l].textBlock.height<q[l].textBlock.maxHeight?q[l].textBlock.height:q[l].textBlock.maxHeight,o=q[l].textBlock.width<q[l].textBlock.maxWidth?q[l].textBlock.width:q[l].textBlock.maxWidth,q[l].height=i,q[l].width=o,i=void 0!==t.x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2,q[l].textBlock.y=i-q[l].height/2,m.reversed?(q[l].textBlock.y+q[l].height>E+y&&(q[l].textBlock.y=E+y-q[l].height),q[l].textBlock.y<N-y&&(q[l].textBlock.y=N-y)):(q[l].textBlock.y<E-y&&(q[l].textBlock.y=E-y),q[l].textBlock.y+q[l].height>N+y&&(q[l].textBlock.y=N+y-q[l].height))}(),"inside"!==m.indexLabelPlacement)){for(function(){function t(e,s){var o;if(0>e||e>=q.length)return 0;var r,h=q[e].textBlock;return 0>s?(s*=-1,(o=i(r=n(e),e))>=s?(h.y-=s,s):0==e?(0<o&&(h.y-=o),o):(0<(o+=t(r,-(s-o)))&&(h.y-=o),o)):(o=i(e,r=a(e)))>=s?(h.y+=s,s):e==H.length-1?(0<o&&(h.y+=o),o):(0<(o+=t(r,s-o))&&(h.y+=o),o)}function e(){var t,e,i,o,r,h=0;o=(S-C+2*y)/u,r=u;for(var l,d=1;d<r;d++){i=d*o;for(var c=q.length-1;0<=c;c--)!q[c].isDirty&&q[c].textBlock.y<i&&q[c].textBlock.y+q[c].height>i&&(!((l=a(c))>=q.length-1)&&q[c].textBlock.y+q[c].height+U>q[l].textBlock.y&&(q[c].textBlock.y=q[c].textBlock.y+q[c].height-i>i-q[c].textBlock.y?i+1:i-q[c].height-1))}for(l=H.length-1;0<l;l--)if(!q[l].isDirty){if(0>(i=n(l))&&q[i=0].isDirty)break;if(q[l].textBlock.y<q[i].textBlock.y+q[i].height){for(e=e||l,o=l,r=0;q[o].textBlock.y<q[i].textBlock.y+q[i].height+U;){if(t=t||q[o].textBlock.y+q[o].height,r+=q[o].height,r+=U,0>=(o=i)){r+=q[o=0].height;break}if(0>(i=n(o))){r+=q[o=0].height;break}}if(o!=l){h=s(t=r-(t-=h=q[o].textBlock.y),e,o);break}}}return h}function s(t,e,i){var s=[],o=0,n=0;for(t=Math.abs(t);i<=e;i++)s.push(H[i]);for(s.sort((function(t,e){return t.height-e.height})),i=0;i<s.length&&(e=s[i],o<t);i++)n++,o+=q[e.id].height+U,q[e.id].textBlock.text="",q[e.id].indexLabelText="",q[e.id].isDirty=!0,q[e.id].textBlock.measureText();return n}for(var o,r,h,l,d,c,u=1,p=0;p<2*u;p++){for(var m=q.length-1;0<=m&&(0<=n(m)&&n(m),l=(h=q[m]).textBlock,c=(d=a(m)<H.length?q[a(m)]:null)?d.textBlock:null,o=+h.height.toFixed(6),r=+l.y.toFixed(6),!(!h.isDirty&&d&&r+o+U>+c.y.toFixed(6)&&(o=l.y+o+U-c.y,r=t(m,-o),r<o&&(0<r&&(o-=r),r=t(a(m),o),r!=o))));m--);e()}}(),I=0;I<f.length;I++)q[I].isDirty||(t=q[I].textBlock.x+q[I].width,t=(T-t)/2,0==I&&(x=t),x>t&&(x=t));for(I=0;I<H.length;I++)H[I].x1+=x,H[I].x2+=x,H[I].x3+=x,H[I].x4+=x,H[I].x5&&(H[I].x5+=x,H[I].x6+=x),q[I].textBlock.x+=x}for(I=0;I<H.length;I++)x=H[I],Z(P,x,m.fillOpacity),$.push(x.y1);if(d(P),k&&m.visible&&("inside"===m.indexLabelPlacement||c.animationEnabled||o(P),c.animationEnabled||l()),!k)for(I=0;I<f.length;I++)t={id:x=m.dataPointIds[I],objectType:"dataPoint",dataPointIndex:I,dataSeriesIndex:0,funnelSection:H[m.reversed?f.length-1-I:I]},c._eventManager.objectMap[x]=t;return(!c.animationEnabled&&M||c.animationEnabled&&!c.animatedRender)&&s(c,-1,0),this.funnelPyramidClickHandler=function(t){var e=-1;!K&&!c.isAnimating&&(u(t.dataSeries.explodeOnClick)||t.dataSeries.explodeOnClick)&&0<=(e=m.reversed?f.length-1-t.dataPointIndex:t.dataPointIndex)&&(t=e,"funnel"!==m.type&&"pyramid"!==m.type||(m.reversed?f[f.length-1-t].exploded=!f[f.length-1-t].exploded:f[t].exploded=!f[t].exploded),s(c,e,500))},{source:P,dest:this.plotArea.ctx,animationCallback:function(t,e){J.fadeInAnimation(t,e),1<=t&&(s(c,-1,500),d(c.plotArea.ctx||c.ctx))},easingFunction:J.easing.easeInQuad,animationBase:0}}}}},e.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},e.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,e.prototype.set=function(t,i,s){s=void 0===s||s,"options"===t?(this.options=i,s&&this.render()):e.base.set.call(this,t,i,s)},e.prototype.exportChart=function(t){var e=(t=void 0===t?{}:t).format?t.format:"png",i=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+e);l(this.canvas,e,i)},e.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),e=document.createElement("iframe");e.setAttribute("class","canvasjs-chart-print-frame"),e.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),e.style.height=this.height+"px",this._canvasJSContainer.appendChild(e);var i=this,s=e.contentWindow||e.contentDocument.document||e.contentDocument;s.document.open(),s.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+t+'"/><body/></html>'),s.document.close(),setTimeout((function(){s.focus(),s.print(),setTimeout((function(){i._canvasJSContainer.removeChild(e)}),1e3)}),500)},e.prototype.getPercentAndTotal=function(t,e){var i=null,s=null,o=null;if(0<=t.type.indexOf("stacked"))s=0,(i=e.x.getTime?e.x.getTime():e.x)in t.plotUnit.yTotals&&(s=t.plotUnit.yTotals[i],o=isNaN(e.y)?0:e.y/s*100);else if("pie"===t.type||"doughnut"===t.type||"funnel"===t.type||"pyramid"===t.type){for(i=s=0;i<t.dataPoints.length;i++)isNaN(t.dataPoints[i].y)||(s+=t.dataPoints[i].y);o=isNaN(e.y)?0:e.y/s*100}return{percent:o,total:s}},e.prototype.replaceKeywordsWithValue=function(t,e,i,s,o){var n=this;if(o=void 0===o?0:o,(0<=i.type.indexOf("stacked")||"pie"===i.type||"doughnut"===i.type||"funnel"===i.type||"pyramid"===i.type)&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var r="#percent",h="#total",l=this.getPercentAndTotal(i,e);h=isNaN(l.total)?h:l.total,r=isNaN(l.percent)?r:l.percent;do{if(l="",i.percentFormatString)l=i.percentFormatString;else{l="#,##0.";var d=Math.max(Math.ceil(Math.log(1/Math.abs(r))/Math.LN10),2);!isNaN(d)&&isFinite(d)||(d=2);for(var c=0;c<d;c++)l+="#";i.percentFormatString=l}t=(t=t.replace("#percent",nt(r,l,n._cultureInfo))).replace("#total",nt(h,i.yValueFormatString?i.yValueFormatString:"#,##0.########",n._cultureInfo))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,(function(t){if('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])return t.slice(1,t.length-1);t=(t=a(t.slice(1,t.length-1))).replace("#index",o);var r=null;try{var h=t.match(/(.*?)\s*\[\s*(.*?)\s*\]/);h&&0<h.length&&(r=a(h[2]),t=a(h[1]))}catch(t){}if(h=null,"color"===t)return"waterfall"===i.type?e.color?e.color:0<e.y?i.risingColor:i.fallingColor:"error"===i.type?i.color?i.color:i._colorSet[r%i._colorSet.length]:e.color?e.color:i.color?i.color:i._colorSet[s%i._colorSet.length];if(e.hasOwnProperty(t))h=e;else{if(!i.hasOwnProperty(t))return"";h=i}return h=h[t],null!==r&&(h=h[r]),"x"!==t?"y"===t?nt(h,e.yValueFormatString?e.yValueFormatString:i.yValueFormatString?i.yValueFormatString:i.yValueFormatString="#,##0.########",n._cultureInfo):"z"===t?nt(h,e.zValueFormatString?e.zValueFormatString:i.zValueFormatString?i.zValueFormatString:i.zValueFormatString="#,##0.########",n._cultureInfo):h:"dateTime"===i.axisX.valueType||"dateTime"===i.xValueType||e.x&&e.x.getTime?n.plotInfo.plotTypes[0].plotUnits[0].axisX&&!n.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?ot(h,e.xValueFormatString?e.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString=n.axisX&&n.axisX.autoValueFormatString?n.axisX.autoValueFormatString:"DD MMM YY",n._cultureInfo):void 0:nt(h,e.xValueFormatString?e.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString="#,##0.########",n._cultureInfo)}))},i(E,S),E.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,e=t.layoutManager.getFreeSpace(),i=null,s=0,o=0,n=0,a=0,r=this.markerMargin=this.chart.options.legend&&!u(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var h=[],l=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",i=this.verticalAlign,n=this.maxWidth=null!==this.maxWidth?this.maxWidth:e.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*e.height):"center"===this.verticalAlign&&(this.orientation="vertical",i=this.horizontalAlign,n=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*e.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:e.height),this.errorMarkerColor=[];for(var d=0;d<this.dataSeries.length;d++){var c=this.dataSeries[d];if(c.dataPoints&&c.dataPoints.length)if("pie"!==c.type&&"doughnut"!==c.type&&"funnel"!==c.type&&"pyramid"!==c.type){var p=c.legendMarkerType=c.legendMarkerType?c.legendMarkerType:"line"!==c.type&&"stepLine"!==c.type&&"spline"!==c.type&&"scatter"!==c.type&&"bubble"!==c.type||!c.markerType?"error"===c.type&&c._linkedSeries?c._linkedSeries.legendMarkerType?c._linkedSeries.legendMarkerType:L.getDefaultLegendMarker(c._linkedSeries.type):L.getDefaultLegendMarker(c.type):c.markerType,m=c.legendText?c.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:c,dataPoint:null}):c.name,f=c.legendMarkerColor=c.legendMarkerColor?c.legendMarkerColor:c.markerColor?c.markerColor:"error"===c.type?u(c.whiskerColor)?c._colorSet[0]:c.whiskerColor:c._colorSet[0],g=c.markerSize||"line"!==c.type&&"stepLine"!==c.type&&"spline"!==c.type?.75*this.lineHeight:0,v=c.legendMarkerBorderColor?c.legendMarkerBorderColor:c.markerBorderColor,y=c.legendMarkerBorderThickness?c.legendMarkerBorderThickness:c.markerBorderThickness?Math.max(1,Math.round(.2*g)):0;"error"===c.type&&this.errorMarkerColor.push(f),p={markerType:p,markerColor:f,text:m=this.chart.replaceKeywordsWithValue(m,c.dataPoints[0],c,d),textBlock:null,chartType:c.type,markerSize:g,lineColor:c._colorSet[0],dataSeriesIndex:c.index,dataPointIndex:null,markerBorderColor:v,markerBorderThickness:y},h.push(p)}else for(var b=0;b<c.dataPoints.length;b++){var x=c.dataPoints[b];p=x.legendMarkerType?x.legendMarkerType:c.legendMarkerType?c.legendMarkerType:L.getDefaultLegendMarker(c.type),m=x.legendText?x.legendText:c.legendText?c.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:c,dataPoint:x}):x.name?x.name:"DataPoint: "+(b+1),f=x.legendMarkerColor?x.legendMarkerColor:c.legendMarkerColor?c.legendMarkerColor:x.color?x.color:c.color?c.color:c._colorSet[b%c._colorSet.length],g=.75*this.lineHeight,v=x.legendMarkerBorderColor?x.legendMarkerBorderColor:c.legendMarkerBorderColor?c.legendMarkerBorderColor:x.markerBorderColor?x.markerBorderColor:c.markerBorderColor,y=x.legendMarkerBorderThickness?x.legendMarkerBorderThickness:c.legendMarkerBorderThickness?c.legendMarkerBorderThickness:x.markerBorderThickness||c.markerBorderThickness?Math.max(1,Math.round(.2*g)):0,p={markerType:p,markerColor:f,text:m=this.chart.replaceKeywordsWithValue(m,x,c,b),textBlock:null,chartType:c.type,markerSize:g,dataSeriesIndex:d,dataPointIndex:b,markerBorderColor:v,markerBorderThickness:y};(x.showInLegend||c.showInLegend&&!1!==x.showInLegend)&&h.push(p)}}if(!0===this.reversed&&h.reverse(),0<h.length){for(c=null,f=m=x=b=0,x=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,n):this.itemMaxWidth=Math.min(this.itemWidth,n):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,n):this.itemMaxWidth=n,x-=(g=0===g?.75*this.lineHeight:g)+r,d=0;d<h.length;d++)v=x,"line"!==(p=h[d]).chartType&&"spline"!==p.chartType&&"stepLine"!==p.chartType||(v-=.2*this.lineHeight),0>=a||void 0===a||0>=v||void 0===v||("horizontal"===this.orientation?(p.textBlock=new D(this.ctx,{x:0,y:0,maxWidth:v,maxHeight:this.itemWrap?a:this.lineHeight,angle:0,text:p.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),p.textBlock.measureText(),null!==this.itemWidth&&(p.textBlock.width=this.itemWidth-(g+r+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))),(!c||c.width+Math.round(p.textBlock.width+g+r+(0===c.width?0:this.horizontalSpacing)+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))>n)&&(c={items:[],width:0},l.push(c),this.height+=m,m=0),m=Math.max(m,p.textBlock.height)):(p.textBlock=new D(this.ctx,{x:0,y:0,maxWidth:x,maxHeight:!0===this.itemWrap?a:1.5*this.fontSize,angle:0,text:p.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),p.textBlock.measureText(),null!==this.itemWidth&&(p.textBlock.width=this.itemWidth-(g+r+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))),this.height<a-this.lineHeight?(c={items:[],width:0},l.push(c)):(c=l[b],b=(b+1)%l.length),this.height+=p.textBlock.height),p.textBlock.x=c.width,p.textBlock.y=0,c.width+=Math.round(p.textBlock.width+g+r+(0===c.width?0:this.horizontalSpacing)+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0)),c.items.push(p),this.width=Math.max(c.width,this.width),f=p.textBlock.width+(g+r+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0)));this.itemWidth=f,this.height=!1===this.itemWrap?l.length*this.lineHeight:this.height+m,this.height=Math.min(a,this.height),this.width=Math.min(n,this.width)}for("top"===this.verticalAlign?(o="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,s=e.y1):"center"===this.verticalAlign?(o="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,s=e.y1+e.height/2-this.height/2):"bottom"===this.verticalAlign&&(o="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,s=e.y2-this.height),this.items=h,d=0;d<this.items.length;d++)(p=h[d]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[p.id]={id:p.id,objectType:"legendItem",legendItemIndex:d,dataSeriesIndex:p.dataSeriesIndex,dataPointIndex:p.dataPointIndex};this.markerSize=g,this.rows=l,0<h.length&&t.layoutManager.registerSpace(i,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:o,y1:s,x2:o+this.width,y2:s+this.height}},E.prototype.render=function(){var t=this.bounds.x1,e=this.bounds.y1,i=this.markerMargin,s=this.maxWidth,o=this.maxHeight,n=this.markerSize,a=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,e,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var r=0,h=0;h<a.length;h++){for(var l=a[h],c=0,u=0;u<l.items.length;u++){var p=l.items[u],m=p.textBlock.x+t+(0===u?.2*n:this.horizontalSpacing),f=e+r,g=m;if(this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,e,s,Math.max(o-o%this.lineHeight,0)),this.ctx.clip(),"line"!==p.chartType&&"stepLine"!==p.chartType&&"spline"!==p.chartType||(this.ctx.strokeStyle=p.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(m-.1*this.lineHeight,f+this.lineHeight/2),this.ctx.lineTo(m+.85*this.lineHeight,f+this.lineHeight/2),this.ctx.stroke(),g-=.1*this.lineHeight),"error"===p.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=n/8,this.ctx.beginPath();var v=m-.08*this.lineHeight+.1*this.lineHeight,y=f+.15*this.lineHeight,b=.7*this.lineHeight,x=b+.02*this.lineHeight;this.ctx.moveTo(v,y),this.ctx.lineTo(v+b,y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(v+b/2,y),this.ctx.lineTo(v+b/2,y+x),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(v,y+x),this.ctx.lineTo(v+b,y+x),this.ctx.stroke(),this.errorMarkerColor.shift()}tt.drawMarker(m+n/2,f+this.lineHeight/2,this.ctx,p.markerType,"error"===p.chartType||"line"===p.chartType||"spline"===p.chartType?p.markerSize/2:p.markerSize,p.markerColor,p.markerBorderColor,p.markerBorderThickness),p.textBlock.x=m+i+n,"line"!==p.chartType&&"stepLine"!==p.chartType&&"spline"!==p.chartType||(p.textBlock.x+=.1*this.lineHeight),p.textBlock.y=Math.round(f+this.lineHeight/2),p.textBlock.render(!0),this.ctx.restore(),c=0<u?Math.max(c,p.textBlock.height):p.textBlock.height,this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),m=d(p.id),this.ghostCtx.fillStyle=m,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(g,p.textBlock.y-this.lineHeight/2,p.textBlock.x+p.textBlock.width-g,p.textBlock.height),p.x1=this.chart._eventManager.objectMap[p.id].x1=g,p.y1=this.chart._eventManager.objectMap[p.id].y1=p.textBlock.y-this.lineHeight/2,p.x2=this.chart._eventManager.objectMap[p.id].x2=p.textBlock.x+p.textBlock.width,p.y2=this.chart._eventManager.objectMap[p.id].y2=p.textBlock.y+p.textBlock.height-this.lineHeight/2}r+=c}},i(L,S),L.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t||"pyramid"===t?"none":("error"!==t&&window.console.log("Unknown Chart Type: "+t),null)},L.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t||"funnel"===t||"pyramid"===t?"triangle":"error"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},L.prototype.getDataPointAtX=function(t,e){if(!this.dataPoints||0===this.dataPoints.length)return null;var i={dataPoint:null,distance:1/0,index:NaN},s=null,o=0,n=0,a=1,r=1/0,h=0,l=0,d=0;for("none"!==this.chart.plotInfo.axisPlacement&&(this.axisX.logarithmic?d=1<(d=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/d*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:d=0<(d=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/d*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(n=0<a?d+o:d-o)&&n<this.dataPoints.length){s=this.dataPoints[n];var c=this.axisX.logarithmic?s.x>t?s.x/t:t/s.x:Math.abs(s.x-t);if(c<i.distance&&(i.dataPoint=s,i.distance=c,i.index=n),(s=c)<=r?r=s:0<a?h++:l++,1e3<h&&1e3<l)break}else if(0>d-o&&d+o>=this.dataPoints.length)break;-1===a?(o++,a=1):a=-1}return e||i.dataPoint.x!==t?e&&null!==i.dataPoint?i:null:i},L.prototype.getDataPointAtXY=function(t,e,i){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||e<this.chart.plotArea.y1||e>this.chart.plotArea.y2)return null;i=i||!1;var s=[],o=0,n=0,a=1,r=!1,h=1/0,l=0,d=0,c=0;if("none"!==this.chart.plotInfo.axisPlacement)if(c=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:e}),this.axisX.logarithmic)c=1<(u=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/u*Math.log(c/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else c=0<(u=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/u*(c-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;for(;;){if(0<=(n=0<a?c+o:c-o)&&n<this.dataPoints.length){var u=this.chart._eventManager.objectMap[this.dataPointIds[n]],p=this.dataPoints[n],m=null;if(u){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=u.x1&&t<=u.x2&&e>=u.y1&&e<=u.y2&&(s.push({dataPoint:p,dataPointIndex:n,dataSeries:this,distance:Math.min(Math.abs(u.x1-t),Math.abs(u.x2-t),Math.abs(u.y1-e),Math.abs(u.y2-e))}),r=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var f=b("markerSize",p,this)||4,g=i?20:f;(m=Math.sqrt(Math.pow(u.x1-t,2)+Math.pow(u.y1-e,2)))<=g&&s.push({dataPoint:p,dataPointIndex:n,dataSeries:this,distance:m}),(u=Math.abs(u.x1-t))<=h?h=u:0<a?l++:d++,m<=f/2&&(r=!0);break;case"rangeArea":case"rangeSplineArea":f=b("markerSize",p,this)||4,g=i?20:f,(m=Math.min(Math.sqrt(Math.pow(u.x1-t,2)+Math.pow(u.y1-e,2)),Math.sqrt(Math.pow(u.x1-t,2)+Math.pow(u.y2-e,2))))<=g&&s.push({dataPoint:p,dataPointIndex:n,dataSeries:this,distance:m}),(u=Math.abs(u.x1-t))<=h?h=u:0<a?l++:d++,m<=f/2&&(r=!0);break;case"bubble":f=u.size,(m=Math.sqrt(Math.pow(u.x1-t,2)+Math.pow(u.y1-e,2)))<=f/2&&(s.push({dataPoint:p,dataPointIndex:n,dataSeries:this,distance:m}),r=!0);break;case"pie":case"doughnut":f=u.center,g="doughnut"===this.type?u.percentInnerRadius*u.radius:0,(m=Math.sqrt(Math.pow(f.x-t,2)+Math.pow(f.y-e,2)))<u.radius&&m>g&&(0>(m=Math.atan2(e-f.y,t-f.x))&&(m+=2*Math.PI),m=Number(((m/Math.PI*180%360+360)%360).toFixed(12)),f=Number(((u.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(g=Number(((u.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<u.endAngle&&(g=360),f>=g&&0!==p.y&&(g+=360,m<f&&(m+=360)),m>f&&m<g&&(s.push({dataPoint:p,dataPointIndex:n,dataSeries:this,distance:0}),r=!0));break;case"funnel":case"pyramid":e>(m=u.funnelSection).y1&&e<m.y4&&(m.y6?e>m.y6?(n=m.x6+(m.x5-m.x6)/(m.y5-m.y6)*(e-m.y6),m=m.x3+(m.x4-m.x3)/(m.y4-m.y3)*(e-m.y3)):(n=m.x1+(m.x6-m.x1)/(m.y6-m.y1)*(e-m.y1),m=m.x2+(m.x3-m.x2)/(m.y3-m.y2)*(e-m.y2)):(n=m.x1+(m.x4-m.x1)/(m.y4-m.y1)*(e-m.y1),m=m.x2+(m.x3-m.x2)/(m.y3-m.y2)*(e-m.y2)),t>n&&t<m&&(s.push({dataPoint:p,dataPointIndex:u.dataPointIndex,dataSeries:this,distance:0}),r=!0));break;case"boxAndWhisker":(t>=u.x1-u.borderThickness/2&&t<=u.x2+u.borderThickness/2&&e>=u.y4-u.borderThickness/2&&e<=u.y1+u.borderThickness/2||Math.abs(u.x2-t+u.x1-t)<u.borderThickness&&e>=u.y1&&e<=u.y4)&&(s.push({dataPoint:p,dataPointIndex:n,dataSeries:this,distance:Math.min(Math.abs(u.x1-t),Math.abs(u.x2-t),Math.abs(u.y2-e),Math.abs(u.y3-e))}),r=!0);break;case"candlestick":(t>=u.x1-u.borderThickness/2&&t<=u.x2+u.borderThickness/2&&e>=u.y2-u.borderThickness/2&&e<=u.y3+u.borderThickness/2||Math.abs(u.x2-t+u.x1-t)<u.borderThickness&&e>=u.y1&&e<=u.y4)&&(s.push({dataPoint:p,dataPointIndex:n,dataSeries:this,distance:Math.min(Math.abs(u.x1-t),Math.abs(u.x2-t),Math.abs(u.y2-e),Math.abs(u.y3-e))}),r=!0);break;case"ohlc":(Math.abs(u.x2-t+u.x1-t)<u.borderThickness&&e>=u.y2&&e<=u.y3||t>=u.x1&&t<=(u.x2+u.x1)/2&&e>=u.y1-u.borderThickness/2&&e<=u.y1+u.borderThickness/2||t>=(u.x1+u.x2)/2&&t<=u.x2&&e>=u.y4-u.borderThickness/2&&e<=u.y4+u.borderThickness/2)&&(s.push({dataPoint:p,dataPointIndex:n,dataSeries:this,distance:Math.min(Math.abs(u.x1-t),Math.abs(u.x2-t),Math.abs(u.y2-e),Math.abs(u.y3-e))}),r=!0)}if(r||1e3<l&&1e3<d)break}}else if(0>c-o&&c+o>=this.dataPoints.length)break;-1===a?(o++,a=1):a=-1}for(t=null,e=0;e<s.length;e++)t?s[e].distance<=t.distance&&(t=s[e]):t=s[e];return t},L.prototype.getMarkerProperties=function(t,e,i,s){var o=this.dataPoints;return{x:e,y:i,ctx:s,type:o[t].markerType?o[t].markerType:this.markerType,size:o[t].markerSize?o[t].markerSize:this.markerSize,color:o[t].markerColor?o[t].markerColor:this.markerColor?this.markerColor:o[t].color?o[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],borderColor:o[t].markerBorderColor?o[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:o[t].markerBorderThickness?o[t].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},i(z,S),z.prototype.createExtraLabelsForLog=function(t){if(!(5<(t=(t||0)+1))){var e=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(e/this.viewportMinimum)<this.noTicks-1){for(var i=z.getNiceNumber((e-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),s=Math.ceil(this.viewportMinimum/i)*i;s<e;s+=i)s<this.viewportMinimum||this.logLabelValues.push(s);this.logLabelValues.sort(h),this.createExtraLabelsForLog(t)}}},z.prototype.createLabels=function(){var t,e,i,s,n,a=0,r=0,h=0,l=0,d=(r=0,r=this.interval,0),c=.6*this.chart.height;t=!1;var p=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],m=p.length?u(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(i=this.viewportMaximum,this.labels){t=Math.ceil(r);var f=!1;for(a=r=Math.ceil(this.intervalStartPosition);a<this.viewportMaximum;a+=t){if(!this.labels[a]){f=!1;break}f=!0}f&&(this.interval=t,this.intervalStartPosition=r)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),r=0,f=m;r<this.logLabelValues.length;r++)if((a=this.logLabelValues[r])<this.viewportMinimum)r++;else{for(;f<p.length&&a>p[f].endValue;f++);n=a,(t=f<p.length&&a>=p[f].startValue&&a<=p[f].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:n,label:this.labels[n]?this.labels[n]:null}):"axisX"===this.type&&this.labels[n]?this.labels[n]:nt(n,this.valueFormatString,this.chart._cultureInfo),t=new D(this.ctx,{x:0,y:0,maxWidth:h,maxHeight:l,angle:this.labelAngle,text:this.prefix+t+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:n,textBlock:t,effectiveHeight:null}))}for(f=m,a=this.intervalStartPosition;a<=i;a=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?a*Math.pow(this.logarithmBase,this.interval):a+this.interval:(this.logarithmic&&this.equidistantInterval?a*Math.pow(this.logarithmBase,this.interval):a+this.interval).toFixed(12))){for(;f<p.length&&a>p[f].endValue;f++);n=a,(t=f<p.length&&a>=p[f].startValue&&a<=p[f].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:n,label:this.labels[n]?this.labels[n]:null}):"axisX"===this.type&&this.labels[n]?this.labels[n]:nt(n,this.valueFormatString,this.chart._cultureInfo),t=new D(this.ctx,{x:0,y:0,maxWidth:h,maxHeight:l,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:n,textBlock:t,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),i=o(new Date(this.viewportMaximum),this.interval,this.intervalType),f=m,a=this.intervalStartPosition;a<i;o(a,r,this.intervalType)){for(t=a.getTime();f<p.length&&t>p[f].endValue;f++);n=t,(t=f<p.length&&t>=p[f].startValue&&t<=p[f].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(n),label:this.labels[n]?this.labels[n]:null}):"axisX"===this.type&&this.labels[n]?this.labels[n]:ot(n,this.valueFormatString,this.chart._cultureInfo),t=new D(this.ctx,{x:0,y:0,maxWidth:h,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:l,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:n,textBlock:t,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(d=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*$[this.intervalType+"Duration"]*this.interval,h=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(l=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(d=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*$[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(h=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),l=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),r=0;r<this._labels.length;r++){(t=this._labels[r].textBlock).maxWidth=h,t.maxHeight=l;var g=t.measureText();s=g.height}if(i=[],m=p=0,this.labelAutoFit||this.options.labelAutoFit)if(u(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(h=.9*d>>0,m=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,a=0;a<this._labels.length;a++)if(!this._labels[a].breaksLabelType){var v;for(f=(t=this._labels[a].textBlock).text.split(" "),r=0;r<f.length;r++)n=f[r],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,(n=this.ctx.measureText(n)).width>m&&(v=a,m=n.width)}for(a=0,a=this.intervalStartPosition<this.viewportMinimum?1:0;a<this._labels.length;a++)if(!this._labels[a].breaksLabelType){for(g=(t=this._labels[a].textBlock).measureText(),f=a+1;f<this._labels.length;f++)if(!this._labels[f].breaksLabelType){e=(e=this._labels[f].textBlock).measureText();break}if(i.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,i),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),r=h*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(l-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),u(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?l:Math.min((r-h*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),r),n=(c-(s+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),u(this.options.labelWrap)){if(u(this.options.labelWrap))if(u(this.options.labelMaxWidth)){if(!u(e))if(r=g.width+e.width>>0,f=this.labelFontSize,m<h)r-2*h>p&&(p=r-2*h,r>=2*h&&r<2.2*h?(this.sessionVariables.labelMaxWidth=h,u(this.options.labelFontSize)&&12<f&&(f=Math.floor(12/13*f),t.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?f:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):r>=2.2*h&&r<2.8*h?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=n,this.sessionVariables.labelFontSize=f):r>=2.8*h&&r<3.2*h?(this.sessionVariables.labelMaxWidth=Math.max(h,m),this.sessionVariables.labelWrap=!0,u(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?f:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):r>=3.2*h&&r<3.6*h?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=n,this.sessionVariables.labelFontSize=this.labelFontSize):r>3.6*h&&r<5*h?(u(this.options.labelFontSize)&&12<f&&(f=Math.floor(12/13*f),t.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?f:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=n):r>5*h&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelFontSize=f,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelAngle=this.labelAngle));else if(v===a&&(0===v&&m+this._labels[v+1].textBlock.measureText().width-2*h>p||v===this._labels.length-1&&m+this._labels[v-1].textBlock.measureText().width-2*h>p||0<v&&v<this._labels.length-1&&m+this._labels[v+1].textBlock.measureText().width-2*h>p&&m+this._labels[v-1].textBlock.measureText().width-2*h>p))p=0===v?m+this._labels[v+1].textBlock.measureText().width-2*h:m+this._labels[v-1].textBlock.measureText().width-2*h,this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?f:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=n;else if(0===p)for(this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?f:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,r=0;r<this._labels.length;r++)(t=this._labels[r].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(h,m),n),g=t.measureText(),r<this._labels.length-1&&(f=r+1,(e=this._labels[f].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(h,m),n),e=e.measureText(),g.width+e.width>>0>2*h&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<h?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=r):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=l)}else this.labelWrap?u(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(h,m),n),this.sessionVariables.labelWrap=this.labelWrap,g.width+e.width>>0>2*h&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>h?-25:this.sessionVariables.labelAngle):u(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelMaxWidth=h,g.width+e.width>>0>2*h&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=n)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>h?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?l:Math.min((r-h*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),r),n=0!=this.labelAngle?(c-(s+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):h,this.sessionVariables.labelMaxHeight=l=this.labelWrap?(c-n*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,u(this.options.labelWrap)?u(this.options.labelWrap)&&(this.labelWrap&&!u(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:n,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=n,this.sessionVariables.labelMaxHeight=r<.9*d?.9*d:r,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:n):(u(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:n,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=l)}for(r=0;r<this._labels.length;r++)(t=this._labels[r].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(a=0;a<this._labels.length;a++)(t=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=u(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=u(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=u(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=u(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();else if("left"===this._position||"right"===this._position)if(h=u(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,l=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelAngle=u(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,a=0;a<this._labels.length;a++)if(!this._labels[a].breaksLabelType){for(g=(t=this._labels[a].textBlock).measureText(),f=a+1;f<this._labels.length;f++)if(!this._labels[f].breaksLabelType){e=(e=this._labels[f].textBlock).measureText();break}i.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,i),r=h*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(l-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),u(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?u(this.options.labelWrap)?u(this.options.labelWrap)&&(u(this.options.labelMaxWidth)?u(e)||(d=g.height+e.height>>0)-2*l>m&&(m=d-2*l,d>=2*l&&d<2.4*l?(u(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):d>=2.4*l&&d<2.8*l?(this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):d>=2.8*l&&d<3.2*l?(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelWrap=!0,u(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=u(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):d>=3.2*l&&d<3.6*l?(this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):d>3.6*l&&d<10*l?(u(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelAngle=u(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):d>10*l&&d<50*l&&(u(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelAngle=u(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap||this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:h,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?h:Math.min((r-l*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),l),u(this.options.labelWrap)?u(this.options.labelWrap)&&(this.labelWrap&&!u(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=r):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:h,this.sessionVariables.labelMaxHeight=0===this.labelAngle?l:r,u(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?l:r,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=h):(this.sessionVariables.labelMaxHeight=l,u(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(r=0;r<this._labels.length;r++)(t=this._labels[r].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(a=0;a<this._labels.length;a++)(t=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=u(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=u(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=u(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=u(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();for(a=0;a<this.stripLines.length;a++){var y;"outside"===(h=this.stripLines[a]).labelPlacement?(l=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(y=u(h.options.labelWrap)?this.sessionVariables.labelMaxHeight:h.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(y=u(h.options.labelWrap)?this.sessionVariables.labelMaxHeight:h.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),u(h.labelBackgroundColor)&&(h.labelBackgroundColor="#EEEEEE")):(l="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,y=u(h.options.labelWrap)||h.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,u(h.labelBackgroundColor)&&(u(h.startValue)&&0!==h.startValue?h.labelBackgroundColor=Y?"transparent":null:h.labelBackgroundColor="#EEEEEE")),t=new D(this.ctx,{x:0,y:0,backgroundColor:h.labelBackgroundColor,borderColor:h.labelBorderColor,borderThickness:h.labelBorderThickness,cornerRadius:h.labelCornerRadius,maxWidth:h.options.labelMaxWidth?h.options.labelMaxWidth:l,maxHeight:y,angle:this.labelAngle,text:h.labelFormatter?h.labelFormatter({chart:this.chart,axis:this,stripLine:h}):h.label,horizontalAlign:"left",fontSize:"outside"===h.labelPlacement?h.options.labelFontSize?h.labelFontSize:this.labelFontSize:h.labelFontSize,fontFamily:"outside"===h.labelPlacement?h.options.labelFontFamily?h.labelFontFamily:this.labelFontFamily:h.labelFontFamily,fontWeight:"outside"===h.labelPlacement?h.options.labelFontWeight?h.labelFontWeight:this.labelFontWeight:h.labelFontWeight,fontColor:h.labelFontColor||h.color,fontStyle:"outside"===h.labelPlacement?h.options.labelFontStyle?h.labelFontStyle:this.fontWeight:h.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:h.value,textBlock:t,effectiveHeight:null,stripLine:h})}},z.prototype.createLabelsAndCalculateWidth=function(){var t=0,e=0;this._labels=[],this._stripLineLabels=[];var i=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){for(this.createLabels(),e=0;e<this._labels.length;e++){var s=this._labels[e].textBlock,o=s.measureText(),n=0;t<(n=0===this.labelAngle?o.width:o.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(o.height-s.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._labels[e].effectiveWidth=n}for(e=0;e<this._stripLineLabels.length;e++)"outside"===this._stripLineLabels[e].stripLine.labelPlacement&&this._stripLineLabels[e].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[e].stripLine.value<=this.viewportMaximum&&(o=(s=this._stripLineLabels[e].textBlock).measureText(),t<(n=0===this.labelAngle?o.width:o.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(o.height-s.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._stripLineLabels[e].effectiveWidth=n)}return e=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?s=e+i:e+t+this.tickLength+i},z.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var e,i=0,s=this.chart.isNavigator?0:5;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(i=0;i<this._labels.length;i++){var o=(e=this._labels[i].textBlock).measureText(),n=0;t<(n=0===this.labelAngle?o.height:o.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(o.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._labels[i].effectiveHeight=n}for(i=0;i<this._stripLineLabels.length;i++)"outside"===this._stripLineLabels[i].stripLine.labelPlacement&&this._stripLineLabels[i].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[i].stripLine.value<=this.viewportMaximum&&(o=(e=this._stripLineLabels[i].textBlock).measureText(),t<(n=0===this.labelAngle?o.height:o.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(o.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._stripLineLabels[i].effectiveHeight=n)}return e=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?i=e+s:e+t+this.tickLength+s},z.setLayout=function(t,e,i,s,o,n){var a,r,h,l,d=t[0]?t[0].chart:e[0].chart,c=d.isNavigator?0:10,p=d._axes;if(t&&0<t.length)for(var m=0;m<t.length;m++)t[m]&&t[m].calculateAxisParameters();if(e&&0<e.length)for(m=0;m<e.length;m++)e[m].calculateAxisParameters();if(i&&0<i.length)for(m=0;m<i.length;m++)i[m].calculateAxisParameters();if(s&&0<s.length)for(m=0;m<s.length;m++)s[m].calculateAxisParameters();for(m=0;m<p.length;m++)if(p[m]&&p[m].scaleBreaks&&p[m].scaleBreaks._appliedBreaks.length)for(var f=p[m].scaleBreaks._appliedBreaks,g=0;g<f.length&&!(f[g].startValue>p[m].viewportMaximum);g++)f[g].endValue<p[m].viewportMinimum||(u(p[m].scaleBreaks.firstBreakIndex)&&(p[m].scaleBreaks.firstBreakIndex=g),f[g].startValue>=p[m].viewPortMinimum&&(p[m].scaleBreaks.lastBreakIndex=g));var v,y,b,x,w,_=g=0,k=0,M=0,T=0,C=0,S=0,P=r=0;for(f=b=x=w=!1,m=0;m<p.length;m++)p[m]&&p[m].title&&(p[m]._titleTextBlock=new D(p[m].ctx,{text:p[m].title,horizontalAlign:"center",fontSize:p[m].titleFontSize,fontFamily:p[m].titleFontFamily,fontWeight:p[m].titleFontWeight,fontColor:p[m].titleFontColor,fontStyle:p[m].titleFontStyle,borderColor:p[m].titleBorderColor,borderThickness:p[m].titleBorderThickness,backgroundColor:p[m].titleBackgroundColor,cornerRadius:p[m].titleCornerRadius,textBaseline:"top"}));for(m=0;m<p.length;m++)if(p[m].title)switch(p[m]._position){case"left":p[m]._titleTextBlock.maxWidth=p[m].titleMaxWidth||n.height,p[m]._titleTextBlock.maxHeight=p[m].titleWrap?.8*n.width:1.5*p[m].titleFontSize,p[m]._titleTextBlock.angle=-90;break;case"right":p[m]._titleTextBlock.maxWidth=p[m].titleMaxWidth||n.height,p[m]._titleTextBlock.maxHeight=p[m].titleWrap?.8*n.width:1.5*p[m].titleFontSize,p[m]._titleTextBlock.angle=90;break;default:p[m]._titleTextBlock.maxWidth=p[m].titleMaxWidth||n.width,p[m]._titleTextBlock.maxHeight=p[m].titleWrap?.8*n.height:1.5*p[m].titleFontSize,p[m]._titleTextBlock.angle=0}if("normal"===o){M=[],T=[],C=[],S=[];for(var A=[],I=[],O=[],B=[];4>g;){var F=0,E=0,L=0,z=0,W=o=0,N=0,V=0,R=0,Y=0,H=0,j=0;if(i&&0<i.length)for(C=[],m=H=0;m<i.length;m++)C.push(Math.ceil(i[m]?i[m].createLabelsAndCalculateWidth():0)),H+=C[m],N+=i[m]&&!d.isNavigator?i[m].margin:0;else C.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(O.push(C),s&&0<s.length)for(S=[],m=j=0;m<s.length;m++)S.push(Math.ceil(s[m]?s[m].createLabelsAndCalculateWidth():0)),j+=S[m],V+=s[m]?s[m].margin:0;else S.push(Math.ceil(s[0]?s[0].createLabelsAndCalculateWidth():0));if(B.push(S),a=Math.round(n.x1+H+N),h=Math.round(n.x2-j-V>d.width-c?d.width-c:n.x2-j-V),t&&0<t.length)for(M=[],m=R=0;m<t.length;m++)t[m]&&(t[m].lineCoordinates={}),t[m].lineCoordinates.width=Math.abs(h-a),t[m].title&&(t[m]._titleTextBlock.maxWidth=0<t[m].titleMaxWidth&&t[m].titleMaxWidth<t[m].lineCoordinates.width?t[m].titleMaxWidth:t[m].lineCoordinates.width),M.push(Math.ceil(t[m]?t[m].createLabelsAndCalculateHeight():0)),R+=M[m],o+=t[m]&&!d.isNavigator?t[m].margin:0;else M.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(A.push(M),e&&0<e.length)for(T=[],m=Y=0;m<e.length;m++)e[m]&&(e[m].lineCoordinates={}),e[m].lineCoordinates.width=Math.abs(h-a),e[m].title&&(e[m]._titleTextBlock.maxWidth=0<e[m].titleMaxWidth&&e[m].titleMaxWidth<e[m].lineCoordinates.width?e[m].titleMaxWidth:e[m].lineCoordinates.width),T.push(Math.ceil(e[m]?e[m].createLabelsAndCalculateHeight():0)),Y+=T[m],W+=e[m]&&!d.isNavigator?e[m].margin:0;else T.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(I.push(T),t&&0<t.length)for(m=0;m<t.length;m++)t[m]&&(t[m].lineCoordinates.x1=a,h=Math.round(n.x2-j-V>d.width-c?d.width-c:n.x2-j-V),t[m]._labels&&1<t[m]._labels.length&&(r=l=0,l=t[m]._labels[1],r="dateTime"===t[m].valueType?t[m]._labels[t[m]._labels.length-2]:t[m]._labels[t[m]._labels.length-1],_=l.textBlock.width*Math.cos(Math.PI/180*Math.abs(l.textBlock.angle))+(l.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(l.textBlock.angle)),k=r.textBlock.width*Math.cos(Math.PI/180*Math.abs(r.textBlock.angle))+(r.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(r.textBlock.angle))),!t[m]||!t[m].labelAutoFit||u(v)||u(y)||d.isNavigator||(r=0,0<t[m].labelAngle?y+k>h&&(r+=0<t[m].labelAngle?y+k-h-j:0):0>t[m].labelAngle?v-_<a&&v-_<t[m].viewportMinimum&&(P=a-(N+t[m].tickLength+C+v-_+t[m].labelFontSize/2)):0===t[m].labelAngle&&(y+k>h&&(r=y+k/2-h-j),v-_<a&&v-_<t[m].viewportMinimum&&(P=a-N-t[m].tickLength-C-v+_/2)),t[m].viewportMaximum===t[m].maximum&&t[m].viewportMinimum===t[m].minimum&&0<t[m].labelAngle&&0<r?h-=r:t[m].viewportMaximum===t[m].maximum&&t[m].viewportMinimum===t[m].minimum&&0>t[m].labelAngle&&0<P?a+=P:t[m].viewportMaximum===t[m].maximum&&t[m].viewportMinimum===t[m].minimum&&0===t[m].labelAngle&&(0<P&&(a+=P),0<r&&(h-=r))),d.panEnabled?R=d.sessionVariables.axisX.height:d.sessionVariables.axisX.height=R,r=Math.round(n.y2-R-o+F),l=Math.round(n.y2),t[m].lineCoordinates.x2=h,t[m].lineCoordinates.width=h-a,t[m].lineCoordinates.y1=r,t[m].lineCoordinates.y2=r,t[m].bounds={x1:a,y1:r,x2:h,y2:l-(R+o-M[m]-F),width:h-a,height:l-r}),F+=M[m]+t[m].margin;if(e&&0<e.length)for(m=0;m<e.length;m++)e[m].lineCoordinates.x1=Math.round(n.x1+H+N),e[m].lineCoordinates.x2=Math.round(n.x2-j-V>d.width-c?d.width-c:n.x2-j-V),e[m].lineCoordinates.width=Math.abs(h-a),e[m]._labels&&1<e[m]._labels.length&&(l=e[m]._labels[1],r="dateTime"===e[m].valueType?e[m]._labels[e[m]._labels.length-2]:e[m]._labels[e[m]._labels.length-1],_=l.textBlock.width*Math.cos(Math.PI/180*Math.abs(l.textBlock.angle))+(l.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(l.textBlock.angle)),k=r.textBlock.width*Math.cos(Math.PI/180*Math.abs(r.textBlock.angle))+(r.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(r.textBlock.angle))),d.panEnabled?Y=d.sessionVariables.axisX2.height:d.sessionVariables.axisX2.height=Y,r=Math.round(n.y1),l=Math.round(n.y2+e[m].margin),e[m].lineCoordinates.y1=r+Y+W-E,e[m].lineCoordinates.y2=r,e[m].bounds={x1:a,y1:r+(Y+W-T[m]-E),x2:h,y2:l,width:h-a,height:l-r},E+=T[m]+e[m].margin;if(i&&0<i.length)for(m=0;m<i.length;m++)N=d.isNavigator?0:10,i[m]&&(a=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),N=i[m]._labels&&0<i[m]._labels.length?i[m]._labels[i[m]._labels.length-1].textBlock.height/2:c,r=Math.round(n.y1+Y+W<Math.max(N,c)?Math.max(N,c):n.y1+Y+W),h=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),N=0<t.length?0:i[m]._labels&&0<i[m]._labels.length?i[m]._labels[0].textBlock.height/2:c,l=Math.round(n.y2-R-o-N),i[m].lineCoordinates={x1:h-L,y1:r,x2:h-L,y2:l,height:Math.abs(l-r)},i[m].bounds={x1:a-(C[m]+L),y1:r,x2:h,y2:l,width:h-a,height:l-r},i[m].title&&(i[m]._titleTextBlock.maxWidth=0<i[m].titleMaxWidth&&i[m].titleMaxWidth<i[m].lineCoordinates.height?i[m].titleMaxWidth:i[m].lineCoordinates.height),L+=C[m]+i[m].margin);if(s&&0<s.length)for(m=0;m<s.length;m++)s[m]&&(a=Math.round(t[0]?t[0].lineCoordinates.x2:e[0].lineCoordinates.x2),h=Math.round(a),N=s[m]._labels&&0<s[m]._labels.length?s[m]._labels[s[m]._labels.length-1].textBlock.height/2:0,r=Math.round(n.y1+Y+W<Math.max(N,c)?Math.max(N,c):n.y1+Y+W),N=0<t.length?0:s[m]._labels&&0<s[m]._labels.length?s[m]._labels[0].textBlock.height/2:0,l=Math.round(n.y2-(R+o+N)),s[m].lineCoordinates={x1:a+z,y1:r,x2:a+z,y2:l,height:Math.abs(l-r)},s[m].bounds={x1:a,y1:r,x2:h+(S[m]+z),y2:l,width:h-a,height:l-r},s[m].title&&(s[m]._titleTextBlock.maxWidth=0<s[m].titleMaxWidth&&s[m].titleMaxWidth<s[m].lineCoordinates.height?s[m].titleMaxWidth:s[m].lineCoordinates.height),z+=S[m]+s[m].margin);if(t&&0<t.length)for(m=0;m<t.length;m++)t[m]&&(t[m].calculateValueToPixelConversionParameters(),t[m].calculateBreaksSizeInValues(),t[m]._labels&&1<t[m]._labels.length&&(v=(t[m].logarithmic?Math.log(t[m]._labels[1].position/t[m].viewportMinimum)/t[m].conversionParameters.lnLogarithmBase:t[m]._labels[1].position-t[m].viewportMinimum)*Math.abs(t[m].conversionParameters.pixelPerUnit)+t[m].lineCoordinates.x1,a=t[m]._labels[t[m]._labels.length-("dateTime"===t[m].valueType?2:1)].position,a=t[m].getApparentDifference(t[m].viewportMinimum,a),y=t[m].logarithmic?(1<a?Math.log(a)/t[m].conversionParameters.lnLogarithmBase*Math.abs(t[m].conversionParameters.pixelPerUnit):0)+t[m].lineCoordinates.x1:(0<a?a*Math.abs(t[m].conversionParameters.pixelPerUnit):0)+t[m].lineCoordinates.x1));if(e&&0<e.length)for(m=0;m<e.length;m++)e[m].calculateValueToPixelConversionParameters(),e[m].calculateBreaksSizeInValues(),e[m]._labels&&1<e[m]._labels.length&&(v=(e[m].logarithmic?Math.log(e[m]._labels[1].position/e[m].viewportMinimum)/e[m].conversionParameters.lnLogarithmBase:e[m]._labels[1].position-e[m].viewportMinimum)*Math.abs(e[m].conversionParameters.pixelPerUnit)+e[m].lineCoordinates.x1,a=e[m]._labels[e[m]._labels.length-("dateTime"===e[m].valueType?2:1)].position,a=e[m].getApparentDifference(e[m].viewportMinimum,a),y=e[m].logarithmic?(1<a?Math.log(a)/e[m].conversionParameters.lnLogarithmBase*Math.abs(e[m].conversionParameters.pixelPerUnit):0)+e[m].lineCoordinates.x1:(0<a?a*Math.abs(e[m].conversionParameters.pixelPerUnit):0)+e[m].lineCoordinates.x1);for(m=0;m<p.length;m++)"axisY"===p[m].type&&(p[m].calculateValueToPixelConversionParameters(),p[m].calculateBreaksSizeInValues());if(0<g){if(t&&0<t.length)for(m=0;m<t.length;m++)f=A[g-1][m]===A[g][m];else f=!0;if(e&&0<e.length)for(m=0;m<e.length;m++)b=I[g-1][m]===I[g][m];else b=!0;if(i&&0<i.length)for(m=0;m<i.length;m++)x=O[g-1][m]===O[g][m];else x=!0;if(s&&0<s.length)for(m=0;m<s.length;m++)w=B[g-1][m]===B[g][m];else w=!0}if(f&&b&&x&&w)break;g++}if(t&&0<t.length)for(m=0;m<t.length;m++)t[m].calculateStripLinesThicknessInValues(),t[m].calculateBreaksInPixels();if(e&&0<e.length)for(m=0;m<e.length;m++)e[m].calculateStripLinesThicknessInValues(),e[m].calculateBreaksInPixels();if(i&&0<i.length)for(m=0;m<i.length;m++)i[m].calculateStripLinesThicknessInValues(),i[m].calculateBreaksInPixels();if(s&&0<s.length)for(m=0;m<s.length;m++)s[m].calculateStripLinesThicknessInValues(),s[m].calculateBreaksInPixels()}else{for(c=[],v=[],P=[],_=[],y=[],k=[],A=[],I=[];4>g;){if(R=z=E=L=V=N=W=o=B=O=F=Y=0,t&&0<t.length)for(P=[],m=z=0;m<t.length;m++)P.push(Math.ceil(t[m]?t[m].createLabelsAndCalculateWidth():0)),z+=P[m],o+=t[m]&&!d.isNavigator?t[m].margin:0;else P.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(A.push(P),e&&0<e.length)for(_=[],m=R=0;m<e.length;m++)_.push(Math.ceil(e[m]?e[m].createLabelsAndCalculateWidth():0)),R+=_[m],W+=e[m]?e[m].margin:0;else _.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(I.push(_),i&&0<i.length)for(m=0;m<i.length;m++)i[m].lineCoordinates={},a=Math.round(n.x1+z+o),h=Math.round(n.x2-R-W>d.width-10?d.width-10:n.x2-R-W),i[m].labelAutoFit&&!u(M)&&(0<!t.length&&(a=0>i[m].labelAngle?Math.max(a,M):0===i[m].labelAngle?Math.max(a,M/2):a),0<!e.length&&(h=0<i[m].labelAngle||0===i[m].labelAngle?h-T/2:h)),i[m].lineCoordinates.x1=a,i[m].lineCoordinates.x2=h,i[m].lineCoordinates.width=Math.abs(h-a),i[m].title&&(i[m]._titleTextBlock.maxWidth=0<i[m].titleMaxWidth&&i[m].titleMaxWidth<i[m].lineCoordinates.width?i[m].titleMaxWidth:i[m].lineCoordinates.width);if(s&&0<s.length)for(m=0;m<s.length;m++)s[m].lineCoordinates={},a=Math.round(n.x1+z+o),h=Math.round(n.x2-R-W>s[m].chart.width-10?s[m].chart.width-10:n.x2-R-W),s[m]&&s[m].labelAutoFit&&!u(C)&&(0<!t.length&&(a=0<s[m].labelAngle?Math.max(a,C):0===s[m].labelAngle?Math.max(a,C/2):a),0<!e.length&&(h-=S/2)),s[m].lineCoordinates.x1=a,s[m].lineCoordinates.x2=h,s[m].lineCoordinates.width=Math.abs(h-a),s[m].title&&(s[m]._titleTextBlock.maxWidth=0<s[m].titleMaxWidth&&s[m].titleMaxWidth<s[m].lineCoordinates.width?s[m].titleMaxWidth:s[m].lineCoordinates.width);if(i&&0<i.length)for(c=[],m=L=0;m<i.length;m++)c.push(Math.ceil(i[m]?i[m].createLabelsAndCalculateHeight():0)),L+=c[m]+i[m].margin,N+=i[m].margin;else c.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if(y.push(c),s&&0<s.length)for(v=[],m=E=0;m<s.length;m++)v.push(Math.ceil(s[m]?s[m].createLabelsAndCalculateHeight():0)),E+=v[m],V+=s[m].margin;else v.push(Math.ceil(s[0]?s[0].createLabelsAndCalculateHeight():0));if(k.push(v),i&&0<i.length)for(m=0;m<i.length;m++)0<i[m]._labels.length&&(l=i[m]._labels[0],r=i[m]._labels[i[m]._labels.length-1],M=l.textBlock.width*Math.cos(Math.PI/180*Math.abs(l.textBlock.angle))+(l.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(l.textBlock.angle)),T=r.textBlock.width*Math.cos(Math.PI/180*Math.abs(r.textBlock.angle))+(r.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(r.textBlock.angle)));if(s&&0<s.length)for(m=0;m<s.length;m++)s[m]&&0<s[m]._labels.length&&(l=s[m]._labels[0],r=s[m]._labels[s[m]._labels.length-1],C=l.textBlock.width*Math.cos(Math.PI/180*Math.abs(l.textBlock.angle))+(l.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(l.textBlock.angle)),S=r.textBlock.width*Math.cos(Math.PI/180*Math.abs(r.textBlock.angle))+(r.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(r.textBlock.angle)));if(d.panEnabled)for(m=0;m<i.length;m++)c[m]=d.sessionVariables.axisY.height;else for(m=0;m<i.length;m++)d.sessionVariables.axisY.height=c[m];if(i&&0<i.length)for(m=i.length-1;0<=m;m--)r=Math.round(n.y2),l=Math.round(n.y2>i[m].chart.height-10?i[m].chart.height-10:n.y2),i[m].lineCoordinates.y1=r-(c[m]+i[m].margin+Y),i[m].lineCoordinates.y2=r-(c[m]+i[m].margin+Y),i[m].bounds={x1:a,y1:r-(c[m]+Y+i[m].margin),x2:h,y2:l-(Y+i[m].margin),width:h-a,height:c[m]},i[m].title&&(i[m]._titleTextBlock.maxWidth=0<i[m].titleMaxWidth&&i[m].titleMaxWidth<i[m].lineCoordinates.width?i[m].titleMaxWidth:i[m].lineCoordinates.width),Y+=c[m]+i[m].margin;if(s&&0<s.length)for(m=s.length-1;0<=m;m--)s[m]&&(r=Math.round(n.y1),l=Math.round(n.y1+(v[m]+s[m].margin+F)),s[m].lineCoordinates.y1=l,s[m].lineCoordinates.y2=l,s[m].bounds={x1:a,y1:r+(s[m].margin+F),x2:h,y2:l,width:h-a,height:E},s[m].title&&(s[m]._titleTextBlock.maxWidth=0<s[m].titleMaxWidth&&s[m].titleMaxWidth<s[m].lineCoordinates.width?s[m].titleMaxWidth:s[m].lineCoordinates.width),F+=v[m]+s[m].margin);if(t&&0<t.length)for(m=0;m<t.length;m++){if(N=t[m]._labels&&0<t[m]._labels.length?t[m]._labels[0].textBlock.fontSize/2:0,a=Math.round(n.x1+o),r=s&&0<s.length?Math.round(s[0]?s[0].lineCoordinates.y2:n.y1<Math.max(N,10)?Math.max(N,10):n.y1):n.y1<Math.max(N,10)?Math.max(N,10):n.y1,h=Math.round(n.x1+z+o),l=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:n.y2-L>d.height-Math.max(N,10)?d.height-Math.max(N,10):n.y2-L):n.y2>d.height-Math.max(N,10)?d.height-Math.max(N,10):n.y2,i&&0<i.length)for(N=0;N<i.length;N++)i[N]&&i[N].labelAutoFit&&(h=0>i[N].labelAngle?Math.max(h,M):0===i[N].labelAngle?Math.max(h,M/2):h,a=0>i[N].labelAngle||0===i[N].labelAngle?h-z:a);if(s&&0<s.length)for(N=0;N<s.length;N++)s[N]&&s[N].labelAutoFit&&(a=(h=s[N].lineCoordinates.x1)-z);t[m].lineCoordinates={x1:h-O,y1:r,x2:h-O,y2:l,height:Math.abs(l-r)},t[m].bounds={x1:h-(P[m]+O),y1:r,x2:h,y2:l,width:h-a,height:l-r},t[m].title&&(t[m]._titleTextBlock.maxWidth=0<t[m].titleMaxWidth&&t[m].titleMaxWidth<t[m].lineCoordinates.height?t[m].titleMaxWidth:t[m].lineCoordinates.height),t[m].calculateValueToPixelConversionParameters(),t[m].calculateBreaksSizeInValues(),O+=P[m]+t[m].margin}if(e&&0<e.length)for(m=0;m<e.length;m++){if(N=e[m]._labels&&0<e[m]._labels.length?e[m]._labels[0].textBlock.fontSize/2:0,a=Math.round(n.x1-o),r=s&&0<s.length?Math.round(s[0]?s[0].lineCoordinates.y2:n.y1<Math.max(N,10)?Math.max(N,10):n.y1):n.y1<Math.max(N,10)?Math.max(N,10):n.y1,h=Math.round(n.x2-R-W),l=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:n.y2-L>d.height-Math.max(N,10)?d.height-Math.max(N,10):n.y2-L):n.y2>d.height-Math.max(N,10)?d.height-Math.max(N,10):n.y2,i&&0<i.length)for(N=0;N<i.length;N++)i[N]&&i[N].labelAutoFit&&(h=0>i[N].labelAngle?Math.max(h,M):0===i[N].labelAngle?Math.max(h,M/2):h,a=0>i[N].labelAngle||0===i[N].labelAngle?h-R:a);if(s&&0<s.length)for(N=0;N<s.length;N++)s[N]&&s[N].labelAutoFit&&(a=(h=s[N].lineCoordinates.x2)-R);e[m].lineCoordinates={x1:h+B,y1:r,x2:h+B,y2:l,height:Math.abs(l-r)},e[m].bounds={x1:a,y1:r,x2:h+_[m]+B,y2:l,width:h-a,height:l-r},e[m].title&&(e[m]._titleTextBlock.maxWidth=0<e[m].titleMaxWidth&&e[m].titleMaxWidth<e[m].lineCoordinates.height?e[m].titleMaxWidth:e[m].lineCoordinates.height),e[m].calculateValueToPixelConversionParameters(),e[m].calculateBreaksSizeInValues(),B+=_[m]+e[m].margin}for(m=0;m<p.length;m++)"axisY"===p[m].type&&(p[m].calculateValueToPixelConversionParameters(),p[m].calculateBreaksSizeInValues());if(0<g){if(t&&0<t.length)for(m=0;m<t.length;m++)f=A[g-1][m]===A[g][m];else f=!0;if(e&&0<e.length)for(m=0;m<e.length;m++)b=I[g-1][m]===I[g][m];else b=!0;if(i&&0<i.length)for(m=0;m<i.length;m++)x=y[g-1][m]===y[g][m];else x=!0;if(s&&0<s.length)for(m=0;m<s.length;m++)w=k[g-1][m]===k[g][m];else w=!0}if(f&&b&&x&&w)break;g++}if(i&&0<i.length)for(m=0;m<i.length;m++)i[m].calculateStripLinesThicknessInValues(),i[m].calculateBreaksInPixels();if(s&&0<s.length)for(m=0;m<s.length;m++)s[m].calculateStripLinesThicknessInValues(),s[m].calculateBreaksInPixels();if(t&&0<t.length)for(m=0;m<t.length;m++)t[m].calculateStripLinesThicknessInValues(),t[m].calculateBreaksInPixels();if(e&&0<e.length)for(m=0;m<e.length;m++)e[m].calculateStripLinesThicknessInValues(),e[m].calculateBreaksInPixels()}},z.render=function(t,e,i,s,o){var n=t[0]?t[0].chart:e[0].chart;o=n.ctx;var a=n._axes;if(n.alignVerticalAxes&&n.alignVerticalAxes(),o.save(),o.beginPath(),t[0]&&o.rect(5,t[0].bounds.y1,t[0].chart.width-10,t[0].bounds.height),e[0]&&o.rect(5,e[e.length-1].bounds.y1,e[0].chart.width-10,e[0].bounds.height),o.clip(),t&&0<t.length)for(var r=0;r<t.length;r++)t[r].renderLabelsTicksAndTitle();if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderLabelsTicksAndTitle();if(o.restore(),i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderLabelsTicksAndTitle();if(s&&0<s.length)for(r=0;r<s.length;r++)s[r].renderLabelsTicksAndTitle();if(n.preparePlotArea(),n=n.plotArea,o.save(),o.beginPath(),o.rect(n.x1,n.y1,Math.abs(n.x2-n.x1),Math.abs(n.y2-n.y1)),o.clip(),t&&0<t.length)for(r=0;r<a.length;r++)a[r].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderStripLinesOfThicknessType("value");if(s&&0<s.length)for(r=0;r<s.length;r++)s[r].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderInterlacedColors();if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderInterlacedColors();if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderInterlacedColors();if(s&&0<s.length)for(r=0;r<s.length;r++)s[r].renderInterlacedColors();if(o.restore(),t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderGrid(),Y&&(t[r].createMask(),t[r].renderBreaksBackground());if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderGrid(),Y&&(e[r].createMask(),e[r].renderBreaksBackground());if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderGrid(),Y&&(i[r].createMask(),i[r].renderBreaksBackground());if(s&&0<s.length)for(r=0;r<s.length;r++)s[r].renderGrid(),Y&&(s[r].createMask(),s[r].renderBreaksBackground());if(t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderAxisLine();if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderAxisLine();if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderAxisLine();if(s&&0<s.length)for(r=0;r<s.length;r++)s[r].renderAxisLine();if(t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderStripLinesOfThicknessType("pixel");if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderStripLinesOfThicknessType("pixel");if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderStripLinesOfThicknessType("pixel");if(s&&0<s.length)for(r=0;r<s.length;r++)s[r].renderStripLinesOfThicknessType("pixel")},z.prototype.calculateStripLinesThicknessInValues=function(){for(var t=0;t<this.stripLines.length;t++)if(null!==this.stripLines[t].startValue&&null!==this.stripLines[t].endValue){var e=Math.min(this.stripLines[t].startValue,this.stripLines[t].endValue),i=Math.max(this.stripLines[t].startValue,this.stripLines[t].endValue);e=this.getApparentDifference(e,i);this.stripLines[t].value=this.logarithmic?this.stripLines[t].value*Math.sqrt(Math.log(this.stripLines[t].endValue/this.stripLines[t].startValue)/Math.log(e)):this.stripLines[t].value+(Math.abs(this.stripLines[t].endValue-this.stripLines[t].startValue)-e)/2,this.stripLines[t].thickness=e,this.stripLines[t]._thicknessType="value"}},z.prototype.calculateBreaksSizeInValues=function(){for(var t,e="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,i=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],s=this.conversionParameters.pixelPerUnit||e/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),o=this.scaleBreaks&&!u(this.scaleBreaks.options.spacing),n=0;n<i.length;n++)t=o||!u(i[n].options.spacing),i[n].spacing=c(i[n].spacing,e,8,t?.1*e:8,t?0:3)<<0,i[n].size=0>i[n].spacing?0:Math.abs(i[n].spacing/s),this.logarithmic&&(i[n].size=Math.pow(this.logarithmBase,i[n].size))},z.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var e=0;e<t.length&&!(t[e].startValue>this.conversionParameters.maximum);e++)t[e].endValue<this.conversionParameters.minimum||(u(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=e),t[e].startValue>=this.conversionParameters.minimum&&(t[e].startPixel=this.convertValueToPixel(t[e].startValue),this.scaleBreaks.lastBreakIndex=e),t[e].endValue<=this.conversionParameters.maximum&&(t[e].endPixel=this.convertValueToPixel(t[e].endValue)))}},z.prototype.renderLabelsTicksAndTitle=function(){var t=this,e=!1,i=0,s=0,o=1,n=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(o=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){i=[],o=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var a,r=this.viewportMaximum,h=this.lineCoordinates.width/Math.log(this.range),l=this._labels.length-1;0<=l&&!((c=this._labels[l]).position<this.viewportMinimum);l--)c.position>this.viewportMaximum||!(l===this._labels.length-1||a<Math.log(r/c.position)*h/o)||(i.push(c),r=c.position,a=c.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=i}else{for(l=0;l<this._labels.length;l++)(c=this._labels[l]).position<this.viewportMinimum||(i+=a=c.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));i>this.lineCoordinates.width*o&&this.labelAutoFit&&(e=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var d;for(i=[],r=this.viewportMaximum,h=this.lineCoordinates.height/Math.log(this.range),l=this._labels.length-1;0<=l&&!((c=this._labels[l]).position<this.viewportMinimum);l--)c.position>this.viewportMaximum||!(l===this._labels.length-1||d<Math.log(r/c.position)*h)||(i.push(c),r=c.position,d=c.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=i}else{for(l=0;l<this._labels.length;l++)(c=this._labels[l]).position<this.viewportMinimum||(s+=d=c.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));s>this.lineCoordinates.height*o&&this.labelAutoFit&&(e=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort((function(t,e){return t.position-e.position}));var c,u;l=0;if("bottom"===this._position){for(l=0;l<this._labels.length;l++)(c=this._labels[l]).position<this.viewportMinimum||c.position>this.viewportMaximum||e&&0!=n++%2&&this.labelAutoFit||(u=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,s=1==this.ctx.lineWidth%2?.5+(u.x<<0):u.x<<0,this.ctx.beginPath(),this.ctx.moveTo(s,u.y<<0),this.ctx.lineTo(s,u.y+this.tickLength<<0),this.ctx.stroke()),0===c.textBlock.angle?(u.x-=c.textBlock.width/2,u.y="inside"===this.labelPlacement?u.y-(this.tickLength+c.textBlock.fontSize/2):u.y+this.tickLength+c.textBlock.fontSize/2):(u.x="inside"===this.labelPlacement?0>this.labelAngle?u.x:u.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):u.x-(0>this.labelAngle?c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),u.y="inside"===this.labelPlacement?0>this.labelAngle?u.y-this.tickLength-5:u.y-this.tickLength-Math.abs(c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):u.y+this.tickLength+Math.abs(0>this.labelAngle?c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),c.textBlock.x=u.x,c.textBlock.y=u.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(l=0;l<t._labels.length;l++)if(!((c=t._labels[l]).position<t.viewportMinimum||c.position>t.viewportMaximum||e&&0!=n++%2&&t.labelAutoFit)&&(u=t.getPixelCoordinatesOnAxis(c.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var i=1==t.ctx.lineWidth%2?.5+(u.x<<0):u.x<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(i,u.y<<0),t.ctx.lineTo(i,u.y-t.tickLength<<0),t.ctx.stroke(),t.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(l=0;l<this._labels.length;l++)(c=this._labels[l]).position<this.viewportMinimum||c.position>this.viewportMaximum||e&&0!=n++%2&&this.labelAutoFit||(u=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,s=1==this.ctx.lineWidth%2?.5+(u.x<<0):u.x<<0,this.ctx.beginPath(),this.ctx.moveTo(s,u.y<<0),this.ctx.lineTo(s,u.y-this.tickLength<<0),this.ctx.stroke()),0===c.textBlock.angle?(u.x-=c.textBlock.width/2,u.y="inside"===this.labelPlacement?u.y+this.labelFontSize/2+this.tickLength+5:u.y-(this.tickLength+c.textBlock.height-c.textBlock.fontSize/2)):(u.x="inside"===this.labelPlacement?0<this.labelAngle?u.x:u.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):u.x+(c.textBlock.height-this.tickLength-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),u.y="inside"===this.labelPlacement?0<this.labelAngle?u.y+this.tickLength+5:u.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength+5:u.y-(this.tickLength+((c.textBlock.height-c.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),c.textBlock.x=u.x,c.textBlock.y=u.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(l=0;l<t._labels.length;l++)if(!((c=t._labels[l]).position<t.viewportMinimum||c.position>t.viewportMaximum||e&&0!=n++%2&&t.labelAutoFit)&&(u=t.getPixelCoordinatesOnAxis(c.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var i=1==this.ctx.lineWidth%2?.5+(u.x<<0):u.x<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(i,u.y<<0),t.ctx.lineTo(i,u.y+t.tickLength<<0),t.ctx.stroke(),t.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(l=0;l<this._labels.length;l++)(c=this._labels[l]).position<this.viewportMinimum||c.position>this.viewportMaximum||e&&0!=n++%2&&this.labelAutoFit||(u=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,s=1==this.ctx.lineWidth%2?.5+(u.y<<0):u.y<<0,this.ctx.beginPath(),this.ctx.moveTo(u.x<<0,s),this.ctx.lineTo(u.x-this.tickLength<<0,s),this.ctx.stroke()),0===this.labelAngle?(c.textBlock.y=u.y,c.textBlock.x="inside"===this.labelPlacement?u.x+this.tickLength+5:u.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(c.textBlock.y="inside"===this.labelPlacement?u.y:u.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),c.textBlock.x="inside"===this.labelPlacement?u.x+this.tickLength+5:0<this.labelAngle?u.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:u.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(l=0;l<t._labels.length;l++)if(!((c=t._labels[l]).position<t.viewportMinimum||c.position>t.viewportMaximum||e&&0!=n++%2&&t.labelAutoFit)&&(u=t.getPixelCoordinatesOnAxis(c.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var i=1==t.ctx.lineWidth%2?.5+(u.y<<0):u.y<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(u.x<<0,i),t.ctx.lineTo(u.x+t.tickLength<<0,i),t.ctx.stroke(),t.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(l=0;l<this._labels.length;l++)(c=this._labels[l]).position<this.viewportMinimum||c.position>this.viewportMaximum||e&&0!=n++%2&&this.labelAutoFit||(u=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,s=1==this.ctx.lineWidth%2?.5+(u.y<<0):u.y<<0,this.ctx.beginPath(),this.ctx.moveTo(u.x<<0,s),this.ctx.lineTo(u.x+this.tickLength<<0,s),this.ctx.stroke()),0===this.labelAngle?(c.textBlock.y=u.y,c.textBlock.x="inside"===this.labelPlacement?u.x-c.textBlock.width-this.tickLength-5:u.x+this.tickLength+5):(c.textBlock.y="inside"===this.labelPlacement?u.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?u.y:u.y-(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),c.textBlock.x="inside"===this.labelPlacement?u.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:0<this.labelAngle?u.x+(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:u.x+this.tickLength+5));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(l=0;l<t._labels.length;l++)if(!((c=t._labels[l]).position<t.viewportMinimum||c.position>t.viewportMaximum||e&&0!=n++%2&&t.labelAutoFit)&&(u=t.getPixelCoordinatesOnAxis(c.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var i=1==t.ctx.lineWidth%2?.5+(u.y<<0):u.y<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(u.x<<0,i),t.ctx.lineTo(u.x-t.tickLength<<0,i),t.ctx.stroke(),t.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(n=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(l=0;l<t._labels.length;l++)(c=t._labels[l]).position<t.viewportMinimum||c.position>t.viewportMaximum||e&&0!=n++%2&&t.labelAutoFit||(t.ctx.save(),t.ctx.beginPath(),c.textBlock.render(!0),t.ctx.restore())}),this);else for(l=0;l<this._labels.length;l++)(c=this._labels[l]).position<this.viewportMinimum||c.position>this.viewportMaximum||e&&0!=n++%2&&this.labelAutoFit||c.textBlock.render(!0)},z.prototype.renderInterlacedColors=function(){var t,e,i=this.chart.plotArea.ctx,s=this.chart.plotArea,o=0;if(t=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(i.fillStyle=this.interlacedColor,o=0;o<this._labels.length;o++)t?(e=this.getPixelCoordinatesOnAxis(this._labels[o].position),t=o+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[o+1].position),i.fillRect(s.x1,Math.min(e.y,t.y),Math.abs(s.x1-s.x2),Math.abs(t.y-e.y)),t=!1):t=!0}else for(i.fillStyle=this.interlacedColor,o=0;o<this._labels.length;o++)t?(t=this.getPixelCoordinatesOnAxis(this._labels[o].position),e=o+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[o+1].position),i.fillRect(Math.min(e.x,t.x),s.y1,Math.abs(e.x-t.x),Math.abs(s.y1-s.y2)),t=!1):t=!0;i.beginPath()},z.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){var e,i=this,s=0,o=0,n=!1,a=!1,r=[],h=[];for(a=!1,s=0;s<this.stripLines.length;s++){var l=this.stripLines[s];l._thicknessType===t&&("pixel"===t&&(l.value<this.viewportMinimum||l.value>this.viewportMaximum||u(l.value)||isNaN(this.range))||r.push(l))}for(s=0;s<this._stripLineLabels.length;s++)if(l=this.stripLines[s],!((e=this._stripLineLabels[s]).position<this.viewportMinimum||e.position>this.viewportMaximum||isNaN(this.range))){if(t=this.getPixelCoordinatesOnAxis(e.position),"outside"===e.stripLine.labelPlacement)if(l&&(this.ctx.strokeStyle=l.color,"pixel"===l._thicknessType&&(this.ctx.lineWidth=l.thickness)),"bottom"===this._position){var d=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0;this.ctx.beginPath(),this.ctx.moveTo(d,t.y<<0),this.ctx.lineTo(d,t.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y+=this.tickLength+e.textBlock.fontSize/2):(t.x-=0>this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,t.y+=this.tickLength+Math.abs(0>this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(d=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,this.ctx.beginPath(),this.ctx.moveTo(d,t.y<<0),this.ctx.lineTo(d,t.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y-=this.tickLength+e.textBlock.height):(t.x+=(e.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),t.y-=this.tickLength+(e.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(d=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,d),this.ctx.lineTo(t.x-this.tickLength<<0,d),this.ctx.stroke(),0===this.labelAngle?t.x=t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(t.y-=e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(d=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,d),this.ctx.lineTo(t.x+this.tickLength<<0,d),this.ctx.stroke(),0===this.labelAngle?t.x=t.x+this.tickLength+5:(t.y=0>this.labelAngle?t.y:t.y-(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:t.x+this.tickLength+5));else e.textBlock.angle=-90,"bottom"===this._position?(e.textBlock.maxWidth=this.options.stripLines[s].labelMaxWidth?this.options.stripLines[s].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?u(l.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,u(l.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y1+e.textBlock.width+3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(e.textBlock.maxWidth=this.options.stripLines[s].labelMaxWidth?this.options.stripLines[s].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?u(l.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,u(l.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+e.textBlock.width+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y2-e.textBlock.width-3):"left"===this._position?(e.textBlock.maxWidth=this.options.stripLines[s].labelMaxWidth?this.options.stripLines[s].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-e.textBlock.height>this.chart.plotArea.y1?u(l.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:u(l.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x2-e.textBlock.width-3):"right"===this._position&&(e.textBlock.maxWidth=this.options.stripLines[s].labelMaxWidth?this.options.stripLines[s].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-+e.textBlock.height>this.chart.plotArea.y1?u(l.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2-3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:u(l.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x1+3);e.textBlock.x=t.x,e.textBlock.y=t.y,h.push(e)}if(!a){for(a=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),s=0;s<r.length;s++)(l=r[s]).showOnTop?n||(n=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),o=0;o<r.length;o++)(l=r[o]).showOnTop&&l.render();this.ctx.restore()}),l)):l.render();for(s=0;s<h.length;s++)(e=h[s]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(o=0;o<h.length;o++)"inside"===(e=h[o]).stripLine.labelPlacement&&e.stripLine.showOnTop&&(i.ctx.save(),i.ctx.beginPath(),i.ctx.rect(i.chart.plotArea.x1,i.chart.plotArea.y1,i.chart.plotArea.width,i.chart.plotArea.height),i.ctx.clip(),e.textBlock.render(!0),i.ctx.restore())}),e.textBlock)):"inside"===e.stripLine.labelPlacement&&e.textBlock.render(!0);this.ctx.restore(),a=!0}if(a)for(a=!1,s=0;s<h.length;s++)(e=h[s]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(o=0;o<h.length;o++)"outside"===(e=h[o]).stripLine.labelPlacement&&e.stripLine.showOnTop&&e.textBlock.render(!0)}),e.textBlock)):"outside"===e.stripLine.labelPlacement&&e.textBlock.render(!0)}},z.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},z.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;Y?(this.maskCanvas=_(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var e=0;e<t.length;e++)t[e].endValue<this.viewportMinimum||t[e].startValue>this.viewportMaximum||isNaN(this.range)||t[e].render(this.maskCtx);this.maskCtx.restore()}},z.prototype.renderCrosshair=function(t,e){this.crosshair.render(t,e)},z.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var e,i=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(g(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(s=0;s<this._labels.length;s++)this._labels[s].position<this.viewportMinimum||this._labels[s].position>this.viewportMaximum||this._labels[s].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[s].position),e=1==t.lineWidth%2?.5+(e.x<<0):e.x<<0,t.moveTo(e,i.y1<<0),t.lineTo(e,i.y2<<0),t.stroke());else if("left"===this._position||"right"===this._position)for(var s=0;s<this._labels.length;s++)this._labels[s].position<this.viewportMinimum||this._labels[s].position>this.viewportMaximum||this._labels[s].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[s].position),e=1==t.lineWidth%2?.5+(e.y<<0):e.y<<0,t.moveTo(i.x1<<0,e),t.lineTo(i.x2<<0,e),t.stroke());t.restore()}},z.prototype.renderAxisLine=function(){var t,e,i=this.chart.ctx,s=Y?this.chart._preRenderCtx:i,o=Math.ceil(this.tickThickness/(this.reversed?-2:2)),n=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(s.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(t=this.lineCoordinates.x2,e=this.lineCoordinates.x1):(t=this.lineCoordinates.x1,e=this.lineCoordinates.x2),s.lineWidth=this.lineThickness,s.strokeStyle=this.lineColor?this.lineColor:"black",s.setLineDash&&s.setLineDash(g(this.lineDashType,this.lineThickness));var a=1==this.lineThickness%2?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(s.beginPath(),this.scaleBreaks&&!u(this.scaleBreaks.firstBreakIndex))if(u(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+n;else for(var r=this.scaleBreaks.firstBreakIndex;r<=this.scaleBreaks.lastBreakIndex;r++)s.moveTo(t,a),s.lineTo(this.scaleBreaks._appliedBreaks[r].startPixel+o,a),t=this.scaleBreaks._appliedBreaks[r].endPixel+n;t&&(s.moveTo(t,a),s.lineTo(e,a)),s.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(t=this.lineCoordinates.y1,e=this.lineCoordinates.y2):(t=this.lineCoordinates.y2,e=this.lineCoordinates.y1),s.lineWidth=this.lineThickness,s.strokeStyle=this.lineColor,s.setLineDash&&s.setLineDash(g(this.lineDashType,this.lineThickness)),a=1==this.lineThickness%2?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,s.beginPath(),this.scaleBreaks&&!u(this.scaleBreaks.firstBreakIndex))if(u(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+o;else for(r=this.scaleBreaks.firstBreakIndex;r<=this.scaleBreaks.lastBreakIndex;r++)s.moveTo(a,t),s.lineTo(a,this.scaleBreaks._appliedBreaks[r].startPixel+n),t=this.scaleBreaks._appliedBreaks[r].endPixel+o;t&&(s.moveTo(a,t),s.lineTo(a,e)),s.stroke()}Y&&(i.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),s.clearRect(0,0,this.chart.width,this.chart.height)),s.restore()},z.prototype.getPixelCoordinatesOnAxis=function(t){var e={};return"bottom"!==this._position&&"top"!==this._position||(e.x=this.convertValueToPixel(t),e.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(e.y=this.convertValueToPixel(t),e.x=this.lineCoordinates.x2),e},z.prototype.convertPixelToValue=function(t){if(void 0===t)return null;var e,i=0,s=0,o=(i=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);s="number"==typeof t?t:"left"===this._position||"right"===this._position?t.y:t.x;if(this.logarithmic){if(t=e=Math.pow(this.logarithmBase,(s-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),s<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(s=0;s<o.length;s++)if(!(o[s].endValue<this.conversionParameters.minimum))if(i)if(o[s].startValue<this.conversionParameters.minimum){if(1<o[s].size&&this.conversionParameters.minimum*Math.pow(o[s].endValue/o[s].startValue,Math.log(e)/Math.log(o[s].size))<o[s].endValue){t=Math.pow(o[s].endValue/o[s].startValue,Math.log(e)/Math.log(o[s].size));break}t*=o[s].endValue/this.conversionParameters.minimum/Math.pow(o[s].size,Math.log(o[s].endValue/this.conversionParameters.minimum)/Math.log(o[s].endValue/o[s].startValue)),e/=Math.pow(o[s].size,Math.log(o[s].endValue/this.conversionParameters.minimum)/Math.log(o[s].endValue/o[s].startValue)),i=!1}else{if(!(e>o[s].startValue/this.conversionParameters.minimum))break;if((e/=o[s].startValue/this.conversionParameters.minimum)<o[s].size){t*=Math.pow(o[s].endValue/o[s].startValue,1===o[s].size?1:Math.log(e)/Math.log(o[s].size))/e;break}t*=o[s].endValue/o[s].startValue/o[s].size,e/=o[s].size,i=!1}else{if(!(e>o[s].startValue/o[s-1].endValue))break;if((e/=o[s].startValue/o[s-1].endValue)<o[s].size){t*=Math.pow(o[s].endValue/o[s].startValue,1===o[s].size?1:Math.log(e)/Math.log(o[s].size))/e;break}t*=o[s].endValue/o[s].startValue/o[s].size,e/=o[s].size}}else for(s=o.length-1;0<=s;s--)if(!(o[s].startValue>this.conversionParameters.minimum))if(i)if(o[s].endValue>this.conversionParameters.minimum){if(1<o[s].size&&this.conversionParameters.minimum*Math.pow(o[s].endValue/o[s].startValue,Math.log(e)/Math.log(o[s].size))>o[s].startValue){t=Math.pow(o[s].endValue/o[s].startValue,Math.log(e)/Math.log(o[s].size));break}t*=o[s].startValue/this.conversionParameters.minimum*Math.pow(o[s].size,Math.log(o[s].startValue/this.conversionParameters.minimum)/Math.log(o[s].endValue/o[s].startValue))*e,e*=Math.pow(o[s].size,Math.log(this.conversionParameters.minimum/o[s].startValue)/Math.log(o[s].endValue/o[s].startValue)),i=!1}else{if(!(e<o[s].endValue/this.conversionParameters.minimum))break;if((e/=o[s].endValue/this.conversionParameters.minimum)>1/o[s].size){t*=Math.pow(o[s].endValue/o[s].startValue,1>=o[s].size?1:Math.log(e)/Math.log(o[s].size))*e;break}t/=o[s].endValue/o[s].startValue/o[s].size,e*=o[s].size,i=!1}else{if(!(e<o[s].endValue/o[s+1].startValue))break;if((e/=o[s].endValue/o[s+1].startValue)>1/o[s].size){t*=Math.pow(o[s].endValue/o[s].startValue,1>=o[s].size?1:Math.log(e)/Math.log(o[s].size))*e;break}t/=o[s].endValue/o[s].startValue/o[s].size,e*=o[s].size}i=t*this.viewportMinimum}else{if(t=e=(s-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,s<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(s=0;s<o.length;s++)if(!(o[s].endValue<this.conversionParameters.minimum))if(i)if(o[s].startValue<this.conversionParameters.minimum){if(o[s].size&&this.conversionParameters.minimum+e*(o[s].endValue-o[s].startValue)/o[s].size<o[s].endValue){t=0>=o[s].size?0:e*(o[s].endValue-o[s].startValue)/o[s].size;break}t+=o[s].endValue-this.conversionParameters.minimum-o[s].size*(o[s].endValue-this.conversionParameters.minimum)/(o[s].endValue-o[s].startValue),e-=o[s].size*(o[s].endValue-this.conversionParameters.minimum)/(o[s].endValue-o[s].startValue),i=!1}else{if(!(e>o[s].startValue-this.conversionParameters.minimum))break;if((e-=o[s].startValue-this.conversionParameters.minimum)<o[s].size){t+=(o[s].endValue-o[s].startValue)*(0===o[s].size?1:e/o[s].size)-e;break}t+=o[s].endValue-o[s].startValue-o[s].size,e-=o[s].size,i=!1}else{if(!(e>o[s].startValue-o[s-1].endValue))break;if((e-=o[s].startValue-o[s-1].endValue)<o[s].size){t+=(o[s].endValue-o[s].startValue)*(0===o[s].size?1:e/o[s].size)-e;break}t+=o[s].endValue-o[s].startValue-o[s].size,e-=o[s].size}}else for(s=o.length-1;0<=s;s--)if(!(o[s].startValue>this.conversionParameters.minimum))if(i)if(o[s].endValue>this.conversionParameters.minimum){if(o[s].size&&this.conversionParameters.minimum+e*(o[s].endValue-o[s].startValue)/o[s].size>o[s].startValue){t=0>=o[s].size?0:e*(o[s].endValue-o[s].startValue)/o[s].size;break}t+=o[s].startValue-this.conversionParameters.minimum+o[s].size*(this.conversionParameters.minimum-o[s].startValue)/(o[s].endValue-o[s].startValue),e+=o[s].size*(this.conversionParameters.minimum-o[s].startValue)/(o[s].endValue-o[s].startValue),i=!1}else{if(!(e<o[s].endValue-this.conversionParameters.minimum))break;if((e-=o[s].endValue-this.conversionParameters.minimum)>-1*o[s].size){t+=(o[s].endValue-o[s].startValue)*(0===o[s].size?1:e/o[s].size)+e;break}t-=o[s].endValue-o[s].startValue-o[s].size,e+=o[s].size,i=!1}else{if(!(e<o[s].endValue-o[s+1].startValue))break;if((e-=o[s].endValue-o[s+1].startValue)>-1*o[s].size){t+=(o[s].endValue-o[s].startValue)*(0===o[s].size?1:e/o[s].size)+e;break}t-=o[s].endValue-o[s].startValue-o[s].size,e+=o[s].size}i=this.conversionParameters.minimum+t}return i},z.prototype.convertValueToPixel=function(t){return t=this.getApparentDifference(this.conversionParameters.minimum,t,t),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5},z.prototype.getApparentDifference=function(t,e,i,s){var o=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){i=u(i)?e/t:i;for(var n=0;n<o.length&&!(e<o[n].startValue);n++)t>o[n].endValue||(t<=o[n].startValue&&e>=o[n].endValue?i=i/o[n].endValue*o[n].startValue*o[n].size:t>=o[n].startValue&&e>=o[n].endValue?i=i/o[n].endValue*t*Math.pow(o[n].size,Math.log(o[n].endValue/t)/Math.log(o[n].endValue/o[n].startValue)):t<=o[n].startValue&&e<=o[n].endValue?i=i/e*o[n].startValue*Math.pow(o[n].size,Math.log(e/o[n].startValue)/Math.log(o[n].endValue/o[n].startValue)):!s&&t>o[n].startValue&&e<o[n].endValue&&(i=t*Math.pow(o[n].size,Math.log(e/t)/Math.log(o[n].endValue/o[n].startValue))))}else for(i=u(i)?Math.abs(e-t):i,n=0;n<o.length&&!(e<o[n].startValue);n++)t>o[n].endValue||(t<=o[n].startValue&&e>=o[n].endValue?i=i-o[n].endValue+o[n].startValue+o[n].size:t>o[n].startValue&&e>=o[n].endValue?i=i-o[n].endValue+t+o[n].size*(o[n].endValue-t)/(o[n].endValue-o[n].startValue):t<=o[n].startValue&&e<o[n].endValue?i=i-e+o[n].startValue+o[n].size*(e-o[n].startValue)/(o[n].endValue-o[n].startValue):!s&&t>o[n].startValue&&e<o[n].endValue&&(i=t+o[n].size*(e-t)/(o[n].endValue-o[n].startValue)));return i},z.prototype.setViewPortRange=function(t,e){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,e),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,e)},z.prototype.getXValueAt=function(t){if(!t)return null;var e=null;return"left"===this._position?e=this.convertPixelToValue(t.y):"bottom"===this._position&&(e=this.convertPixelToValue(t.x)),e},z.prototype.calculateValueToPixelConversionParameters=function(t){t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var e={pixelPerUnit:null,minimum:null,reference:null},i=this.lineCoordinates.width,s=this.lineCoordinates.height;i="bottom"===this._position||"top"===this._position?i:s,s=Math.abs(this.range);if(this.logarithmic)for(var o=0;o<t.length&&!(this.viewportMaximum<t[o].startValue);o++)this.viewportMinimum>t[o].endValue||(this.viewportMinimum>=t[o].startValue&&this.viewportMaximum<=t[o].endValue?i=0:this.viewportMinimum<=t[o].startValue&&this.viewportMaximum>=t[o].endValue?(s=s/t[o].endValue*t[o].startValue,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100):i-Math.min(t[o].spacing,.1*i)):this.viewportMinimum>t[o].startValue&&this.viewportMaximum>=t[o].endValue?(s=s/t[o].endValue*this.viewportMinimum,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100*Math.log(t[o].endValue/this.viewportMinimum)/Math.log(t[o].endValue/t[o].startValue)):i-Math.min(t[o].spacing,.1*i)*Math.log(t[o].endValue/this.viewportMinimum)/Math.log(t[o].endValue/t[o].startValue)):this.viewportMinimum<=t[o].startValue&&this.viewportMaximum<t[o].endValue&&(s=s/this.viewportMaximum*t[o].startValue,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100*Math.log(this.viewportMaximum/t[o].startValue)/Math.log(t[o].endValue/t[o].startValue)):i-Math.min(t[o].spacing,.1*i)*Math.log(this.viewportMaximum/t[o].startValue)/Math.log(t[o].endValue/t[o].startValue)));else for(o=0;o<t.length&&!(this.viewportMaximum<t[o].startValue);o++)this.viewportMinimum>t[o].endValue||(this.viewportMinimum>=t[o].startValue&&this.viewportMaximum<=t[o].endValue?i=0:this.viewportMinimum<=t[o].startValue&&this.viewportMaximum>=t[o].endValue?(s=s-t[o].endValue+t[o].startValue,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100):i-Math.min(t[o].spacing,.1*i)):this.viewportMinimum>t[o].startValue&&this.viewportMaximum>=t[o].endValue?(s=s-t[o].endValue+this.viewportMinimum,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100*(t[o].endValue-this.viewportMinimum)/(t[o].endValue-t[o].startValue)):i-Math.min(t[o].spacing,.1*i)*(t[o].endValue-this.viewportMinimum)/(t[o].endValue-t[o].startValue)):this.viewportMinimum<=t[o].startValue&&this.viewportMaximum<t[o].endValue&&(s=s-this.viewportMaximum+t[o].startValue,i=0<t[o].spacing.toString().indexOf("%")?i*(1-parseFloat(t[o].spacing)/100*(this.viewportMaximum-t[o].startValue)/(t[o].endValue-t[o].startValue)):i-Math.min(t[o].spacing,.1*i)*(this.viewportMaximum-t[o].startValue)/(t[o].endValue-t[o].startValue)));e.minimum=this.viewportMinimum,e.maximum=this.viewportMaximum,e.range=s,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?-1:1)*i*e.lnLogarithmBase/Math.log(Math.abs(s))):e.pixelPerUnit=(this.reversed?-1:1)*i/Math.abs(s),e.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?1:-1)*i*e.lnLogarithmBase/Math.log(Math.abs(s))):e.pixelPerUnit=(this.reversed?1:-1)*i/Math.abs(s),e.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=e},z.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var t=this.chart.layoutManager.getFreeSpace(),e=!1,i=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=t.width,this.maxHeight=t.height):(this.maxWidth=t.height,this.maxHeight=t.width);t="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var s=4;"axisX"===this.type&&(s=600>this.maxWidth?8:6);var o,n,a;t=Math.max(s,Math.floor(this.maxWidth/t)),s=0;if(!u(this.options.viewportMinimum)&&!u(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!u(this.options.viewportMinimum)||u(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!u(this.options.viewportMaximum)||u(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(s=0;s<this.scaleBreaks._appliedBreaks.length;s++)if((!u(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[s].startValue||!u(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[s].startValue||!u(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[s].startValue)&&(!u(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[s].endValue||!u(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[s].endValue||!u(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[s].endValue)){this.scaleBreaks._appliedBreaks.splice(s,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(o=0;o<this.dataSeries.length;o++)"dateTime"===this.dataSeries[o].xValueType&&(i=!0);o=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,0==(n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-o&&(n+=s=void 0===this.options.interval?.4:this.options.interval,o-=s),1/0!==this.dataInfo.minDiff?a=this.dataInfo.minDiff:1<n-o?a=.5*Math.abs(n-o):(a=1,i&&(e=!0))}else"axisY"===this.type&&(o=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(o)||isFinite(n)?isFinite(o)?isFinite(n)||(n=o):o=n:(n=void 0===this.options.interval?-1/0:this.options.interval,o=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===o&&0===n?(n+=9,o=0):0==n-o?(n+=s=Math.min(Math.abs(.01*Math.abs(n)),5),o-=s):o>n?(s=Math.min(.01*Math.abs(this.getApparentDifference(n,o,null,!0)),5),0<=n?o=n-s:n=isFinite(o)?o+s:0):(s=Math.min(.01*Math.abs(this.getApparentDifference(o,n,null,!0)),.05),0!==n&&(n+=s),0!==o&&(o-=s)),a=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<n-o?.5*Math.abs(n-o):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<o&&(o=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>n&&(n=0));s=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?o:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum,null,!0),"axisX"===this.type&&i?(this.intervalType||(s/1<=t?(this.interval=1,this.intervalType="millisecond"):s/2<=t?(this.interval=2,this.intervalType="millisecond"):s/5<=t?(this.interval=5,this.intervalType="millisecond"):s/10<=t?(this.interval=10,this.intervalType="millisecond"):s/20<=t?(this.interval=20,this.intervalType="millisecond"):s/50<=t?(this.interval=50,this.intervalType="millisecond"):s/100<=t?(this.interval=100,this.intervalType="millisecond"):s/200<=t?(this.interval=200,this.intervalType="millisecond"):s/250<=t?(this.interval=250,this.intervalType="millisecond"):s/300<=t?(this.interval=300,this.intervalType="millisecond"):s/400<=t?(this.interval=400,this.intervalType="millisecond"):s/500<=t?(this.interval=500,this.intervalType="millisecond"):s/(1*$.secondDuration)<=t?(this.interval=1,this.intervalType="second"):s/(2*$.secondDuration)<=t?(this.interval=2,this.intervalType="second"):s/(5*$.secondDuration)<=t?(this.interval=5,this.intervalType="second"):s/(10*$.secondDuration)<=t?(this.interval=10,this.intervalType="second"):s/(15*$.secondDuration)<=t?(this.interval=15,this.intervalType="second"):s/(20*$.secondDuration)<=t?(this.interval=20,this.intervalType="second"):s/(30*$.secondDuration)<=t?(this.interval=30,this.intervalType="second"):s/(1*$.minuteDuration)<=t?(this.interval=1,this.intervalType="minute"):s/(2*$.minuteDuration)<=t?(this.interval=2,this.intervalType="minute"):s/(5*$.minuteDuration)<=t?(this.interval=5,this.intervalType="minute"):s/(10*$.minuteDuration)<=t?(this.interval=10,this.intervalType="minute"):s/(15*$.minuteDuration)<=t?(this.interval=15,this.intervalType="minute"):s/(20*$.minuteDuration)<=t?(this.interval=20,this.intervalType="minute"):s/(30*$.minuteDuration)<=t?(this.interval=30,this.intervalType="minute"):s/(1*$.hourDuration)<=t?(this.interval=1,this.intervalType="hour"):s/(2*$.hourDuration)<=t?(this.interval=2,this.intervalType="hour"):s/(3*$.hourDuration)<=t?(this.interval=3,this.intervalType="hour"):s/(6*$.hourDuration)<=t?(this.interval=6,this.intervalType="hour"):s/(1*$.dayDuration)<=t?(this.interval=1,this.intervalType="day"):s/(2*$.dayDuration)<=t?(this.interval=2,this.intervalType="day"):s/(4*$.dayDuration)<=t?(this.interval=4,this.intervalType="day"):s/(1*$.weekDuration)<=t?(this.interval=1,this.intervalType="week"):s/(2*$.weekDuration)<=t?(this.interval=2,this.intervalType="week"):s/(3*$.weekDuration)<=t?(this.interval=3,this.intervalType="week"):s/(1*$.monthDuration)<=t?(this.interval=1,this.intervalType="month"):s/(2*$.monthDuration)<=t?(this.interval=2,this.intervalType="month"):s/(3*$.monthDuration)<=t?(this.interval=3,this.intervalType="month"):s/(6*$.monthDuration)<=t?(this.interval=6,this.intervalType="month"):(this.interval=s/(1*$.yearDuration)<=t?1:s/(2*$.yearDuration)<=t?2:s/(4*$.yearDuration)<=t?4:Math.floor(z.getNiceNumber(s/(t-1),!0)/$.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=o-a/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=n+a/2),e?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",s=z.getNiceNumber(s,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:z.getNiceNumber(s/(t-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?o-a/2:Math.floor(o/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?n+a/2:Math.ceil(n/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&void 0===this.options.interval&&(this.interval=z.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(t-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(o=null!==this.minimum?this.minimum:this.dataInfo.min,0==(n=null!==this.maximum?this.maximum:this.dataInfo.max)-o&&(n+=s=void 0===this.options.interval?.4:this.options.interval,o-=s),a=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<n-o?.5*Math.abs(n-o):1):"axisY"===this.type&&(o=null!==this.minimum?this.minimum:this.dataInfo.min,n=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(o)||isFinite(n)?0===o&&0===n?(n+=9,o=0):0==n-o?(n+=s=Math.min(Math.abs(.01*Math.abs(n)),5),o-=s):o>n?(s=Math.min(.01*Math.abs(this.getApparentDifference(n,o,null,!0)),5),0<=n?o=n-s:n=isFinite(o)?o+s:0):(s=Math.min(.01*Math.abs(this.getApparentDifference(o,n,null,!0)),.05),0!==n&&(n+=s),0!==o&&(o-=s)):(n=void 0===this.options.interval?-1/0:this.options.interval,o=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),a=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<n-o?.5*Math.abs(n-o):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<o&&(o=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>n&&(n=0)),Math.abs(this.getApparentDifference(o,n,null,!0)),"axisX"===this.type&&i?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=o-a/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=n+a/2)):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?o-a/2:Math.floor(o/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?n+a/2:Math.ceil(n/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),u(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),u(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&i?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=z.generateValueFormatString(this.range,2))}},z.prototype.calculateLogarithmicAxisParameters=function(){var t,e=this.chart.layoutManager.getFreeSpace(),i=Math.log(this.logarithmBase);"bottom"===this._position||"top"===this._position?(this.maxWidth=e.width,this.maxHeight=e.height):(this.maxWidth=e.height,this.maxHeight=e.width);var s,o,n,a;e="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3);if(a=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(a=0;a<this.scaleBreaks._appliedBreaks.length;a++)if((!u(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue||!u(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[a].startValue||!u(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue)&&(!u(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue||!u(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[a].endValue||!u(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue)){this.scaleBreaks._appliedBreaks.splice(a,1);break}"axisX"===this.type?(s=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,1==(o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/s&&(o*=a=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),s/=a),n=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:o/s>this.logarithmBase?o/s*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(s=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=s&&!isFinite(o)?(o=void 0===this.options.interval?0:this.options.interval,s=1):0>=s?s=o:isFinite(o)||(o=s),1===s&&1===o?(o*=this.logarithmBase-1/this.logarithmBase,s=1):1==o/s?(o*=a=Math.min(o*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),s/=a):s>o?(a=Math.min(s/o*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=o?s=o/a:o=s*a):(a=Math.min(o/s*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==o&&(o*=a),1!==s&&(s/=a)),n=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:o/s>this.logarithmBase?o/s*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<s&&(s=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>o&&(o=1)),a=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?o:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?s:this.viewportMinimum);var r=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?o:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?s:this.viewportMinimum);if(this.intervalType="number",a=Math.pow(this.logarithmBase,z.getNiceNumber(Math.abs(Math.log(a)/i),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=z.getNiceExponent(Math.log(a)/i/(e-1),!0),t=z.getNiceNumber(r/(e-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?s/Math.sqrt(n):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(s)/i/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?o*Math.sqrt(n):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(o)/i/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&void 0===this.options.interval&&(this.interval=z.getNiceExponent(Math.ceil(Math.log(a)/i)/(e-1)),t=z.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(e-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(s=null!==this.minimum?this.minimum:this.dataInfo.min,1==(o=null!==this.maximum?this.maximum:this.dataInfo.max)/s&&(o*=a=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),s/=a),n=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:o/s>this.logarithmBase?o/s*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(s=null!==this.minimum?this.minimum:this.dataInfo.min,o=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(s)||isFinite(o)?1===s&&1===o?(o*=this.logarithmBase,s/=this.logarithmBase):1==o/s?(o*=a=Math.pow(this.logarithmBase,this.interval),s/=a):s>o?(a=Math.min(s/o*.01,5),1<=o?s=o/a:o=s*a):(a=Math.min(o/s*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==o&&(o*=a),1!==s&&(s/=a)):(o=void 0===this.options.interval?0:this.options.interval,s=1),n=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:o/s>this.logarithmBase?o/s*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<s&&(s=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>o&&(o=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?s/Math.sqrt(n):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(s)/i/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?o*Math.sqrt(n):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(o)/i/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),s=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=e,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>e?2:3)){for(i=Math.floor(this.viewportMinimum/t+.5)*t;i<this.viewportMinimum;)i+=t;this.equidistantInterval=!1,this.intervalStartPosition=i,this.interval=t}else this.options.interval||(t=Math.ceil(this.interval),this.range>this.interval&&(this.interval=t,s=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=s;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(i=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,!isNaN(i)&&isFinite(i)||(i=2),2<i))for(a=0;a<i-2;a++)this.valueFormatString+="#"},z.generateValueFormatString=function(t,e){var i="#,##0.",s=e;1>t&&(s+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),isNaN(s)||!isFinite(s))&&(s=e);for(var o=0;o<s;o++)i+="#";return i},z.getNiceExponent=function(t,e){var i=Math.floor(Math.log(t)/Math.LN10),s=t/Math.pow(10,i);s=0>i?1>=s?1:5>=s?5:10:Math.max(Math.floor(s),1);return Number(-20>i?s*Math.pow(10,i):(s*Math.pow(10,i)).toFixed(20))},z.getNiceNumber=function(t,e){var i=Math.floor(Math.log(t)/Math.LN10),s=t/Math.pow(10,i);s=e?1.5>s?1:3>s?2:7>s?5:10:1>=s?1:2>=s?2:5>=s?5:10;return Number(-20>i?s*Math.pow(10,i):(s*Math.pow(10,i)).toFixed(20))},z.prototype.getLabelStartPoint=function(){var t=$[this.intervalType+"Duration"]*this.interval;t=new Date(Math.floor(this.viewportMinimum/t)*t);return"millisecond"!==this.intervalType&&("second"===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):"minute"===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):"hour"===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"day"===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"week"===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"month"===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"year"===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},i(W,S),i(N,S),N.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder){var e=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(p(this.parent[this.optionsName]),e=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options[this.optionsName][e]=this.options}},N.prototype.render=function(t){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var e=this.ctx,i=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var s,o,n,a,r,h,l=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),c=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,d(this.id),t=Math.max(this.spacing,3);var u=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=u,this.ctx.setLineDash&&this.ctx.setLineDash(g(this.lineDashType,u)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(l=1==u%2?.5+(l.x<<0):l.x<<0,o=1==u%2?.5+(c.x<<0):c.x<<0,"top"===this.scaleBreaks.parent._position?(c=this.chart.plotArea.y1,n=this.chart.plotArea.y2+u/2+.5<<0):(c=this.chart.plotArea.y2,n=this.chart.plotArea.y1-u/2+.5<<0,t*=-1),this.bounds={x1:l-u/2,y1:c,x2:o+u/2,y2:n},this.ctx.moveTo(l,c),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=t||"bottom"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(l,n),this.ctx.lineTo(o,n),this.ctx.lineTo(o,c);else if("wavy"===this.type){a=l,s=.5,h=(n-(r=c))/t/3;for(var p=0;p<h;p++)this.ctx.bezierCurveTo(a+s*t,r+t,a+s*t,r+2*t,a,r+3*t),r+=3*t,s*=-1;for(this.ctx.bezierCurveTo(a+s*t,r+t,a+s*t,r+2*t,a,r+3*t),a=o,s*=-1,this.ctx.lineTo(a,r),p=0;p<h;p++)this.ctx.bezierCurveTo(a+s*t,r-t,a+s*t,r-2*t,a,r-3*t),r-=3*t,s*=-1}else if("zigzag"===this.type){for(s=-1,a=l+t,h=(n-(r=c+t))/t/2,p=0;p<h;p++)this.ctx.lineTo(a,r),a+=2*s*t,r+=2*t,s*=-1;for(this.ctx.lineTo(a,r),a+=o-l,p=0;p<h+1;p++)this.ctx.lineTo(a,r),a+=2*s*t,r-=2*t,s*=-1;this.ctx.lineTo(a+s*t,r+t)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(c=1==u%2?.5+(c.y<<0):c.y<<0,n=1==u%2?.5+(l.y<<0):l.y<<0,"left"===this.scaleBreaks.parent._position?(l=this.chart.plotArea.x1,o=this.chart.plotArea.x2+u/2+.5<<0):(l=this.chart.plotArea.x2,o=this.chart.plotArea.x1-u/2+.5<<0,t*=-1),this.bounds={x1:l,y1:c-u/2,x2:o,y2:n+u/2},this.ctx.moveTo(l,c),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=t||"right"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(o,c),this.ctx.lineTo(o,n),this.ctx.lineTo(l,n);else if("wavy"===this.type){for(r=c,s=.5,h=(o-(a=l))/t/3,p=0;p<h;p++)this.ctx.bezierCurveTo(a+t,r+s*t,a+2*t,r+s*t,a+3*t,r),a+=3*t,s*=-1;for(this.ctx.bezierCurveTo(a+t,r+s*t,a+2*t,r+s*t,a+3*t,r),r=n,s*=-1,this.ctx.lineTo(a,r),p=0;p<h;p++)this.ctx.bezierCurveTo(a-t,r+s*t,a-2*t,r+s*t,a-3*t,r),a-=3*t,s*=-1}else if("zigzag"===this.type){for(s=1,r=c-t,h=(o-(a=l+t))/t/2,p=0;p<h;p++)this.ctx.lineTo(a,r),r+=2*s*t,a+=2*t,s*=-1;for(this.ctx.lineTo(a,r),r+=n-c,p=0;p<h+1;p++)this.ctx.lineTo(a,r),r+=2*s*t,a-=2*t,s*=-1;this.ctx.lineTo(a+t,r+s*t)}0<u&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=i,this.ctx=e}},i(H,S),H.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder){var e=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(p(this.parent.stripLines),e=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options.stripLines[e]=this.options}},H.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),e=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);if(0<e){var i=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var s,o,n,a,r=this.ctx.globalAlpha;this.ctx.globalAlpha=i,d(this.id),this.ctx.lineWidth=e,this.ctx.setLineDash&&this.ctx.setLineDash(g(this.lineDashType,e)),"bottom"===this.parent._position||"top"===this.parent._position?(s=o=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,n=this.chart.plotArea.y1,a=this.chart.plotArea.y2,this.bounds={x1:s-e/2,y1:n,x2:o+e/2,y2:a}):"left"!==this.parent._position&&"right"!==this.parent._position||(n=a=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,s=this.chart.plotArea.x1,o=this.chart.plotArea.x2,this.bounds={x1:s,y1:n-e/2,x2:o,y2:a+e/2}),this.ctx.moveTo(s,n),this.ctx.lineTo(o,a),this.ctx.stroke(),this.ctx.globalAlpha=r}this.ctx.restore()},i(j,S),j.prototype.render=function(t,e){var i,s,o,n,a=null,r=a=null,h="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var l=0;l="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0);this.valueFormatString=z.generateValueFormatString(this.parent.range,l)}r=null===this.opacity?1:this.opacity,l=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var d=this.chart.overlaidCanvasCtx,c=d.globalAlpha;if(d.globalAlpha=r,d.beginPath(),d.strokeStyle=this.color,d.lineWidth=l,d.save(),this.labelFontSize=u(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize,"left"===this.parent._position||"right"===this.parent._position?(this.labelMaxWidth=u(this.options.labelMaxWidth)?this.parent.bounds.x2-this.parent.bounds.x1:this.labelMaxWidth,this.labelMaxHeight=u(this.options.labelWrap)||this.labelWrap?3*this.chart.height:2*this.labelFontSize):"top"!==this.parent._position&&"bottom"!==this.parent._position||(this.labelMaxWidth=u(this.options.labelMaxWidth)?3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=u(this.options.labelWrap)||this.labelWrap?this.parent.bounds.height:2*this.labelFontSize),0<l&&d.setLineDash&&d.setLineDash(g(this.lineDashType,l)),r=new D(d,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:h,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var p=0;a=[];if("xySwapped"===this.chart.plotInfo.axisPlacement){var m=null;"bottom"===this.parent._position||"top"===this.parent._position?p=this.parent.dataSeries[0].axisX.convertPixelToValue({y:e}):"left"!==this.parent._position&&"right"!==this.parent._position||(p=this.parent.convertPixelToValue({y:e}));for(var f=0;f<this.parent.dataSeries.length;f++)(m=this.parent.dataSeries[f].getDataPointAtX(p,!0))&&0<=m.index&&(m.dataSeries=this.parent.dataSeries[f],null!==m.dataPoint.y&&a.push(m));if(m=null,0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),m=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),f=0,"rangeBar"===a[0].dataSeries.type||"error"===a[0].dataSeries.type){m=Math.abs(t-this.parent.convertValueToPixel(a[f].dataPoint.y[0]));var v=0;for(p=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(h=0;h<a[p].dataPoint.y.length;h++)(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[h])))<m&&(m=v,f=p);else(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y)))<m&&(m=v,f=p)}else if("stackedBar"===a[0].dataSeries.type){m=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y));var y=v=0;for(p=f=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(h=0;h<a[p].dataPoint.y.length;h++)(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[h])))<m&&(m=v,f=p);else y+=a[p].dataPoint.y,(v=Math.abs(t-this.parent.convertValueToPixel(y)))<m&&(m=v,f=p)}else if("stackedBar100"===a[0].dataSeries.type){m=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y));var b=y=v=0;for(p=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(h=0;h<a[p].dataPoint.y.length;h++)(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[h])))<m&&(m=v,f=p);else y+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=y/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(v=Math.abs(t-this.parent.convertValueToPixel(b)))<m&&(m=v,f=p)}else for(m=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=f=v=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(h=0;h<a[p].dataPoint.y.length;h++)(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[h])))<m&&(m=v,f=p);else(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y)))<m&&(m=v,f=p);if(h=a[f],"bottom"===this.parent._position||"top"===this.parent._position){if(i=0,"rangeBar"===this.parent.dataSeries[f].type||"error"===this.parent.dataSeries[f].type){for(m=Math.abs(t-this.parent.convertValueToPixel(h.dataPoint.y[0])),p=v=0;p<h.dataPoint.y.length;p++)(v=Math.abs(t-this.parent.convertValueToPixel(h.dataPoint.y[p])))<m&&(m=v,i=p);a=1==d.lineWidth%2?.5+(this.parent.convertValueToPixel(h.dataPoint.y[i])<<0):this.parent.convertValueToPixel(h.dataPoint.y[i])<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.y[i]}):u(this.options.label)?nt(h.dataPoint.y[i],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[f].type){for(m=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=v=0,p=f;0<=p;p--)y+=a[p].dataPoint.y,(v=Math.abs(t-this.parent.convertValueToPixel(y)))<m&&(m=v,i=p);a=1==d.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.y}):u(this.options.label)?nt(h.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[f].type){for(m=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),b=y=v=0,p=f;0<=p;p--)y+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=y/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(v=Math.abs(t-this.parent.convertValueToPixel(b)))<m&&(m=v,i=p);a=1==d.lineWidth%2?.5+(this.parent.convertValueToPixel(b)<<0):this.parent.convertValueToPixel(b)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b}):u(this.options.label)?nt(b,this.valueFormatString,this.chart._cultureInfo):this.label}else a=1==d.lineWidth%2?.5+(this.parent.convertValueToPixel(h.dataPoint.y)<<0):this.parent.convertValueToPixel(h.dataPoint.y)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.y}):u(this.options.label)?nt(h.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;i=s=a,o=this.chart.plotArea.y1,n=this.chart.plotArea.y2,this.bounds={x1:i-l/2,y1:o,x2:s+l/2,y2:n},r.x=i-r.measureText().width/2,r.x+r.width>this.chart.bounds.x2?r.x=this.chart.bounds.x2-r.width:r.x<this.chart.bounds.x1&&(r.x=this.chart.bounds.x1),r.y=this.parent.lineCoordinates.y2+r.fontSize/2+2}else if("left"===this.parent._position||"right"===this.parent._position){if(o=n=a=1==d.lineWidth%2?.5+(this.parent.convertValueToPixel(h.dataPoint.x)<<0):this.parent.convertValueToPixel(h.dataPoint.x)<<0,i=this.chart.plotArea.x1,s=this.chart.plotArea.x2,this.bounds={x1:i,y1:o-l/2,x2:s,y2:n+l/2},b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({y:e}),m=null,f=0;f<this.parent.dataSeries.length;f++)(m=this.parent.dataSeries[f].getDataPointAtX(p,!0))&&0<=m.index&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.x}):u(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.x}):u(this.options.label)?ot(h.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.x}):u(this.options.label)?nt(h.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);r.y=n+r.fontSize/2-r.measureText().height/2+2,r.y-r.fontSize/2<this.chart.bounds.y1?r.y=this.chart.bounds.y1+r.fontSize/2+2:r.y+r.measureText().height-r.fontSize/2>this.chart.bounds.y2&&(r.y=this.chart.bounds.y2-r.measureText().height+r.fontSize/2),"left"===this.parent._position?r.x=this.parent.lineCoordinates.x2-r.measureText().width:"right"===this.parent._position&&(r.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(p=this.parent.convertPixelToValue({x:t}),f=0;f<this.parent.dataSeries.length;f++)(m=this.parent.dataSeries[f].getDataPointAtX(p,!0))&&0<=m.index&&(m.dataSeries=this.parent.dataSeries[f],null!==m.dataPoint.y&&a.push(m));if(0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),h=a[0],i=s=a=1==d.lineWidth%2?.5+(this.parent.convertValueToPixel(h.dataPoint.x)<<0):this.parent.convertValueToPixel(h.dataPoint.x)<<0,o=this.chart.plotArea.y1,n=this.chart.plotArea.y2,this.bounds={x1:i-l/2,y1:o,x2:s+l/2,y2:n},b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({x:t}),m=null,f=0;f<this.parent.dataSeries.length;f++)(m=this.parent.dataSeries[f].getDataPointAtX(p,!0))&&0<=m.index&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.x}):u(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.x}):u(this.options.label)?ot(h.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.x}):u(this.options.label)?nt(h.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);r.x=i-r.measureText().width/2,r.x+r.width>this.chart.bounds.x2&&(r.x=this.chart.bounds.x2-r.width),r.x<this.chart.bounds.x1&&(r.x=this.chart.bounds.x1),"bottom"===this.parent._position?r.y=this.parent.lineCoordinates.y2+r.fontSize/2+2:"top"===this.parent._position&&(r.y=this.parent.lineCoordinates.y1-r.height+r.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!u(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(p=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t})),f=0;f<this.parent.dataSeries.length;f++)(m=this.parent.dataSeries[f].getDataPointAtX(p,!0))&&0<=m.index&&(m.dataSeries=this.parent.dataSeries[f],null!==m.dataPoint.y&&a.push(m));if(0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),f=0,"rangeColumn"===a[0].dataSeries.type||"rangeArea"===a[0].dataSeries.type||"error"===a[0].dataSeries.type||"rangeSplineArea"===a[0].dataSeries.type||"candlestick"===a[0].dataSeries.type||"ohlc"===a[0].dataSeries.type||"boxAndWhisker"===a[0].dataSeries.type)for(m=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y[0])),p=v=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(h=0;h<a[p].dataPoint.y.length;h++)(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[h])))<m&&(m=v,f=p);else(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y)))<m&&(m=v,f=p);else if("stackedColumn"===a[0].dataSeries.type||"stackedArea"===a[0].dataSeries.type)for(m=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=y=v=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(h=0;h<a[p].dataPoint.y.length;h++)(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[h])))<m&&(m=v,f=p);else y+=a[p].dataPoint.y,(v=Math.abs(e-this.parent.convertValueToPixel(y)))<m&&(m=v,f=p);else if("stackedColumn100"===a[0].dataSeries.type||"stackedArea100"===a[0].dataSeries.type)for(m=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=b=y=v=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(h=0;h<a[p].dataPoint.y.length;h++)(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[h])))<m&&(m=v,f=p);else y+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=y/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(v=Math.abs(e-this.parent.convertValueToPixel(b)))<m&&(m=v,f=p);else for(m=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=v=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(h=0;h<a[p].dataPoint.y.length;h++)(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[h])))<m&&(m=v,f=p);else(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y)))<m&&(m=v,f=p);if(h=a[f],i=0,"rangeColumn"===this.parent.dataSeries[f].type||"rangeArea"===this.parent.dataSeries[f].type||"error"===this.parent.dataSeries[f].type||"rangeSplineArea"===this.parent.dataSeries[f].type||"candlestick"===this.parent.dataSeries[f].type||"ohlc"===this.parent.dataSeries[f].type||"boxAndWhisker"===this.parent.dataSeries[f].type){for(m=Math.abs(e-this.parent.convertValueToPixel(h.dataPoint.y[0])),p=v=0;p<h.dataPoint.y.length;p++)(v=Math.abs(e-this.parent.convertValueToPixel(h.dataPoint.y[p])))<m&&(m=v,i=p);a=1==d.lineWidth%2?.5+(this.parent.convertValueToPixel(h.dataPoint.y[i])<<0):this.parent.convertValueToPixel(h.dataPoint.y[i])<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.y[i]}):u(this.options.label)?nt(h.dataPoint.y[i],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn"===this.parent.dataSeries[f].type||"stackedArea"===this.parent.dataSeries[f].type){for(m=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=v=0,p=f;0<=p;p--)y+=a[p].dataPoint.y,(v=Math.abs(e-this.parent.convertValueToPixel(y)))<m&&(m=v,i=p);a=1==d.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.y}):u(this.options.label)?nt(h.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn100"===this.parent.dataSeries[f].type||"stackedArea100"===this.parent.dataSeries[f].type){for(m=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=v=0,p=f;0<=p;p--)y+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=y/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(v=Math.abs(e-this.parent.convertValueToPixel(b)))<m&&(m=v,i=p);a=1==d.lineWidth%2?.5+(this.parent.convertValueToPixel(b)<<0):this.parent.convertValueToPixel(b)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b}):u(this.options.label)?nt(b,this.valueFormatString,this.chart._cultureInfo):this.label}else"waterfall"===this.parent.dataSeries[f].type?(a=1==d.lineWidth%2?.5+(this.parent.convertValueToPixel(h.dataSeries.dataPointEOs[h.index].cumulativeSum)<<0):this.parent.convertValueToPixel(h.dataSeries.dataPointEOs[h.index].cumulativeSum)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataSeries.dataPointEOs[h.index].cumulativeSum}):u(this.options.label)?nt(h.dataSeries.dataPointEOs[h.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label):(a=1==d.lineWidth%2?.5+(this.parent.convertValueToPixel(h.dataPoint.y)<<0):this.parent.convertValueToPixel(h.dataPoint.y)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:h.dataPoint.y}):u(this.options.label)?nt(h.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);o=n=a,i=this.chart.plotArea.x1,s=this.chart.plotArea.x2,this.bounds={x1:i,y1:o-l/2,x2:s,y2:n+l/2},r.y=n+r.fontSize/2-r.measureText().height/2+2,r.y-r.fontSize/2<this.chart.bounds.y1?r.y=this.chart.bounds.y1+r.fontSize/2+2:r.y+r.measureText().height-r.fontSize/2>this.chart.bounds.y2&&(r.y=this.chart.bounds.y2-r.measureText().height+r.fontSize/2),"left"===this.parent._position?r.x=this.parent.lineCoordinates.x2-r.measureText().width:"right"===this.parent._position&&(r.x=this.parent.lineCoordinates.x2)}a=null,("bottom"===this.parent._position||"top"===this.parent._position)&&i>=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&s<=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&(0<l&&(d.moveTo(i,o),d.lineTo(s,n),d.stroke()),d.restore(),!u(r.text)&&("number"==typeof r.text.valueOf()||0<r.text.length)&&r.render(!0)),("left"===this.parent._position||"right"===this.parent._position)&&n>=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&o<=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&(0<l&&(d.moveTo(i,o),d.lineTo(s,n),d.stroke()),d.restore(),!u(r.text)&&("number"==typeof r.text.valueOf()||0<r.text.length)&&r.render(!0))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(i=s=a=1==d.lineWidth%2?.5+(t<<0):t<<0,o=this.chart.plotArea.y1,n=this.chart.plotArea.y2,this.bounds={x1:i-l/2,y1:o,x2:s+l/2,y2:n}):"left"!==this.parent._position&&"right"!==this.parent._position||(o=n=a=1==d.lineWidth%2?.5+(e<<0):e<<0,i=this.chart.plotArea.x1,s=this.chart.plotArea.x2,this.bounds={x1:i,y1:o-l/2,x2:s,y2:n+l/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({y:e}),m=null,f=0;f<this.parent.dataSeries.length;f++)(m=this.parent.dataSeries[f].getDataPointAtX(p,!0))&&0<=m.index&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):u(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):u(this.options.label)?ot(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):u(this.options.label)?nt(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label);r.y=e+r.fontSize/2-r.measureText().height/2+2,r.y-r.fontSize/2<this.chart.bounds.y1?r.y=this.chart.bounds.y1+r.fontSize/2+2:r.y+r.measureText().height-r.fontSize/2>this.chart.bounds.y2&&(r.y=this.chart.bounds.y2-r.measureText().height+r.fontSize/2),"left"===this.parent._position?r.x=this.parent.lineCoordinates.x1-r.measureText().width:"right"===this.parent._position&&(r.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):u(this.options.label)?nt(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label,r.x=i-r.measureText().width/2,r.x+r.width>this.chart.bounds.x2&&(r.x=this.chart.bounds.x2-r.width),r.x<this.chart.bounds.x1&&(r.x=this.chart.bounds.x1),"bottom"===this.parent._position&&(r.y=this.parent.lineCoordinates.y2+r.fontSize/2+2),"top"===this.parent._position&&(r.y=this.parent.lineCoordinates.y1-r.height+r.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(b=!1,h="",this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({x:t}),m=null,f=0;f<this.parent.dataSeries.length;f++)(m=this.parent.dataSeries[f].getDataPointAtX(p,!0))&&0<=m.index&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):u(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):u(this.options.label)?ot(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):""}):u(this.options.label)?nt(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label);r.x=i-r.measureText().width/2,r.x+r.width>this.chart.bounds.x2&&(r.x=this.chart.bounds.x2-r.width),r.x<this.chart.bounds.x1&&(r.x=this.chart.bounds.x1),"bottom"===this.parent._position?r.y=this.parent.lineCoordinates.y2+r.fontSize/2+2:"top"===this.parent._position&&(r.y=this.parent.lineCoordinates.y1-r.height+r.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):u(this.options.label)?nt(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label,r.y=e+r.fontSize/2-r.measureText().height/2+2,r.y-r.fontSize/2<this.chart.bounds.y1?r.y=this.chart.bounds.y1+r.fontSize/2+2:r.y+r.measureText().height-r.fontSize/2>this.chart.bounds.y2&&(r.y=this.chart.bounds.y2-r.measureText().height+r.fontSize/2),"left"===this.parent._position?r.x=this.parent.lineCoordinates.x2-r.measureText().width:"right"===this.parent._position&&(r.x=this.parent.lineCoordinates.x2));0<l&&(d.moveTo(i,o),d.lineTo(s,n),d.stroke()),d.restore(),!u(r.text)&&("number"==typeof r.text.valueOf()||0<r.text.length)&&r.render(!0)}d.globalAlpha=c},i(X,S),X.prototype._initialize=function(){var t;this.enabled&&(this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none",t='<div style=" width: auto;height: auto;min-width: 50px;',t+="line-height: auto;",t+="margin: 0px 0px 0px 0px;",t+="padding: 5px;",t+="font-family: Calibri, Arial, Georgia, serif;",t+="font-weight: normal;",t+="font-style: "+(Y?"italic;":"normal;"),t+="font-size: 14px;",t+="color: #000000;",t+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",t+="text-align: left;",t+="border: 2px solid gray;",t+=Y?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",t+="text-indent: 0px;",t+="white-space: nowrap;",t+="border-radius: 5px;",t+="-moz-user-select:none;",t+="-khtml-user-select: none;",t+="-webkit-user-select: none;",t+="-ms-user-select: none;",t+="user-select: none;",Y||(t+="filter: alpha(opacity = 90);",t+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),t+='} "> Sample Tooltip</div>',this.container.innerHTML=t,this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container))},X.prototype.mouseMoveHandler=function(t,e){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,e))},X.prototype._updateToolTip=function(t,e,i){if(i=void 0===i||i,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===t||void 0===e){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,e=this._prevY}else this._prevX=t,this._prevY=e;var s=null,o=null,n=[],a=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var r=[];if(this.chart.axisX)for(var h=0;h<this.chart.axisX.length;h++){a=this.chart.axisX[h].convertPixelToValue({y:e});var l=null;for(s=0;s<this.chart.axisX[h].dataSeries.length;s++)(l=this.chart.axisX[h].dataSeries[s].getDataPointAtX(a,i))&&0<=l.index&&(l.dataSeries=this.chart.axisX[h].dataSeries[s],null!==l.dataPoint.y&&r.push(l));l=null}if(this.chart.axisX2)for(h=0;h<this.chart.axisX2.length;h++){for(a=this.chart.axisX2[h].convertPixelToValue({y:e}),l=null,s=0;s<this.chart.axisX2[h].dataSeries.length;s++)(l=this.chart.axisX2[h].dataSeries[s].getDataPointAtX(a,i))&&0<=l.index&&(l.dataSeries=this.chart.axisX2[h].dataSeries[s],null!==l.dataPoint.y&&r.push(l));l=null}}else{if(r=[],this.chart.axisX)for(h=0;h<this.chart.axisX.length;h++)for(a=this.chart.axisX[h].convertPixelToValue({x:t}),l=null,s=0;s<this.chart.axisX[h].dataSeries.length;s++)(l=this.chart.axisX[h].dataSeries[s].getDataPointAtX(a,i))&&0<=l.index&&(l.dataSeries=this.chart.axisX[h].dataSeries[s],null!==l.dataPoint.y&&r.push(l));if(this.chart.axisX2)for(h=0;h<this.chart.axisX2.length;h++)for(a=this.chart.axisX2[h].convertPixelToValue({x:t}),l=null,s=0;s<this.chart.axisX2[h].dataSeries.length;s++)(l=this.chart.axisX2[h].dataSeries[s].getDataPointAtX(a,i))&&0<=l.index&&(l.dataSeries=this.chart.axisX2[h].dataSeries[s],null!==l.dataPoint.y&&r.push(l))}if(0===r.length)return;for(r.sort((function(t,e){return t.distance-e.distance})),i=r[0],s=0;s<r.length;s++)r[s].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&n.push(r[s]);r=null}else{if(l=this.chart.getDataPointAtXY(t,e,i))this.currentDataPointIndex=l.dataPointIndex,this.currentSeriesIndex=l.dataSeries.index;else if(Y)if(0<(l=y(t,e,this.chart._eventManager.ghostCtx))&&void 0!==this.chart._eventManager.objectMap[l]){if("legendItem"===(l=this.chart._eventManager.objectMap[l]).objectType)return;this.currentSeriesIndex=l.dataSeriesIndex,this.currentDataPointIndex=0<=l.dataPointIndex?l.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(o=this.chart.data[this.currentSeriesIndex],l={},0<=this.currentDataPointIndex)s=o.dataPoints[this.currentDataPointIndex],l.dataSeries=o,l.dataPoint=s,l.index=this.currentDataPointIndex,l.distance=Math.abs(s.x-a),"waterfall"===o.type&&(l.cumulativeSumYStartValue=o.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,l.cumulativeSum=o.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==o.type&&"stepLine"!==o.type&&"spline"!==o.type&&"area"!==o.type&&"stepArea"!==o.type&&"splineArea"!==o.type&&"stackedArea"!==o.type&&"stackedArea100"!==o.type&&"rangeArea"!==o.type&&"rangeSplineArea"!==o.type&&"candlestick"!==o.type&&"ohlc"!==o.type&&"boxAndWhisker"!==o.type)return;a=o.axisX.convertPixelToValue({x:t}),(l=o.getDataPointAtX(a,i)).dataSeries=o,this.currentDataPointIndex=l.index,s=l.dataPoint}if(!u(l.dataPoint.y))if(l.dataSeries.axisY)if(0<l.dataPoint.y.length){for(s=i=0;s<l.dataPoint.y.length;s++)l.dataPoint.y[s]<l.dataSeries.axisY.viewportMinimum?i--:l.dataPoint.y[s]>l.dataSeries.axisY.viewportMaximum&&i++;i<l.dataPoint.y.length&&i>-l.dataPoint.y.length&&n.push(l)}else"column"===o.type||"bar"===o.type?0>l.dataPoint.y?0>l.dataSeries.axisY.viewportMinimum&&l.dataSeries.axisY.viewportMaximum>=l.dataPoint.y&&n.push(l):l.dataSeries.axisY.viewportMinimum<=l.dataPoint.y&&0<=l.dataSeries.axisY.viewportMaximum&&n.push(l):"bubble"===o.type?(i=this.chart._eventManager.objectMap[o.dataPointIds[l.index]].size/2,l.dataPoint.y>=l.dataSeries.axisY.viewportMinimum-i&&l.dataPoint.y<=l.dataSeries.axisY.viewportMaximum+i&&n.push(l)):"waterfall"===o.type?(i=0,l.cumulativeSumYStartValue<l.dataSeries.axisY.viewportMinimum?i--:l.cumulativeSumYStartValue>l.dataSeries.axisY.viewportMaximum&&i++,l.cumulativeSum<l.dataSeries.axisY.viewportMinimum?i--:l.cumulativeSum>l.dataSeries.axisY.viewportMaximum&&i++,2>i&&-2<i&&n.push(l)):(0<=l.dataSeries.type.indexOf("100")||"stackedColumn"===o.type||"stackedBar"===o.type||l.dataPoint.y>=l.dataSeries.axisY.viewportMinimum&&l.dataPoint.y<=l.dataSeries.axisY.viewportMaximum)&&n.push(l);else n.push(l)}}if(0<n.length&&(this.highlightObjects(n),this.enabled))if(i="",null!==(i=this.getToolTipInnerHTML({entries:n}))){this.contentDiv.innerHTML=i,i=!1,"none"===this.container.style.display&&(i=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:Y?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor="waterfall"===n[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:n[0].dataPoint.color?n[0].dataPoint.color:0<n[0].dataPoint.y?n[0].dataSeries.risingColor:n[0].dataSeries.fallingColor:"error"===n[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:n[0].dataSeries.color?n[0].dataSeries.color:n[0].dataSeries._colorSet[o.index%n[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:n[0].dataPoint.color?n[0].dataPoint.color:n[0].dataSeries.color?n[0].dataSeries.color:n[0].dataSeries._colorSet[n[0].index%n[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:Y?"italic":"normal"}catch(t){}"pie"===n[0].dataSeries.type||"doughnut"===n[0].dataSeries.type||"funnel"===n[0].dataSeries.type||"pyramid"===n[0].dataSeries.type||"bar"===n[0].dataSeries.type||"rangeBar"===n[0].dataSeries.type||"stackedBar"===n[0].dataSeries.type||"stackedBar100"===n[0].dataSeries.type?t=t-10-this.container.clientWidth:(t=n[0].dataSeries.axisX.convertValueToPixel(n[0].dataPoint.x)-this.container.clientWidth<<0,t-=10),0>t&&(t+=this.container.clientWidth+20),t+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(t=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(e=10-(e=1!==n.length||this.shared||"line"!==n[0].dataSeries.type&&"stepLine"!==n[0].dataSeries.type&&"spline"!==n[0].dataSeries.type&&"area"!==n[0].dataSeries.type&&"stepArea"!==n[0].dataSeries.type&&"splineArea"!==n[0].dataSeries.type?"bar"===n[0].dataSeries.type||"rangeBar"===n[0].dataSeries.type||"stackedBar"===n[0].dataSeries.type||"stackedBar100"===n[0].dataSeries.type?n[0].dataSeries.axisX.convertValueToPixel(n[0].dataPoint.x):e:n[0].dataSeries.axisY.convertValueToPixel(n[0].dataPoint.y)))+this.container.clientHeight+5&&(e-=e+this.container.clientHeight+5-0),this.fixMozTransitionDelay(t,e),!this.animationEnabled||i?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=t+"px",this.container.style.bottom=e+"px"}else this.hide(!1)}},X.prototype.highlightObjects=function(t){var e=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),e.clearRect(0,0,this.chart.width,this.chart.height),e.save();var i=this.chart.plotArea,s=0;for(e.beginPath(),e.rect(i.x1,i.y1,i.x2-i.x1,i.y2-i.y1),e.clip(),i=0;i<t.length;i++){var o=t[i];if((o=this.chart._eventManager.objectMap[o.dataSeries.dataPointIds[o.index]])&&o.objectType&&"dataPoint"===o.objectType){var a=(s=this.chart.data[o.dataSeriesIndex]).dataPoints[o.dataPointIndex],r=o.dataPointIndex;!1===a.highlightEnabled||!0!==s.highlightEnabled&&!0!==a.highlightEnabled||("line"===s.type||"stepLine"===s.type||"spline"===s.type||"scatter"===s.type||"area"===s.type||"stepArea"===s.type||"splineArea"===s.type||"stackedArea"===s.type||"stackedArea100"===s.type||"rangeArea"===s.type||"rangeSplineArea"===s.type?((a=s.getMarkerProperties(r,o.x1,o.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*a.size<<0,10),a.borderColor=a.borderColor||"#FFFFFF",a.borderThickness=a.borderThickness||Math.ceil(.1*a.size),tt.drawMarkers([a]),void 0!==o.y2&&((a=s.getMarkerProperties(r,o.x1,o.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*a.size<<0,10),a.borderColor=a.borderColor||"#FFFFFF",a.borderThickness=a.borderThickness||Math.ceil(.1*a.size),tt.drawMarkers([a]))):"bubble"===s.type?((a=s.getMarkerProperties(r,o.x1,o.y1,this.chart.overlaidCanvasCtx)).size=o.size,a.color="white",a.borderColor="white",e.globalAlpha=.3,tt.drawMarkers([a]),e.globalAlpha=1):"column"===s.type||"stackedColumn"===s.type||"stackedColumn100"===s.type||"bar"===s.type||"rangeBar"===s.type||"stackedBar"===s.type||"stackedBar100"===s.type||"rangeColumn"===s.type||"waterfall"===s.type?ct(e,o.x1,o.y1,o.x2,o.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===s.type||"doughnut"===s.type?K(e,o.center,o.radius,"white",s.type,o.startAngle,o.endAngle,.3,o.percentInnerRadius):"funnel"===s.type||"pyramid"===s.type?Z(e,o.funnelSection,.3,"white"):"candlestick"===s.type?(e.globalAlpha=1,e.strokeStyle=o.color,e.lineWidth=2*o.borderThickness,s=0==e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(o.x3-s,Math.min(o.y2,o.y3)),e.lineTo(o.x3-s,Math.min(o.y1,o.y4)),e.stroke(),e.beginPath(),e.moveTo(o.x3-s,Math.max(o.y1,o.y4)),e.lineTo(o.x3-s,Math.max(o.y2,o.y3)),e.stroke(),ct(e,o.x1,Math.min(o.y1,o.y4),o.x2,Math.max(o.y1,o.y4),"transparent",2*o.borderThickness,o.color,!1,!1,!1,!1),e.globalAlpha=1):"ohlc"===s.type?(e.globalAlpha=1,e.strokeStyle=o.color,e.lineWidth=2*o.borderThickness,s=0==e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(o.x3-s,o.y2),e.lineTo(o.x3-s,o.y3),e.stroke(),e.beginPath(),e.moveTo(o.x3,o.y1),e.lineTo(o.x1,o.y1),e.stroke(),e.beginPath(),e.moveTo(o.x3,o.y4),e.lineTo(o.x2,o.y4),e.stroke(),e.globalAlpha=1):"boxAndWhisker"===s.type?(e.save(),e.globalAlpha=1,e.strokeStyle=o.stemColor,e.lineWidth=2*o.stemThickness,0<o.stemThickness&&(e.beginPath(),e.moveTo(o.x3,o.y2+o.borderThickness/2),e.lineTo(o.x3,o.y1+o.whiskerThickness/2),e.stroke(),e.beginPath(),e.moveTo(o.x3,o.y4-o.whiskerThickness/2),e.lineTo(o.x3,o.y3-o.borderThickness/2),e.stroke()),e.beginPath(),ct(e,o.x1-o.borderThickness/2,Math.max(o.y2+o.borderThickness/2,o.y3+o.borderThickness/2),o.x2+o.borderThickness/2,Math.min(o.y2-o.borderThickness/2,o.y3-o.borderThickness/2),"transparent",o.borderThickness,o.color,!1,!1,!1,!1),e.globalAlpha=1,e.strokeStyle=o.whiskerColor,e.lineWidth=2*o.whiskerThickness,0<o.whiskerThickness&&(e.beginPath(),e.moveTo(Math.floor(o.x3-o.whiskerLength/2),o.y4),e.lineTo(Math.ceil(o.x3+o.whiskerLength/2),o.y4),e.stroke(),e.beginPath(),e.moveTo(Math.floor(o.x3-o.whiskerLength/2),o.y1),e.lineTo(Math.ceil(o.x3+o.whiskerLength/2),o.y1),e.stroke()),e.globalAlpha=1,e.strokeStyle=o.lineColor,e.lineWidth=2*o.lineThickness,0<o.lineThickness&&(e.beginPath(),e.moveTo(o.x1,o.y5),e.lineTo(o.x2,o.y5),e.stroke()),e.restore(),e.globalAlpha=1):"error"===s.type&&n(e,o.x1,o.y1,o.x2,o.y2,"white",o.whiskerProperties,o.stemProperties,o.isXYSwapped,.3))}}e.restore(),e.globalAlpha=1,e.beginPath()},X.prototype.getToolTipInnerHTML=function(t){t=t.entries;for(var e=null,i=null,s=null,o=0,n="",a=!0,r=0;r<t.length;r++)if(t[r].dataSeries.toolTipContent||t[r].dataPoint.toolTipContent){a=!1;break}if(a&&(this.content&&"function"==typeof this.content||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:t},e=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var h=null,l="";for(r=0;r<t.length;r++)i=t[r].dataSeries,s=t[r].dataPoint,o=t[r].index,n="",0===r&&a&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?l+=void 0!==this.chart.axisX[0].labels[s.x]?this.chart.axisX[0].labels[s.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(l+=void 0!==this.chart.axisX2[0].labels[s.x]?this.chart.axisX2[0].labels[s.x]:"{x}"),l+="</br>",l=this.chart.replaceKeywordsWithValue(l,s,i,o)),null===s.toolTipContent||void 0===s.toolTipContent&&null===i.options.toolTipContent||("line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"column"===i.type||"bar"===i.type||"scatter"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"waterfall"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(n+=h!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),n+=s.toolTipContent?s.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",h=i.axisXIndex):"bubble"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(n+=h!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),n+=s.toolTipContent?s.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"error"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(n+=h!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),n+=s.toolTipContent?s.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===i.type||"ohlc"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(n+=h!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),n+=s.toolTipContent?s.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===i.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(n+=h!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),n+=s.toolTipContent?s.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),!0===this.reversed?(e=this.chart.replaceKeywordsWithValue(n,s,i,o)+e,r<t.length-1&&(e="</br>"+e)):(e+=this.chart.replaceKeywordsWithValue(n,s,i,o),r<t.length-1&&(e+="</br>")));null!==e&&(e=l+e)}else{if(i=t[0].dataSeries,s=t[0].dataPoint,o=t[0].index,null===s.toolTipContent||void 0===s.toolTipContent&&null===i.options.toolTipContent)return null;"line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"column"===i.type||"bar"===i.type||"scatter"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"waterfall"===i.type?n=s.toolTipContent?s.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===i.type?n=s.toolTipContent?s.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===i.type||"doughnut"===i.type||"funnel"===i.type||"pyramid"===i.type?n=s.toolTipContent?s.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.name?"{name}:</span>&nbsp;&nbsp;":s.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"error"===i.type?n=s.toolTipContent?s.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===i.type||"ohlc"===i.type?n=s.toolTipContent?s.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===i.type&&(n=s.toolTipContent?s.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),e+=this.chart.replaceKeywordsWithValue(n,s,i,o)}return e},X.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var t=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition}},X.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},X.prototype.hide=function(t){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(void 0===t||t)&&this.chart.resetOverlayedCanvas())},X.prototype.show=function(t,e,i){this._updateToolTip(t,e,void 0!==i&&i)},X.prototype.fixMozTransitionDelay=function(t,e){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var i=parseFloat(this.container.style.left),s=(i=isNaN(i)?0:i,parseFloat(this.container.style.bottom));s=isNaN(s)?0:s;10<Math.sqrt(Math.pow(i-t,2)+Math.pow(s-e,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},X.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},G.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],Y&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},G.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},G.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var e=[],i=at(t),s=null;if((s=this.chart.getObjectAtXY(i.x,i.y,!1))&&void 0!==this.objectMap[s])if("dataPoint"===(s=this.objectMap[s]).objectType){var o=this.chart.data[s.dataSeriesIndex],n=o.dataPoints[s.dataPointIndex],a=s.dataPointIndex;s.eventParameter={x:i.x,y:i.y,dataPoint:n,dataSeries:o.options,dataPointIndex:a,dataSeriesIndex:o.index,chart:this.chart},s.eventContext={context:n,userContext:n,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(s),(s=this.objectMap[o.id]).eventParameter={x:i.x,y:i.y,dataPoint:n,dataSeries:o.options,dataPointIndex:a,dataSeriesIndex:o.index,chart:this.chart},s.eventContext={context:o,userContext:o.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(this.objectMap[o.id])}else"legendItem"===s.objectType&&(o=this.chart.data[s.dataSeriesIndex],n=null!==s.dataPointIndex?o.dataPoints[s.dataPointIndex]:null,s.eventParameter={x:i.x,y:i.y,dataSeries:o.options,dataPoint:n,dataPointIndex:s.dataPointIndex,dataSeriesIndex:s.dataSeriesIndex,chart:this.chart},s.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},e.push(s));for(o=[],i=0;i<this.mouseoveredObjectMaps.length;i++){for(n=!0,s=0;s<e.length;s++)if(e[s].id===this.mouseoveredObjectMaps[i].id){n=!1;break}n?this.fireEvent(this.mouseoveredObjectMaps[i],"mouseout",t):o.push(this.mouseoveredObjectMaps[i])}for(this.mouseoveredObjectMaps=o,i=0;i<e.length;i++){for(o=!1,s=0;s<this.mouseoveredObjectMaps.length;s++)if(e[i].id===this.mouseoveredObjectMaps[s].id){o=!0;break}o||(this.fireEvent(e[i],"mouseover",t),this.mouseoveredObjectMaps.push(e[i])),"click"===t.type?this.fireEvent(e[i],"click",t):"mousemove"===t.type&&this.fireEvent(e[i],"mousemove",t)}}},G.prototype.fireEvent=function(t,e,i){if(t&&e){var s=t.eventParameter,o=t.eventContext,n=t.eventContext.userContext;n&&o&&n[o[e]]&&n[o[e]].call(n,s),"mouseout"!==e?n.cursor&&n.cursor!==i.target.style.cursor&&(i.target.style.cursor=n.cursor):(i.target.style.cursor=this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===e&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],s),"click"===e&&"dataPoint"===t.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],s)}},q.prototype.animate=function(t,e,i,s,o){var n=this;for(this.chart.isAnimating=!0,o=o||J.easing.linear,i&&this.animations.push({startTime:(new Date).getTime()+(t||0),duration:e,animationCallback:i,onComplete:s}),t=[];0<this.animations.length;)e=this.animations.shift(),i=(new Date).getTime(),s=0,e.startTime<=i&&(s=o(Math.min(i-e.startTime,e.duration),0,1,e.duration),s=Math.min(s,1),isNaN(s)||!isFinite(s))&&(s=1),1>s&&t.push(e),e.animationCallback(s),1<=s&&e.onComplete&&e.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,(function(){n.animate.call(n)})):this.chart.isAnimating=!1},q.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var J={yScaleAnimation:function(t,e){if(0!==t){var i=e.dest,s=e.source.canvas,o=e.animationBase;i.drawImage(s,0,0,s.width,s.height,0,o-o*t,i.canvas.width/dt,t*i.canvas.height/dt)}},xScaleAnimation:function(t,e){if(0!==t){var i=e.dest,s=e.source.canvas,o=e.animationBase;i.drawImage(s,0,0,s.width,s.height,o-o*t,0,t*i.canvas.width/dt,i.canvas.height/dt)}},xClipAnimation:function(t,e){if(0!==t){var i=e.dest,s=e.source.canvas;i.save(),0<t&&i.drawImage(s,0,0,s.width*t,s.height,0,0,s.width*t/dt,s.height/dt),i.restore()}},fadeInAnimation:function(t,e){if(0!==t){var i=e.dest,s=e.source.canvas;i.save(),i.globalAlpha=t,i.drawImage(s,0,0,s.width,s.height,0,0,i.canvas.width/dt,i.canvas.height/dt),i.restore()}},easing:{linear:function(t,e,i,s){return i*t/s+e},easeOutQuad:function(t,e,i,s){return-i*(t/=s)*(t-2)+e},easeOutQuart:function(t,e,i,s){return-i*((t=t/s-1)*t*t*t-1)+e},easeInQuad:function(t,e,i,s){return i*(t/=s)*t+e},easeInQuart:function(t,e,i,s){return i*(t/=s)*t*t*t+e}}},tt={drawMarker:function(t,e,i,s,o,n,a,r){if(i){var h=1;i.fillStyle=n||"#000000",i.strokeStyle=a||"#000000",i.lineWidth=r||0,i.setLineDash&&i.setLineDash(g("solid",r)),"circle"===s?(i.moveTo(t,e),i.beginPath(),i.arc(t,e,o/2,0,2*Math.PI,!1),n&&i.fill(),r&&(a?i.stroke():(h=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=h))):"square"===s?(i.beginPath(),i.rect(t-o/2,e-o/2,o,o),n&&i.fill(),r&&(a?i.stroke():(h=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=h))):"triangle"===s?(i.beginPath(),i.moveTo(t-o/2,e+o/2),i.lineTo(t+o/2,e+o/2),i.lineTo(t,e-o/2),i.closePath(),n&&i.fill(),r&&(a?i.stroke():(h=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=h)),i.beginPath()):"cross"===s&&(i.strokeStyle=n,i.lineWidth=o/4,i.beginPath(),i.moveTo(t-o/2,e-o/2),i.lineTo(t+o/2,e+o/2),i.stroke(),i.moveTo(t+o/2,e-o/2),i.lineTo(t-o/2,e+o/2),i.stroke())}},drawMarkers:function(t){for(var e=0;e<t.length;e++){var i=t[e];tt.drawMarker(i.x,i.y,i.ctx,i.type,i.size,i.color,i.borderColor,i.borderThickness)}}};return e}(),gt.Chart.version="v2.3.1 GA"}(),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new c(this))}function e(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function i(t){t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),t.styleSheets.ex_canvas_||((t=t.createStyleSheet()).owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function s(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function o(t){(t=t.srcElement).firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function n(t,e){for(var i=[[1,0,0],[0,1,0],[0,0,1]],s=0;3>s;s++)for(var o=0;3>o;o++){for(var n=0,a=0;3>a;a++)n+=t[s][a]*e[a][o];i[s][o]=n}return i}function a(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function r(t){var e=t.indexOf("(",3),i=t.indexOf(")",e+1);return 4==(e=t.substring(e+1,i).split(",")).length&&"a"==t.charAt(3)||(e[3]=1),e}function h(t,e,i){return Math.min(i,Math.max(e,t))}function l(t,e,i){return 0>i&&i++,1<i&&i--,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}function d(t){if(t in F)return F[t];var e,i=1;if("#"==(t=String(t)).charAt(0))e=t;else if(/^rgb/.test(t)){i=r(t),e="#";for(var s,o=0;3>o;o++)s=-1!=i[o].indexOf("%")?Math.floor(parseFloat(i[o])/100*255):+i[o],e+=A[h(s,0,255)];i=+i[3]}else if(/^hsl/.test(t)){if(o=i=r(t),0>(e=parseFloat(o[0])/360%360)&&e++,s=h(parseFloat(o[1])/100,0,1),o=h(parseFloat(o[2])/100,0,1),0==s)s=o=e=o;else{var n=.5>o?o*(1+s):o+s-o*s,a=2*o-n;s=l(a,n,e+1/3),o=l(a,n,e),e=l(a,n,e-1/3)}e="#"+A[Math.floor(255*s)]+A[Math.floor(255*o)]+A[Math.floor(255*e)],i=i[3]}else e=B[t]||t;return F[t]={color:e,alpha:i}}function c(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*C,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",i=t.ownerDocument.createElement("div");i.style.cssText=e,t.appendChild(i),(e=i.cloneNode(!1)).style.backgroundColor="red",e.style.filter="alpha(opacity=0)",t.appendChild(e),this.element_=i,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function u(t,e,i,s){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:s.x,y:s.y}),t.currentX_=s.x,t.currentY_=s.y}function p(t,e){var i=(s=d(t.strokeStyle)).color,s=s.alpha*t.globalAlpha,o=t.lineScale_*t.lineWidth;1>o&&(s*=o),e.push("<g_vml_:stroke",' opacity="',s,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',L[t.lineCap]||"square",'"',' weight="',o,'px"',' color="',i,'" />')}function m(t,e,i,s){var o=t.fillStyle,n=t.arcScaleX_,a=t.arcScaleY_,r=s.x-i.x,h=s.y-i.y;if(o instanceof v){var l=0,c=s=0,u=0,p=1;if("gradient"==o.type_){l=o.x1_/n,i=o.y1_/a;var m=f(t,o.x0_/n,o.y0_/a);l=f(t,l,i);0>(l=180*Math.atan2(l.x-m.x,l.y-m.y)/Math.PI)&&(l+=360),1e-6>l&&(l=0)}else s=((m=f(t,o.x0_,o.y0_)).x-i.x)/r,c=(m.y-i.y)/h,r/=n*C,h/=a*C,p=x.max(r,h),u=2*o.r0_/p,p=2*o.r1_/p-u;(n=o.colors_).sort((function(t,e){return t.offset-e.offset})),a=n.length,m=n[0].color,i=n[a-1].color,r=n[0].alpha*t.globalAlpha,t=n[a-1].alpha*t.globalAlpha;h=[];for(var g=0;g<a;g++){var b=n[g];h.push(b.offset*p+u+" "+b.color)}e.push('<g_vml_:fill type="',o.type_,'"',' method="none" focus="100%"',' color="',m,'"',' color2="',i,'"',' colors="',h.join(","),'"',' opacity="',t,'"',' g_o_:opacity2="',r,'"',' angle="',l,'"',' focusposition="',s,",",c,'" />')}else o instanceof y?r&&h&&e.push("<g_vml_:fill",' position="',-i.x/r*n*n,",",-i.y/h*a*a,'"',' type="tile"',' src="',o.src_,'" />'):(o=d(t.fillStyle),e.push('<g_vml_:fill color="',o.color,'" opacity="',o.alpha*t.globalAlpha,'" />'))}function f(t,e,i){return t=t.m_,{x:C*(e*t[0][0]+i*t[1][0]+t[2][0])-S,y:C*(e*t[0][1]+i*t[1][1]+t[2][1])-S}}function g(t,e,i){isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])&&(t.m_=e,i&&(t.lineScale_=T(M(e[0][0]*e[1][1]-e[0][1]*e[1][0]))))}function v(t){this.type_=t,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function y(t,e){if(!t||1!=t.nodeType||"IMG"!=t.tagName)throw new b("TYPE_MISMATCH_ERR");if("complete"!=t.readyState)throw new b("INVALID_STATE_ERR");switch(e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:throw new b("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function b(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var x=Math,w=x.round,_=x.sin,k=x.cos,M=x.abs,T=x.sqrt,C=10,S=C/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var P=Array.prototype.slice;i(document);var D={init:function(t){(t=t||document).createElement("canvas"),t.attachEvent("onreadystatechange",function(t,e,i){var s=P.call(arguments,2);return function(){return t.apply(e,s.concat(P.call(arguments)))}}(this.init_,this,t))},init_:function(t){t=t.getElementsByTagName("canvas");for(var e=0;e<t.length;e++)this.initElement(t[e])},initElement:function(e){if(!e.getContext){e.getContext=t,i(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",s),e.attachEvent("onresize",o);var n=e.attributes;n.width&&n.width.specified?e.style.width=n.width.nodeValue+"px":e.width=e.clientWidth,n.height&&n.height.specified?e.style.height=n.height.nodeValue+"px":e.height=e.clientHeight}return e}};D.init();for(var A=[],I=0;16>I;I++)for(var O=0;16>O;O++)A[16*I+O]=I.toString(16)+O.toString(16);var B={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},F={},E={},L={butt:"flat",round:"round"};(I=c.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},I.beginPath=function(){this.currentPath_=[]},I.moveTo=function(t,e){var i=f(this,t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},I.lineTo=function(t,e){var i=f(this,t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},I.bezierCurveTo=function(t,e,i,s,o,n){o=f(this,o,n),u(this,t=f(this,t,e),i=f(this,i,s),o)},I.quadraticCurveTo=function(t,e,i,s){t=f(this,t,e),i=f(this,i,s),u(this,s={x:this.currentX_+2/3*(t.x-this.currentX_),y:this.currentY_+2/3*(t.y-this.currentY_)},{x:s.x+(i.x-this.currentX_)/3,y:s.y+(i.y-this.currentY_)/3},i)},I.arc=function(t,e,i,s,o,n){i*=C;var a=n?"at":"wa",r=t+k(s)*i-S,h=e+_(s)*i-S;s=t+k(o)*i-S,o=e+_(o)*i-S,r!=s||n||(r+=.125),t=f(this,t,e),r=f(this,r,h),s=f(this,s,o),this.currentPath_.push({type:a,x:t.x,y:t.y,radius:i,xStart:r.x,yStart:r.y,xEnd:s.x,yEnd:s.y})},I.rect=function(t,e,i,s){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath()},I.strokeRect=function(t,e,i,s){var o=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath(),this.stroke(),this.currentPath_=o},I.fillRect=function(t,e,i,s){var o=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath(),this.fill(),this.currentPath_=o},I.createLinearGradient=function(t,e,i,s){var o=new v("gradient");return o.x0_=t,o.y0_=e,o.x1_=i,o.y1_=s,o},I.createRadialGradient=function(t,e,i,s,o,n){var a=new v("gradientradial");return a.x0_=t,a.y0_=e,a.r0_=i,a.x1_=s,a.y1_=o,a.r1_=n,a},I.drawImage=function(t,e){var i,s,o,n,a,r,h,l;o=t.runtimeStyle.width,n=t.runtimeStyle.height,t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var d=t.width,c=t.height;if(t.runtimeStyle.width=o,t.runtimeStyle.height=n,3==arguments.length)i=arguments[1],s=arguments[2],a=r=0,h=o=d,l=n=c;else if(5==arguments.length)i=arguments[1],s=arguments[2],o=arguments[3],n=arguments[4],a=r=0,h=d,l=c;else{if(9!=arguments.length)throw Error("Invalid number of arguments");a=arguments[1],r=arguments[2],h=arguments[3],l=arguments[4],i=arguments[5],s=arguments[6],o=arguments[7],n=arguments[8]}var u=f(this,i,s),p=[];if(p.push(" <g_vml_:group",' coordsize="',10*C,",",10*C,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var m=[];m.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",w(u.x/C),",","Dy=",w(u.y/C),"");var g=f(this,i+o,s),v=f(this,i,s+n);i=f(this,i+o,s+n),u.x=x.max(u.x,g.x,v.x,i.x),u.y=x.max(u.y,g.y,v.y,i.y),p.push("padding:0 ",w(u.x/C),"px ",w(u.y/C),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",m.join(""),", sizingmethod='clip');")}else p.push("top:",w(u.y/C),"px;left:",w(u.x/C),"px;");p.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',C*o,"px;"," height:",C*n,'px"',' cropleft="',a/d,'"',' croptop="',r/c,'"',' cropright="',(d-a-h)/d,'"',' cropbottom="',(c-r-l)/c,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))},I.stroke=function(t){var e=[];e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*C,",",10*C,'"',' stroked="',!t,'"',' path="');for(var i={x:null,y:null},s={x:null,y:null},o=0;o<this.currentPath_.length;o++){var n=this.currentPath_[o];switch(n.type){case"moveTo":e.push(" m ",w(n.x),",",w(n.y));break;case"lineTo":e.push(" l ",w(n.x),",",w(n.y));break;case"close":e.push(" x "),n=null;break;case"bezierCurveTo":e.push(" c ",w(n.cp1x),",",w(n.cp1y),",",w(n.cp2x),",",w(n.cp2y),",",w(n.x),",",w(n.y));break;case"at":case"wa":e.push(" ",n.type," ",w(n.x-this.arcScaleX_*n.radius),",",w(n.y-this.arcScaleY_*n.radius)," ",w(n.x+this.arcScaleX_*n.radius),",",w(n.y+this.arcScaleY_*n.radius)," ",w(n.xStart),",",w(n.yStart)," ",w(n.xEnd),",",w(n.yEnd))}n&&((null==i.x||n.x<i.x)&&(i.x=n.x),(null==s.x||n.x>s.x)&&(s.x=n.x),(null==i.y||n.y<i.y)&&(i.y=n.y),(null==s.y||n.y>s.y)&&(s.y=n.y))}e.push(' ">'),t?m(this,e,i,s):p(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},I.fill=function(){this.stroke(!0)},I.closePath=function(){this.currentPath_.push({type:"close"})},I.save=function(){var t={};a(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=n([[1,0,0],[0,1,0],[0,0,1]],this.m_)},I.restore=function(){this.aStack_.length&&(a(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},I.translate=function(t,e){g(this,n([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},I.rotate=function(t){var e=k(t);g(this,n([[e,t=_(t),0],[-t,e,0],[0,0,1]],this.m_),!1)},I.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,g(this,n([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},I.transform=function(t,e,i,s,o,a){g(this,n([[t,e,0],[i,s,0],[o,a,1]],this.m_),!0)},I.setTransform=function(t,e,i,s,o,n){g(this,[[t,e,0],[i,s,0],[o,n,1]],!0)},I.drawText_=function(t,i,s,o,n){var a=this.m_;o=0;var r,h=1e3,l=0,d=[];if(r=this.font,E[r])r=E[r];else{var c=document.createElement("div").style;try{c.font=r}catch(t){}r=E[r]={style:c.fontStyle||"normal",variant:c.fontVariant||"normal",weight:c.fontWeight||"normal",size:c.fontSize||10,family:c.fontFamily||"sans-serif"}}c=r;var u=this.element_;for(var g in r={},c)r[g]=c[g];switch(g=parseFloat(u.currentStyle.fontSize),u=parseFloat(c.size),"number"==typeof c.size?r.size=c.size:-1!=c.size.indexOf("px")?r.size=u:-1!=c.size.indexOf("em")?r.size=g*u:-1!=c.size.indexOf("%")?r.size=g/100*u:-1!=c.size.indexOf("pt")?r.size=u/.75:r.size=g,r.size*=.981,g=r.style+" "+r.variant+" "+r.weight+" "+r.size+"px "+r.family,u=this.element_.currentStyle,c=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":c="ltr"==u.direction?"right":"left";break;case"start":c="rtl"==u.direction?"right":"left";break;default:c="left"}switch(this.textBaseline){case"hanging":case"top":l=r.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":l=-r.size/2.25}switch(c){case"right":o=1e3,h=.05;break;case"center":o=h=500}i=f(this,i+0,s+l),d.push('<g_vml_:line from="',-o,' 0" to="',h,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!n,'" stroked="',!!n,'" style="position:absolute;width:1px;height:1px;">'),n?p(this,d):m(this,d,{x:-o,y:0},{x:h,y:r.size}),n=a[0][0].toFixed(3)+","+a[1][0].toFixed(3)+","+a[0][1].toFixed(3)+","+a[1][1].toFixed(3)+",0,0",i=w(i.x/C)+","+w(i.y/C),d.push('<g_vml_:skew on="t" matrix="',n,'" ',' offset="',i,'" origin="',o,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',e(t),'" style="v-text-align:',c,";font:",e(g),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",d.join(""))},I.fillText=function(t,e,i,s){this.drawText_(t,e,i,s,!1)},I.strokeText=function(t,e,i,s){this.drawText_(t,e,i,s,!0)},I.measureText=function(t){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var e=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(e.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},I.clip=function(){},I.arcTo=function(){},I.createPattern=function(t,e){return new y(t,e)},v.prototype.addColorStop=function(t,e){e=d(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},(I=b.prototype=Error()).INDEX_SIZE_ERR=1,I.DOMSTRING_SIZE_ERR=2,I.HIERARCHY_REQUEST_ERR=3,I.WRONG_DOCUMENT_ERR=4,I.INVALID_CHARACTER_ERR=5,I.NO_DATA_ALLOWED_ERR=6,I.NO_MODIFICATION_ALLOWED_ERR=7,I.NOT_FOUND_ERR=8,I.NOT_SUPPORTED_ERR=9,I.INUSE_ATTRIBUTE_ERR=10,I.INVALID_STATE_ERR=11,I.SYNTAX_ERR=12,I.INVALID_MODIFICATION_ERR=13,I.NAMESPACE_ERR=14,I.INVALID_ACCESS_ERR=15,I.VALIDATION_ERR=16,I.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=D,CanvasRenderingContext2D=c,CanvasGradient=v,CanvasPattern=y,DOMException=b}()},function(t,e,i){"use strict";i.r(e),i.d(e,"createGraph",(function(){return r})),i.d(e,"createCanvasJsChart",(function(){return h}));var s=i(0),o=i.n(s),n=i(1),a=i.n(n);function r(t,e,i){var s=document.getElementById(t);return new o.a.Network(s,e,i)}function h(t,e){new a.a.Chart(t,e).render()}}]);